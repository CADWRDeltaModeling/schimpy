
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>schimpy package &#8212; schimpy 1.2.1+1.ge1e6d39.dirty documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="History" href="history.html" />
    <link rel="prev" title="schimpy" href="modules.html" /> 
  </head><body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="index.html"><img src="_static/logo6.png" border="0" alt="Bay-Delta SELFE Tools"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="history.html" title="History"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="schimpy"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">home</a>|&nbsp;</li>
        <li><a href="search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">schimpy</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">schimpy package</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">schimpy package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-schimpy.Interp2D">schimpy.Interp2D module</a></li>
<li><a class="reference internal" href="#module-schimpy.base_io">schimpy.base_io module</a></li>
<li><a class="reference internal" href="#module-schimpy.batch_metrics">schimpy.batch_metrics module</a></li>
<li><a class="reference internal" href="#module-schimpy.bay_delta_hotstart">schimpy.bay_delta_hotstart module</a></li>
<li><a class="reference internal" href="#module-schimpy.bound_linear">schimpy.bound_linear module</a></li>
<li><a class="reference internal" href="#module-schimpy.cencoos_download">schimpy.cencoos_download module</a></li>
<li><a class="reference internal" href="#module-schimpy.check_mesh_skewness">schimpy.check_mesh_skewness module</a></li>
<li><a class="reference internal" href="#module-schimpy.clip_dems">schimpy.clip_dems module</a></li>
<li><a class="reference internal" href="#module-schimpy.combine_consume">schimpy.combine_consume module</a></li>
<li><a class="reference internal" href="#module-schimpy.combine_flux">schimpy.combine_flux module</a></li>
<li><a class="reference internal" href="#module-schimpy.contour_smooth">schimpy.contour_smooth module</a></li>
<li><a class="reference internal" href="#module-schimpy.convert_linestrings">schimpy.convert_linestrings module</a></li>
<li><a class="reference internal" href="#module-schimpy.convert_mesh">schimpy.convert_mesh module</a></li>
<li><a class="reference internal" href="#module-schimpy.convert_polygons">schimpy.convert_polygons module</a></li>
<li><a class="reference internal" href="#module-schimpy.convert_sav_class_to_number">schimpy.convert_sav_class_to_number module</a></li>
<li><a class="reference internal" href="#module-schimpy.create_mesh_n_levels">schimpy.create_mesh_n_levels module</a></li>
<li><a class="reference internal" href="#module-schimpy.create_vgrid_lsc2">schimpy.create_vgrid_lsc2 module</a></li>
<li><a class="reference internal" href="#module-schimpy.cut_mesh">schimpy.cut_mesh module</a></li>
<li><a class="reference internal" href="#module-schimpy.embed_raster">schimpy.embed_raster module</a></li>
<li><a class="reference internal" href="#module-schimpy.gaussian_quadrature">schimpy.gaussian_quadrature module</a></li>
<li><a class="reference internal" href="#module-schimpy.gen_elev2D">schimpy.gen_elev2D module</a></li>
<li><a class="reference internal" href="#module-schimpy.geo_tools">schimpy.geo_tools module</a></li>
<li><a class="reference internal" href="#module-schimpy.gr3">schimpy.gr3 module</a></li>
<li><a class="reference internal" href="#module-schimpy.grid_opt">schimpy.grid_opt module</a></li>
<li><a class="reference internal" href="#module-schimpy.hotstart_generator">schimpy.hotstart_generator module</a></li>
<li><a class="reference internal" href="#module-schimpy.laplace_smooth_data">schimpy.laplace_smooth_data module</a></li>
<li><a class="reference internal" href="#module-schimpy.lsc2">schimpy.lsc2 module</a></li>
<li><a class="reference internal" href="#module-schimpy.material_poly">schimpy.material_poly module</a></li>
<li><a class="reference internal" href="#module-schimpy.metricsplot">schimpy.metricsplot module</a></li>
<li><a class="reference internal" href="#module-schimpy.model_time">schimpy.model_time module</a></li>
<li><a class="reference internal" href="#module-schimpy.plot_default_formats">schimpy.plot_default_formats module</a></li>
<li><a class="reference internal" href="#module-schimpy.polygons">schimpy.polygons module</a></li>
<li><a class="reference internal" href="#module-schimpy.prepare_schism">schimpy.prepare_schism module</a></li>
<li><a class="reference internal" href="#module-schimpy.priority_queue">schimpy.priority_queue module</a></li>
<li><a class="reference internal" href="#schimpy-raster-to-nodes-module">schimpy.raster_to_nodes module</a></li>
<li><a class="reference internal" href="#module-schimpy.read_output_xyt">schimpy.read_output_xyt module</a></li>
<li><a class="reference internal" href="#module-schimpy.schimpy">schimpy.schimpy module</a></li>
<li><a class="reference internal" href="#module-schimpy.schism_hotstart">schimpy.schism_hotstart module</a></li>
<li><a class="reference internal" href="#module-schimpy.schism_input">schimpy.schism_input module</a></li>
<li><a class="reference internal" href="#module-schimpy.schism_linestring">schimpy.schism_linestring module</a></li>
<li><a class="reference internal" href="#module-schimpy.schism_mesh">schimpy.schism_mesh module</a></li>
<li><a class="reference internal" href="#module-schimpy.schism_polygon">schimpy.schism_polygon module</a></li>
<li><a class="reference internal" href="#module-schimpy.schism_setup">schimpy.schism_setup module</a></li>
<li><a class="reference internal" href="#module-schimpy.schism_source">schimpy.schism_source module</a></li>
<li><a class="reference internal" href="#module-schimpy.schism_structure">schimpy.schism_structure module</a></li>
<li><a class="reference internal" href="#module-schimpy.schism_vertical_mesh">schimpy.schism_vertical_mesh module</a></li>
<li><a class="reference internal" href="#module-schimpy.schism_yaml">schimpy.schism_yaml module</a></li>
<li><a class="reference internal" href="#module-schimpy.separate_species">schimpy.separate_species module</a></li>
<li><a class="reference internal" href="#module-schimpy.simulation_timing">schimpy.simulation_timing module</a></li>
<li><a class="reference internal" href="#module-schimpy.small_areas">schimpy.small_areas module</a></li>
<li><a class="reference internal" href="#module-schimpy.sms2gr3">schimpy.sms2gr3 module</a></li>
<li><a class="reference internal" href="#module-schimpy.split_quad">schimpy.split_quad module</a></li>
<li><a class="reference internal" href="#module-schimpy.stacked_dem_fill">schimpy.stacked_dem_fill module</a></li>
<li><a class="reference internal" href="#module-schimpy.station">schimpy.station module</a></li>
<li><a class="reference internal" href="#module-schimpy.trimesh">schimpy.trimesh module</a></li>
<li><a class="reference internal" href="#module-schimpy.triquadmesh">schimpy.triquadmesh module</a></li>
<li><a class="reference internal" href="#module-schimpy.unit_conversions">schimpy.unit_conversions module</a></li>
<li><a class="reference internal" href="#module-schimpy.vgrid_opt2">schimpy.vgrid_opt2 module</a></li>
<li><a class="reference internal" href="#module-schimpy.write_ts">schimpy.write_ts module</a></li>
<li><a class="reference internal" href="#module-schimpy">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="modules.html"
                        title="previous chapter">schimpy</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="history.html"
                        title="next chapter">History</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/schimpy.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="schimpy-package">
<h1>schimpy package<a class="headerlink" href="#schimpy-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-schimpy.Interp2D">
<span id="schimpy-interp2d-module"></span><h2>schimpy.Interp2D module<a class="headerlink" href="#module-schimpy.Interp2D" title="Permalink to this headline">¶</a></h2>
<p>invdisttree.py: inverse-distance-weighted interpolation using KDTree
fast, solid, local</p>
<dl class="py class">
<dt id="schimpy.Interp2D.Invdisttree">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.Interp2D.</code><code class="sig-name descname">Invdisttree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">z</span></em>, <em class="sig-param"><span class="n">leafsize</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">stat</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/Interp2D.html#Invdisttree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.Interp2D.Invdisttree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Inverse-distance-weighted interpolation using KDTree</p>
<p class="rubric">Notes</p>
<p>If the components of the X coordinates measure different things, Euclidean distance
can be way off.  For example, if X0 is in the range 0 to 1
but X1 0 to 1000, the X1 distances will swamp X0;
rescale the data, i.e. make X0.std() ~= X1.std() .</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">invdisttree</span> <span class="o">=</span> <span class="n">Invdisttree</span><span class="p">(</span> <span class="n">X</span><span class="p">,</span> <span class="n">z</span> <span class="p">)</span>  <span class="o">--</span> <span class="n">data</span> <span class="n">points</span><span class="p">,</span> <span class="n">values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interpol</span> <span class="o">=</span> <span class="n">invdisttree</span><span class="p">(</span> <span class="n">q</span><span class="p">,</span> <span class="n">nnear</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="mi">0</span> <span class="p">)</span>
<span class="go"># interpolates z from the 3 points nearest each query point q;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interpol</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
</pre></div>
</div>
<p>Finds the 3 data points nearest point q, at distances d1 d2 d3
and returns the IDW average of the values z1 z2 z3    
.. math:: (z1/d1 + z2/d2 + z3/d3) / (1/d1 + 1/d2 + 1/d3) = .55 z1 + .27 z2 + .18 z3</p>
<p>How many nearest neighbors should one take?
1. start with 8 11 14 .. 28 in 2d 3d 4d .. 10d; see Wendel’s formula
2. make 3 runs with nnear= e.g. 6 8 10, and look at the results</p>
<p>There is also a parameter p that weights nearer points more, farther points less.
In 2d, the circles around query points have <span class="math notranslate nohighlight">\(areas ~ distance^2\)</span>
So p=2 is essentially inverse-area weighting:</p>
<div class="math notranslate nohighlight">
\[\]</div>
<p>(z1/area1 + z2/area2 + z3/area3)/ (1/area1 + 1/area2 + 1/area3) = .74 z1 + .18 z2 + .08 z3</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(q[, nnear, eps, p, weights, …])</p></td>
<td><p>Apply the interpolator to find nearest neighbors of each query point</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-schimpy.base_io">
<span id="schimpy-base-io-module"></span><h2>schimpy.base_io module<a class="headerlink" href="#module-schimpy.base_io" title="Permalink to this headline">¶</a></h2>
<p>This module is a simple common base for text file IO.
&#64;outhor: Kijin Nam, <a class="reference external" href="mailto:knam&#37;&#52;&#48;water&#46;ca&#46;gov">knam<span>&#64;</span>water<span>&#46;</span>ca<span>&#46;</span>gov</a></p>
<dl class="py class">
<dt id="schimpy.base_io.BaseIO">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.base_io.</code><code class="sig-name descname">BaseIO</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/base_io.html#BaseIO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.base_io.BaseIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Common IO routines to handle text inputs</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>linecounter</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="schimpy.base_io.BaseIO.linecounter">
<em class="property">property </em><code class="sig-name descname">linecounter</code><a class="headerlink" href="#schimpy.base_io.BaseIO.linecounter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-schimpy.batch_metrics">
<span id="schimpy-batch-metrics-module"></span><h2>schimpy.batch_metrics module<a class="headerlink" href="#module-schimpy.batch_metrics" title="Permalink to this headline">¶</a></h2>
<p>Create metrics plots in a batch mode
Python version 2.7</p>
<dl class="py function">
<dt id="schimpy.batch_metrics.generate_metricsplots">
<code class="sig-prename descclassname">schimpy.batch_metrics.</code><code class="sig-name descname">generate_metricsplots</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path_inputfile</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/batch_metrics.html#generate_metricsplots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.batch_metrics.generate_metricsplots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.bay_delta_hotstart">
<span id="schimpy-bay-delta-hotstart-module"></span><h2>schimpy.bay_delta_hotstart module<a class="headerlink" href="#module-schimpy.bay_delta_hotstart" title="Permalink to this headline">¶</a></h2>
<p>A script to create a hotstart.in for the Bay-Delta</p>
<dl class="py function">
<dt id="schimpy.bay_delta_hotstart.bay_delta_hotstart_with_cdec_stations">
<code class="sig-prename descclassname">schimpy.bay_delta_hotstart.</code><code class="sig-name descname">bay_delta_hotstart_with_cdec_stations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/bay_delta_hotstart.html#bay_delta_hotstart_with_cdec_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.bay_delta_hotstart.bay_delta_hotstart_with_cdec_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a hotstart file with USGS cruise data and CDEC data
If CDEC data is not given, a constant salinity is set</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>args: namespace</strong></dt><dd><p>command line arguments parsed by argparse</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.bay_delta_hotstart.create_arg_parser">
<code class="sig-prename descclassname">schimpy.bay_delta_hotstart.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/bay_delta_hotstart.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.bay_delta_hotstart.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an ArgumentParser for Bay-Delta hotsart</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.bay_delta_hotstart.main">
<code class="sig-prename descclassname">schimpy.bay_delta_hotstart.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/bay_delta_hotstart.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.bay_delta_hotstart.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function for command line run</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.bay_delta_hotstart.process_cruise_data">
<code class="sig-prename descclassname">schimpy.bay_delta_hotstart.</code><code class="sig-name descname">process_cruise_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cruise</span></em>, <em class="sig-param"><span class="n">constituent</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/bay_delta_hotstart.html#process_cruise_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.bay_delta_hotstart.process_cruise_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect and process what we need</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl>
<dt>dict</dt><dd><p>a dictionary with two keys, ‘header’ and ‘data’.
The value corresponding to ‘header’ key is list of column items.
The value corresponding to ‘data’ key is a dictionary whose key
is station_id and value is a list of values.</p>
<p>The structure of this data is not convenient or easy to understand.
It will be updated later.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.bound_linear">
<span id="schimpy-bound-linear-module"></span><h2>schimpy.bound_linear module<a class="headerlink" href="#module-schimpy.bound_linear" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.bound_linear.bound_linear">
<code class="sig-prename descclassname">schimpy.bound_linear.</code><code class="sig-name descname">bound_linear</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">z</span></em>, <em class="sig-param"><span class="n">z_low</span></em>, <em class="sig-param"><span class="n">z_high</span></em>, <em class="sig-param"><span class="n">val_low</span></em>, <em class="sig-param"><span class="n">val_high</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/bound_linear.html#bound_linear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.bound_linear.bound_linear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.cencoos_download">
<span id="schimpy-cencoos-download-module"></span><h2>schimpy.cencoos_download module<a class="headerlink" href="#module-schimpy.cencoos_download" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.cencoos_download.cencoos_schism_opendap">
<code class="sig-prename descclassname">schimpy.cencoos_download.</code><code class="sig-name descname">cencoos_schism_opendap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lat_lo</span></em>, <em class="sig-param"><span class="n">lon_lo</span></em>, <em class="sig-param"><span class="n">lat_hi</span></em>, <em class="sig-param"><span class="n">lon_hi</span></em>, <em class="sig-param"><span class="n">file_base</span></em>, <em class="sig-param"><span class="n">to_cache</span></em>, <em class="sig-param"><span class="n">from_cache</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/cencoos_download.html#cencoos_schism_opendap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.cencoos_download.cencoos_schism_opendap" title="Permalink to this definition">¶</a></dt>
<dd><p>Download cencoos opendap data for all time based on a bounding set of lat/lon 
file_base : str prefix for files
to_cache :  bool whether to stash data in numpy arrays to make it easier next time
from_cache : use cache rather than download)</p>
<p>The strategy for this download may change with time. When the script was originally
written, blocking the query in time was very inefficient</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.cencoos_download.merc_to_latlon">
<code class="sig-prename descclassname">schimpy.cencoos_download.</code><code class="sig-name descname">merc_to_latlon</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/cencoos_download.html#merc_to_latlon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.cencoos_download.merc_to_latlon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.cencoos_download.time_block_report">
<code class="sig-prename descclassname">schimpy.cencoos_download.</code><code class="sig-name descname">time_block_report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">told</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/cencoos_download.html#time_block_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.cencoos_download.time_block_report" title="Permalink to this definition">¶</a></dt>
<dd><p>This routine is for reporting incremental timing of parts of the script</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.check_mesh_skewness">
<span id="schimpy-check-mesh-skewness-module"></span><h2>schimpy.check_mesh_skewness module<a class="headerlink" href="#module-schimpy.check_mesh_skewness" title="Permalink to this headline">¶</a></h2>
<p>Calculate skewness of elements form gr3 file</p>
<dl class="py function">
<dt id="schimpy.check_mesh_skewness.calculate_skewness">
<code class="sig-prename descclassname">schimpy.check_mesh_skewness.</code><code class="sig-name descname">calculate_skewness</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">mask_tri</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/check_mesh_skewness.html#calculate_skewness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.check_mesh_skewness.calculate_skewness" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate skewness of elements</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mesh: schism_mesh</strong></dt><dd></dd>
<dt><strong>normalize: bool, optional</strong></dt><dd><p>Normalize skewness if True.</p>
</dd>
<dt><strong>mask_tri: bool, optional</strong></dt><dd><p>If true, mask skewness of triangular elements with zero</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.check_mesh_skewness.create_arg_parser">
<code class="sig-prename descclassname">schimpy.check_mesh_skewness.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/check_mesh_skewness.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.check_mesh_skewness.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an argument parser</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.check_mesh_skewness.main">
<code class="sig-prename descclassname">schimpy.check_mesh_skewness.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/check_mesh_skewness.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.check_mesh_skewness.main" title="Permalink to this definition">¶</a></dt>
<dd><p>main function</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.check_mesh_skewness.write_prop">
<code class="sig-prename descclassname">schimpy.check_mesh_skewness.</code><code class="sig-name descname">write_prop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/check_mesh_skewness.html#write_prop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.check_mesh_skewness.write_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a prop file with a prop vector</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.clip_dems">
<span id="schimpy-clip-dems-module"></span><h2>schimpy.clip_dems module<a class="headerlink" href="#module-schimpy.clip_dems" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.clip_dems.bounding_coords">
<code class="sig-prename descclassname">schimpy.clip_dems.</code><code class="sig-name descname">bounding_coords</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/clip_dems.html#bounding_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.clip_dems.bounding_coords" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.clip_dems.clip_dem">
<code class="sig-prename descclassname">schimpy.clip_dems.</code><code class="sig-name descname">clip_dem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xlo</span></em>, <em class="sig-param"><span class="n">xhi</span></em>, <em class="sig-param"><span class="n">demlist</span><span class="o">=</span><span class="default_value">'dem.txt'</span></em>, <em class="sig-param"><span class="n">outformat</span><span class="o">=</span><span class="default_value">'AAIGrid'</span></em>, <em class="sig-param"><span class="n">hshift</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">'clipped'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/clip_dems.html#clip_dem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.clip_dems.clip_dem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.clip_dems.create_arg_parser">
<code class="sig-prename descclassname">schimpy.clip_dems.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/clip_dems.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.clip_dems.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.clip_dems.main">
<code class="sig-prename descclassname">schimpy.clip_dems.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/clip_dems.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.clip_dems.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.combine_consume">
<span id="schimpy-combine-consume-module"></span><h2>schimpy.combine_consume module<a class="headerlink" href="#module-schimpy.combine_consume" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.combine_consume.appears_done">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">appears_done</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wdir</span></em>, <em class="sig-param"><span class="n">fb</span></em>, <em class="sig-param"><span class="n">exten</span></em>, <em class="sig-param"><span class="n">firstblock</span></em>, <em class="sig-param"><span class="n">lastblock</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#appears_done"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.appears_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Decide if entire file block already appears to have been combined based on existence of combined file. Date not checked</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.archive_blocks">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">archive_blocks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ar_file</span></em>, <em class="sig-param"><span class="n">tbase</span></em>, <em class="sig-param"><span class="n">blocks_per_day</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">ndxmin</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">ndxmax</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#archive_blocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.archive_blocks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.combine">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">combine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wdir</span></em>, <em class="sig-param"><span class="n">blocks</span></em>, <em class="sig-param"><span class="n">fbase</span></em>, <em class="sig-param"><span class="n">combine_exe</span></em>, <em class="sig-param"><span class="n">consume</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">assume_done</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.combine" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.combine_consume">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">combine_consume</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">is_test</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#combine_consume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.combine_consume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.combine_hotstart">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">combine_hotstart</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wdir</span></em>, <em class="sig-param"><span class="n">combine_hotstart_exe</span></em>, <em class="sig-param"><span class="n">minstep</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">maxstep</span><span class="o">=</span><span class="default_value">99999999</span></em>, <em class="sig-param"><span class="n">consume</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#combine_hotstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.combine_hotstart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.create_arg_parser">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create argument parser for</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.detect_min_max_index">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">detect_min_max_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wdir</span></em>, <em class="sig-param"><span class="n">sample_fbase</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#detect_min_max_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.detect_min_max_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.do_combine">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">do_combine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wdir</span></em>, <em class="sig-param"><span class="n">begin</span></em>, <em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">filebase</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#do_combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.do_combine" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.do_combine_hotstart">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">do_combine_hotstart</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wdir</span></em>, <em class="sig-param"><span class="n">step</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#do_combine_hotstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.do_combine_hotstart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.failed_incomplete">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">failed_incomplete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">e</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#failed_incomplete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.failed_incomplete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.gather_ppf_names">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">gather_ppf_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wdir</span></em>, <em class="sig-param"><span class="n">blocks</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#gather_ppf_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.gather_ppf_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.main">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.prune_ppf_files">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">prune_ppf_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wdir</span></em>, <em class="sig-param"><span class="n">blocks</span></em>, <em class="sig-param"><span class="n">fbase</span></em>, <em class="sig-param"><span class="n">list_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#prune_ppf_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.prune_ppf_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.setup">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wdir</span></em>, <em class="sig-param"><span class="n">filebase</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.split">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">alist</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.split" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_consume.touch">
<code class="sig-prename descclassname">schimpy.combine_consume.</code><code class="sig-name descname">touch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">times</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_consume.html#touch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_consume.touch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.combine_flux">
<span id="schimpy-combine-flux-module"></span><h2>schimpy.combine_flux module<a class="headerlink" href="#module-schimpy.combine_flux" title="Permalink to this headline">¶</a></h2>
<p>Command line tool to merge possibly overlapping flux.dat files from hotstart runs</p>
<dl class="py function">
<dt id="schimpy.combine_flux.combine_flux">
<code class="sig-prename descclassname">schimpy.combine_flux.</code><code class="sig-name descname">combine_flux</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">infiles</span></em>, <em class="sig-param"><span class="n">outfile</span></em>, <em class="sig-param"><span class="n">prefer_last</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_flux.html#combine_flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_flux.combine_flux" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge possibly overlapping flux.dat files from hostart runs</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.combine_flux.create_arg_parser">
<code class="sig-prename descclassname">schimpy.combine_flux.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_flux.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_flux.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.combine_flux.main">
<code class="sig-prename descclassname">schimpy.combine_flux.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_flux.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_flux.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Driver to parse arguments</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.combine_flux.test_combine_flux">
<code class="sig-prename descclassname">schimpy.combine_flux.</code><code class="sig-name descname">test_combine_flux</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/combine_flux.html#test_combine_flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.combine_flux.test_combine_flux" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.contour_smooth">
<span id="schimpy-contour-smooth-module"></span><h2>schimpy.contour_smooth module<a class="headerlink" href="#module-schimpy.contour_smooth" title="Permalink to this headline">¶</a></h2>
<p>This module contains tools for a smoother for DEMs (currently tiff format) based on curvature flow
The algorithm is based on one by Malladi and Sethian, and results in a simplification of contours while allowing
sharp gradients as long as they are persistent. So it is <em>not</em> a cure for pressure gradient errors a la Hannah.
The script shows some artefacts of a time when it wasn’t particularly stable and could run out of memory. 
In particular, the algorithm dumps out intermediate arrays as it goes along and these have to be visualized or saved
using the appropriate subcommands or functions. Stability is no longer an issue – it has been good for quite a while.
Not so sure about memory. I’ve not tested a big problem yet on a big DEM on 64bit python.</p>
<dl class="py class">
<dt id="schimpy.contour_smooth.RasterWrapper">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.contour_smooth.</code><code class="sig-name descname">RasterWrapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/contour_smooth.html#RasterWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.contour_smooth.RasterWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>write_copy</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.contour_smooth.RasterWrapper.write_copy">
<code class="sig-name descname">write_copy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/contour_smooth.html#RasterWrapper.write_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.contour_smooth.RasterWrapper.write_copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.contour_smooth.calc_f">
<code class="sig-prename descclassname">schimpy.contour_smooth.</code><code class="sig-name descname">calc_f</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">width_shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/contour_smooth.html#calc_f"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.contour_smooth.calc_f" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the right hand side of the semi-discretized operator (in space) so that it can be integrated in time</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.contour_smooth.contour_smooth">
<code class="sig-prename descclassname">schimpy.contour_smooth.</code><code class="sig-name descname">contour_smooth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span></em>, <em class="sig-param"><span class="n">scales</span></em>, <em class="sig-param"><span class="n">max_time</span></em>, <em class="sig-param"><span class="n">nstep</span></em>, <em class="sig-param"><span class="n">report_interval</span></em>, <em class="sig-param"><span class="n">fill_val</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/contour_smooth.html#contour_smooth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.contour_smooth.contour_smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Driver function for smoothing a DEM</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.contour_smooth.contour_smooth2d">
<code class="sig-prename descclassname">schimpy.contour_smooth.</code><code class="sig-name descname">contour_smooth2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dem</span></em>, <em class="sig-param"><span class="n">scales</span></em>, <em class="sig-param"><span class="n">max_time</span></em>, <em class="sig-param"><span class="n">nstep</span></em>, <em class="sig-param"><span class="n">report_interval</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/contour_smooth.html#contour_smooth2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.contour_smooth.contour_smooth2d" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.contour_smooth.create_arg_parser">
<code class="sig-prename descclassname">schimpy.contour_smooth.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/contour_smooth.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.contour_smooth.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.contour_smooth.save_smooth">
<code class="sig-prename descclassname">schimpy.contour_smooth.</code><code class="sig-name descname">save_smooth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dumpfile</span></em>, <em class="sig-param"><span class="n">original</span></em>, <em class="sig-param"><span class="n">outfile</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/contour_smooth.html#save_smooth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.contour_smooth.save_smooth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.contour_smooth.view_smooth">
<code class="sig-prename descclassname">schimpy.contour_smooth.</code><code class="sig-name descname">view_smooth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file0</span></em>, <em class="sig-param"><span class="n">file1</span></em>, <em class="sig-param"><span class="n">levels</span></em>, <em class="sig-param"><span class="n">vmin</span></em>, <em class="sig-param"><span class="n">vmax</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/contour_smooth.html#view_smooth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.contour_smooth.view_smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>View the dumped files to graphically explore smoothing progress</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.convert_linestrings">
<span id="schimpy-convert-linestrings-module"></span><h2>schimpy.convert_linestrings module<a class="headerlink" href="#module-schimpy.convert_linestrings" title="Permalink to this headline">¶</a></h2>
<p>Command line tool to convert SCHISM line strings in YAML
to Shapefile and vice versa</p>
<dl class="py function">
<dt id="schimpy.convert_linestrings.create_arg_parser">
<code class="sig-prename descclassname">schimpy.convert_linestrings.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/convert_linestrings.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.convert_linestrings.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an argument parser</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.convert_linestrings.main">
<code class="sig-prename descclassname">schimpy.convert_linestrings.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/convert_linestrings.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.convert_linestrings.main" title="Permalink to this definition">¶</a></dt>
<dd><p>A main function to convert polygon files</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.convert_mesh">
<span id="schimpy-convert-mesh-module"></span><h2>schimpy.convert_mesh module<a class="headerlink" href="#module-schimpy.convert_mesh" title="Permalink to this headline">¶</a></h2>
<p>Mesh converter</p>
<dl class="py function">
<dt id="schimpy.convert_mesh.convert_mesh">
<code class="sig-prename descclassname">schimpy.convert_mesh.</code><code class="sig-name descname">convert_mesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/convert_mesh.html#convert_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.convert_mesh.convert_mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.convert_mesh.create_arg_parser">
<code class="sig-prename descclassname">schimpy.convert_mesh.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/convert_mesh.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.convert_mesh.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.convert_mesh.main">
<code class="sig-prename descclassname">schimpy.convert_mesh.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/convert_mesh.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.convert_mesh.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.convert_polygons">
<span id="schimpy-convert-polygons-module"></span><h2>schimpy.convert_polygons module<a class="headerlink" href="#module-schimpy.convert_polygons" title="Permalink to this headline">¶</a></h2>
<p>Command line tool to convert SCHISM polygons in YAML
to Shapefile and vice versa</p>
<dl class="py function">
<dt id="schimpy.convert_polygons.create_arg_parser">
<code class="sig-prename descclassname">schimpy.convert_polygons.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/convert_polygons.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.convert_polygons.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an argument parser</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.convert_polygons.main">
<code class="sig-prename descclassname">schimpy.convert_polygons.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/convert_polygons.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.convert_polygons.main" title="Permalink to this definition">¶</a></dt>
<dd><p>A main function to convert polygon files</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.convert_sav_class_to_number">
<span id="schimpy-convert-sav-class-to-number-module"></span><h2>schimpy.convert_sav_class_to_number module<a class="headerlink" href="#module-schimpy.convert_sav_class_to_number" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.convert_sav_class_to_number.create_arg_parse">
<code class="sig-prename descclassname">schimpy.convert_sav_class_to_number.</code><code class="sig-name descname">create_arg_parse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/convert_sav_class_to_number.html#create_arg_parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.convert_sav_class_to_number.create_arg_parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Create argument parser
Parameters
———-</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.convert_sav_class_to_number.main">
<code class="sig-prename descclassname">schimpy.convert_sav_class_to_number.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/convert_sav_class_to_number.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.convert_sav_class_to_number.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.convert_sav_class_to_number.read_density_tiff">
<code class="sig-prename descclassname">schimpy.convert_sav_class_to_number.</code><code class="sig-name descname">read_density_tiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_densitiy_tiff</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/convert_sav_class_to_number.html#read_density_tiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.convert_sav_class_to_number.read_density_tiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Read geotiff values for density
It is assumed that the projected regular coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath_densitiy_tiff: str</strong></dt><dd><p>filename for SAV desity diff</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>3D array containing x’s, y’s, and density. The shape is (n_x, n_y, 3)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.create_mesh_n_levels">
<span id="schimpy-create-mesh-n-levels-module"></span><h2>schimpy.create_mesh_n_levels module<a class="headerlink" href="#module-schimpy.create_mesh_n_levels" title="Permalink to this headline">¶</a></h2>
<p>Create a mesh file with the number of vertical levels as nodal value</p>
<dl class="py function">
<dt id="schimpy.create_mesh_n_levels.create_arg_parser">
<code class="sig-prename descclassname">schimpy.create_mesh_n_levels.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/create_mesh_n_levels.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.create_mesh_n_levels.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an argument parser</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.create_mesh_n_levels.main">
<code class="sig-prename descclassname">schimpy.create_mesh_n_levels.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/create_mesh_n_levels.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.create_mesh_n_levels.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Just a main function</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.create_vgrid_lsc2">
<span id="schimpy-create-vgrid-lsc2-module"></span><h2>schimpy.create_vgrid_lsc2 module<a class="headerlink" href="#module-schimpy.create_vgrid_lsc2" title="Permalink to this headline">¶</a></h2>
<p>Create LSC2 vertical grid lsc2.py</p>
<p>The min and max layers can be specified in polygons in yaml or shp
with minlayer and maxlayer attributes.</p>
<dl class="py function">
<dt id="schimpy.create_vgrid_lsc2.create_arg_parser">
<code class="sig-prename descclassname">schimpy.create_vgrid_lsc2.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/create_vgrid_lsc2.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.create_vgrid_lsc2.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create argument parser for</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.create_vgrid_lsc2.main">
<code class="sig-prename descclassname">schimpy.create_vgrid_lsc2.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/create_vgrid_lsc2.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.create_vgrid_lsc2.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.create_vgrid_lsc2.plot_vgrid">
<code class="sig-prename descclassname">schimpy.create_vgrid_lsc2.</code><code class="sig-name descname">plot_vgrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hgrid_file</span></em>, <em class="sig-param"><span class="n">vgrid0_file</span></em>, <em class="sig-param"><span class="n">vgrid_file</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">transectfiles</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/create_vgrid_lsc2.html#plot_vgrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.create_vgrid_lsc2.plot_vgrid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.create_vgrid_lsc2.vgrid_gen">
<code class="sig-prename descclassname">schimpy.create_vgrid_lsc2.</code><code class="sig-name descname">vgrid_gen</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hgrid</span></em>, <em class="sig-param"><span class="n">vgrid_out</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">minmaxlayerfile</span></em>, <em class="sig-param"><span class="n">archive_nlayer</span><span class="o">=</span><span class="default_value">'out'</span></em>, <em class="sig-param"><span class="n">nlayer_gr3</span><span class="o">=</span><span class="default_value">'nlayer.gr3'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/create_vgrid_lsc2.html#vgrid_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.create_vgrid_lsc2.vgrid_gen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.cut_mesh">
<span id="schimpy-cut-mesh-module"></span><h2>schimpy.cut_mesh module<a class="headerlink" href="#module-schimpy.cut_mesh" title="Permalink to this headline">¶</a></h2>
<p>Functions to cut certain parts in the mesh by cutting lines.</p>
<dl class="py function">
<dt id="schimpy.cut_mesh.cut_mesh">
<code class="sig-prename descclassname">schimpy.cut_mesh.</code><code class="sig-name descname">cut_mesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_gr3_in</span></em>, <em class="sig-param"><span class="n">lines</span></em>, <em class="sig-param"><span class="n">fpath_gr3_out</span></em>, <em class="sig-param"><span class="n">cut_side</span><span class="o">=</span><span class="default_value">'left'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/cut_mesh.html#cut_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.cut_mesh.cut_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove elements of a mesh in one side of cutting polyline segments.
A mesh is read in from a gr3, and a result mesh is written in another
gr3 file.
A user needs to be careful that line segments forms a closed division.
Otherwise, all elements would be deleted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath_gr3_in</strong></dt><dd><p>Filename of the input grid in gr3</p>
</dd>
<dt><strong>lines: array-like</strong></dt><dd><p>An array of coordinates of line segments specifying the location
of cuts</p>
</dd>
<dt><strong>fpath_gr3_out</strong></dt><dd><p>Filename of the output grid in gr3</p>
</dd>
<dt><strong>cut_side: str, optional</strong></dt><dd><p>If cut_side is ‘left,’ which is default, the left side of cutting
lines when one sees the second point from the first point of a line
will be removed.
If this value is ‘right,’ the right side will be removed.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.cut_mesh.read_lines">
<code class="sig-prename descclassname">schimpy.cut_mesh.</code><code class="sig-name descname">read_lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/cut_mesh.html#read_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.cut_mesh.read_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Read coordinates of cutting line segments from a plain text file.
The expected format is:
x1 y1 x2 y2
in each line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong></dt><dd><p>Name of a file containing coordinates of cutting lines</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>list</dt><dd><p>List of coordinates of cutting lines</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.cut_mesh.read_lines_from_shapefile">
<code class="sig-prename descclassname">schimpy.cut_mesh.</code><code class="sig-name descname">read_lines_from_shapefile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/cut_mesh.html#read_lines_from_shapefile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.cut_mesh.read_lines_from_shapefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Read coordinates of cutting line segments from a ESRI Shapefile
containing line features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong></dt><dd><p>Name of a file containing coordinates of cutting lines</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>list</dt><dd><p>List of coordinates of cutting lines</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.embed_raster">
<span id="schimpy-embed-raster-module"></span><h2>schimpy.embed_raster module<a class="headerlink" href="#module-schimpy.embed_raster" title="Permalink to this headline">¶</a></h2>
<p>Embed finer gridded data in coarser, using curvature flow smoothing to reconcile</p>
<p>Main function is called embed_fine</p>
<dl class="py function">
<dt id="schimpy.embed_raster.create_arg_parser">
<code class="sig-prename descclassname">schimpy.embed_raster.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/embed_raster.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.embed_raster.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.embed_raster.embed_raster">
<code class="sig-prename descclassname">schimpy.embed_raster.</code><code class="sig-name descname">embed_raster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_fg</span></em>, <em class="sig-param"><span class="n">input_bg</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">nsmooth_init</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">nsmooth_final</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">max_time_init</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">max_time_final</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">nstep</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">report_interval</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/embed_raster.html#embed_raster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.embed_raster.embed_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Embed a smoother DEM in a coarser</p>
<p>The two inputs and output are filenames. The basic plans is this:
1. Smooth the fine data enough to resample without aliasing or distortion
2. Interpolate/resample the result to the coarser mesh
3. Where the result of 1-2 has good data, replace coarser data
4. Smooth the final grid lightly to remove kinks/discontinuity</p>
<p>The smoothing is done with contour_smooth2d</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.gaussian_quadrature">
<span id="schimpy-gaussian-quadrature-module"></span><h2>schimpy.gaussian_quadrature module<a class="headerlink" href="#module-schimpy.gaussian_quadrature" title="Permalink to this headline">¶</a></h2>
<p>Gaussian quadrature in 2D space</p>
<dl class="py class">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.gaussian_quadrature.</code><code class="sig-name descname">GaussianQuadrature</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Abstract base class of GaussianQuadrature</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature.average" title="schimpy.gaussian_quadrature.GaussianQuadrature.average"><code class="xref py py-obj docutils literal notranslate"><span class="pre">average</span></code></a>(vertices, values)</p></td>
<td><p>Calculate the average of the value over the domain.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature.calculate_quadrature_points_and_weights" title="schimpy.gaussian_quadrature.GaussianQuadrature.calculate_quadrature_points_and_weights"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_quadrature_points_and_weights</span></code></a>()</p></td>
<td><p>Calculate quadrature points and weights</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature.domain_size" title="schimpy.gaussian_quadrature.GaussianQuadrature.domain_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">domain_size</span></code></a>(vertices)</p></td>
<td><p>Abstract method to calculate the size of the domain</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature.integrate" title="schimpy.gaussian_quadrature.GaussianQuadrature.integrate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">integrate</span></code></a>(vertices[, values])</p></td>
<td><p>Integrate values over a quad element</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature.jacobian_det" title="schimpy.gaussian_quadrature.GaussianQuadrature.jacobian_det"><code class="xref py py-obj docutils literal notranslate"><span class="pre">jacobian_det</span></code></a>(vertices)</p></td>
<td><p>Determinant of Jacobian at quadrature points</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature.number_of_quadrature_points" title="schimpy.gaussian_quadrature.GaussianQuadrature.number_of_quadrature_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">number_of_quadrature_points</span></code></a>()</p></td>
<td><p>Get the number of quadrature points</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature.quadrature_vector" title="schimpy.gaussian_quadrature.GaussianQuadrature.quadrature_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">quadrature_vector</span></code></a>(vertices)</p></td>
<td><p>Create a quadrature matrix for quadrature integration Taking a dot product this quadrature matrix and the values at the quadrature points will result in quadrature</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature.shape" title="schimpy.gaussian_quadrature.GaussianQuadrature.shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape</span></code></a>(pts)</p></td>
<td><p>Abstract shape function</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature.shape_derivative" title="schimpy.gaussian_quadrature.GaussianQuadrature.shape_derivative"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape_derivative</span></code></a>(pts)</p></td>
<td><p>Abstract shape derivative function</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature.values_at_quadrature_points" title="schimpy.gaussian_quadrature.GaussianQuadrature.values_at_quadrature_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">values_at_quadrature_points</span></code></a>(values)</p></td>
<td><p>Get quadrature points</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature.average">
<code class="sig-name descname">average</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em>, <em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature.average"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature.average" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average of the value over the domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes)
The shape needs to be (:, 2) or more columns.
The values in the first two columns will be used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>float</dt><dd><p>the length of the line</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature.calculate_quadrature_points_and_weights">
<code class="sig-name descname">calculate_quadrature_points_and_weights</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature.calculate_quadrature_points_and_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature.calculate_quadrature_points_and_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate quadrature points and weights</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pts: np.ndarray</strong></dt><dd><p>Coordinates of the nodes</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>pts</strong><span class="classifier">real</span></dt><dd><p>quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature.domain_size">
<code class="sig-name descname">domain_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature.domain_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature.domain_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to calculate the size of the domain</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature.integrate">
<code class="sig-name descname">integrate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em>, <em class="sig-param"><span class="n">values</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature.integrate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate values over a quad element</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes) with values.
The shape needs to be (:, 2)</p>
</dd>
<dt><strong>values: numpy.array, optional</strong></dt><dd><p>A value vector at vertices
If it is not provided, the thrid column will be used
as values</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>float</dt><dd><p>result of integration</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature.jacobian_det">
<code class="sig-name descname">jacobian_det</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature.jacobian_det"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature.jacobian_det" title="Permalink to this definition">¶</a></dt>
<dd><p>Determinant of Jacobian at quadrature points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes)
The shape needs to be (:, 2) or more columns.
The values in the first two columns will be used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>array of determinant ant quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature.number_of_quadrature_points">
<code class="sig-name descname">number_of_quadrature_points</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature.number_of_quadrature_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature.number_of_quadrature_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of quadrature points</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>int</dt><dd><p>Number of quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature.quadrature_vector">
<code class="sig-name descname">quadrature_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature.quadrature_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature.quadrature_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a quadrature matrix for quadrature integration
Taking a dot product this quadrature matrix and the values
at the quadrature points will result in quadrature</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes) with values.
The shape needs to be (:, 2)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>two-dimensional matrix of quadrature matrix</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pts</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature.shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract shape function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pts: np.ndarray</strong></dt><dd><p>Coordinates of the nodes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature.shape_derivative">
<code class="sig-name descname">shape_derivative</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pts</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature.shape_derivative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature.shape_derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract shape derivative function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pts: np.ndarray</strong></dt><dd><p>Coordinates of the nodes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadrature.values_at_quadrature_points">
<code class="sig-name descname">values_at_quadrature_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadrature.values_at_quadrature_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadrature.values_at_quadrature_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Get quadrature points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>values: numpy.array</strong></dt><dd><p>values at quadrature points</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>values of Gaussian quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureLine2">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.gaussian_quadrature.</code><code class="sig-name descname">GaussianQuadratureLine2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureLine2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature" title="schimpy.gaussian_quadrature.GaussianQuadrature"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.gaussian_quadrature.GaussianQuadrature</span></code></a></p>
<p>Gaussian quadrature on line with two end points in 2-D space</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.average" title="schimpy.gaussian_quadrature.GaussianQuadratureLine2.average"><code class="xref py py-obj docutils literal notranslate"><span class="pre">average</span></code></a>(vertices, values)</p></td>
<td><p>Integrate values over a quad element</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.calculate_quadrature_points_and_weights" title="schimpy.gaussian_quadrature.GaussianQuadratureLine2.calculate_quadrature_points_and_weights"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_quadrature_points_and_weights</span></code></a>()</p></td>
<td><p>Calculate quadrature points and weights</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.domain_size" title="schimpy.gaussian_quadrature.GaussianQuadratureLine2.domain_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">domain_size</span></code></a>(vertices)</p></td>
<td><p>Size of domian, which is the length of the line in this case</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">integrate</span></code>(vertices[, values])</p></td>
<td><p>Integrate values over a quad element</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.jacobian_det" title="schimpy.gaussian_quadrature.GaussianQuadratureLine2.jacobian_det"><code class="xref py py-obj docutils literal notranslate"><span class="pre">jacobian_det</span></code></a>(vertices)</p></td>
<td><p>Determinant of Jacobian at quadrature points, 1-D version</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">number_of_quadrature_points</span></code>()</p></td>
<td><p>Get the number of quadrature points</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">quadrature_vector</span></code>(vertices)</p></td>
<td><p>Create a quadrature matrix for quadrature integration Taking a dot product this quadrature matrix and the values at the quadrature points will result in quadrature</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.shape" title="schimpy.gaussian_quadrature.GaussianQuadratureLine2.shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape</span></code></a>(pts)</p></td>
<td><p>Shape functions Ordering is counter-clockwise direction</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.shape_derivative" title="schimpy.gaussian_quadrature.GaussianQuadratureLine2.shape_derivative"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape_derivative</span></code></a>(pts)</p></td>
<td><p>Derivatives of shape functions</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values_at_quadrature_points</span></code>(values)</p></td>
<td><p>Get quadrature points</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureLine2.average">
<code class="sig-name descname">average</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em>, <em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureLine2.average"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.average" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate values over a quad element</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes) with values.
The shape needs to be (-1, 2)</p>
</dd>
<dt><strong>values: numpy.array</strong></dt><dd><p>The values at vertices</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>average</strong><span class="classifier">float</span></dt><dd><p>result of integration</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureLine2.calculate_quadrature_points_and_weights">
<code class="sig-name descname">calculate_quadrature_points_and_weights</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureLine2.calculate_quadrature_points_and_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.calculate_quadrature_points_and_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate quadrature points and weights</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pts: np.ndarray</strong></dt><dd><p>Coordinates of the nodes</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>pts</strong><span class="classifier">real</span></dt><dd><p>quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureLine2.domain_size">
<code class="sig-name descname">domain_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureLine2.domain_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.domain_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of domian, which is the length of the line in this case</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes)
The shape needs to be (2, 2) or more columns.
The values in the first two columns will be used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>float</dt><dd><p>the length of the line</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureLine2.jacobian_det">
<code class="sig-name descname">jacobian_det</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureLine2.jacobian_det"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.jacobian_det" title="Permalink to this definition">¶</a></dt>
<dd><p>Determinant of Jacobian at quadrature points, 1-D version</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes)
The shape needs to be (-1, 2) or more columns.
The values in the first two columns will be used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>array of determinant ant quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureLine2.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pts</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureLine2.shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape functions
Ordering is counter-clockwise direction</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pts: numpy.array</strong></dt><dd><p>Local coordinates.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>matrix of shape function value at the given points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureLine2.shape_derivative">
<code class="sig-name descname">shape_derivative</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pts</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureLine2.shape_derivative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureLine2.shape_derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Derivatives of shape functions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pts: numpy.array</strong></dt><dd><p>Local coordinates. The dimension is (-1, 2)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>matrix of shape function derivative wrt xi value at (<a href="#id1"><span class="problematic" id="id2">*</span></a>, eta)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureQuad4">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.gaussian_quadrature.</code><code class="sig-name descname">GaussianQuadratureQuad4</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureQuad4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature" title="schimpy.gaussian_quadrature.GaussianQuadrature"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.gaussian_quadrature.GaussianQuadrature</span></code></a></p>
<p>Gaussian Quadrature for a quadrilateral with four nodes</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">average</span></code>(vertices, values)</p></td>
<td><p>Calculate the average of the value over the domain.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4.calculate_quadrature_points_and_weights" title="schimpy.gaussian_quadrature.GaussianQuadratureQuad4.calculate_quadrature_points_and_weights"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_quadrature_points_and_weights</span></code></a>()</p></td>
<td><p>Calculate quadrature points and weights</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4.domain_size" title="schimpy.gaussian_quadrature.GaussianQuadratureQuad4.domain_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">domain_size</span></code></a>(vertices)</p></td>
<td><p>Size of domain, which is the area of the quadrilateral in this case.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">integrate</span></code>(vertices[, values])</p></td>
<td><p>Integrate values over a quad element</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4.jacobian" title="schimpy.gaussian_quadrature.GaussianQuadratureQuad4.jacobian"><code class="xref py py-obj docutils literal notranslate"><span class="pre">jacobian</span></code></a>(vertices[, local_coord])</p></td>
<td><p>Create a Jacobian matrix or matrixes at the given local coordinates</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">jacobian_det</span></code>(vertices)</p></td>
<td><p>Determinant of Jacobian at quadrature points</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">number_of_quadrature_points</span></code>()</p></td>
<td><p>Get the number of quadrature points</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">quadrature_vector</span></code>(vertices)</p></td>
<td><p>Create a quadrature matrix for quadrature integration Taking a dot product this quadrature matrix and the values at the quadrature points will result in quadrature</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4.shape" title="schimpy.gaussian_quadrature.GaussianQuadratureQuad4.shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape</span></code></a>(pts)</p></td>
<td><p>Shape functions Ordering is counter-clockwise direction</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4.shape_derivative" title="schimpy.gaussian_quadrature.GaussianQuadratureQuad4.shape_derivative"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape_derivative</span></code></a>(pts)</p></td>
<td><p>Derivatives of shape functions</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values_at_quadrature_points</span></code>(values)</p></td>
<td><p>Get quadrature points</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureQuad4.calculate_quadrature_points_and_weights">
<code class="sig-name descname">calculate_quadrature_points_and_weights</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureQuad4.calculate_quadrature_points_and_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4.calculate_quadrature_points_and_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate quadrature points and weights</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureQuad4.domain_size">
<code class="sig-name descname">domain_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureQuad4.domain_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4.domain_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of domain, which is the area of the quadrilateral
in this case.
The area is calculated with shoelace equation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes)
The shape needs to be (4, 2) or more columns.
The values in the first two columns will be used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>ret_size: float</dt><dd><p>the length of the line</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureQuad4.jacobian">
<code class="sig-name descname">jacobian</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em>, <em class="sig-param"><span class="n">local_coord</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureQuad4.jacobian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4.jacobian" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Jacobian matrix or matrixes at the given local
coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes)
The shape needs to be (4, 2) or more columns.
The values in the first two columns will be used.</p>
</dd>
<dt><strong>local_coord: numpy.array</strong></dt><dd><p>local coordinates where a Jacobian is calculated</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>Jacobian matrix</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureQuad4.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pts</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureQuad4.shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape functions
Ordering is counter-clockwise direction</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pts: numpy.array</strong></dt><dd><p>Local coordinates. The dimension is (-1, 2)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>matrix of shape function value at (xi, eta)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureQuad4.shape_derivative">
<code class="sig-name descname">shape_derivative</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pts</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureQuad4.shape_derivative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureQuad4.shape_derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Derivatives of shape functions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pts: numpy.array</strong></dt><dd><p>Local coordinates. The dimension is (-1, 2)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>matrix of shape function derivative wrt xi value at (<a href="#id3"><span class="problematic" id="id4">*</span></a>, eta)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureTri3">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.gaussian_quadrature.</code><code class="sig-name descname">GaussianQuadratureTri3</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureTri3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadrature" title="schimpy.gaussian_quadrature.GaussianQuadrature"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.gaussian_quadrature.GaussianQuadrature</span></code></a></p>
<p>Gaussian Quadrature for triangles with three nodes</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">average</span></code>(vertices, values)</p></td>
<td><p>Calculate the average of the value over the domain.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.calculate_quadrature_points_and_weights" title="schimpy.gaussian_quadrature.GaussianQuadratureTri3.calculate_quadrature_points_and_weights"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_quadrature_points_and_weights</span></code></a>()</p></td>
<td><p>Calculate quadrature points and weights</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.domain_size" title="schimpy.gaussian_quadrature.GaussianQuadratureTri3.domain_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">domain_size</span></code></a>(vertices)</p></td>
<td><p>Size of domian, which is the area of the quadrilateral in this case.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">integrate</span></code>(vertices[, values])</p></td>
<td><p>Integrate values over a quad element</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.jacobian" title="schimpy.gaussian_quadrature.GaussianQuadratureTri3.jacobian"><code class="xref py py-obj docutils literal notranslate"><span class="pre">jacobian</span></code></a>(vertices[, local_coord])</p></td>
<td><p>Create a Jacobian matrix or matrixes at the given local coordinates</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.jacobian_det" title="schimpy.gaussian_quadrature.GaussianQuadratureTri3.jacobian_det"><code class="xref py py-obj docutils literal notranslate"><span class="pre">jacobian_det</span></code></a>(vertices)</p></td>
<td><p>Determinant of Jacobian at quadrature points</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">number_of_quadrature_points</span></code>()</p></td>
<td><p>Get the number of quadrature points</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">quadrature_vector</span></code>(vertices)</p></td>
<td><p>Create a quadrature matrix for quadrature integration Taking a dot product this quadrature matrix and the values at the quadrature points will result in quadrature</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.shape" title="schimpy.gaussian_quadrature.GaussianQuadratureTri3.shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape</span></code></a>(pts)</p></td>
<td><p>Shape functions Ordering is counter-clockwise direction</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.shape_derivative" title="schimpy.gaussian_quadrature.GaussianQuadratureTri3.shape_derivative"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape_derivative</span></code></a>(pts)</p></td>
<td><p>Derivatives of shape functions</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values_at_quadrature_points</span></code>(values)</p></td>
<td><p>Get quadrature points</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureTri3.calculate_quadrature_points_and_weights">
<code class="sig-name descname">calculate_quadrature_points_and_weights</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureTri3.calculate_quadrature_points_and_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.calculate_quadrature_points_and_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate quadrature points and weights</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureTri3.domain_size">
<code class="sig-name descname">domain_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureTri3.domain_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.domain_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of domian, which is the area of the quadrilateral
in this case.
The area is calculated with shoelace equation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes)
The shape needs to be (3, 2) or more columns.
The values in the first two columns will be used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>float</dt><dd><p>the length of the line</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureTri3.jacobian">
<code class="sig-name descname">jacobian</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em>, <em class="sig-param"><span class="n">local_coord</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureTri3.jacobian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.jacobian" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Jacobian matrix or matrixes at the given local
coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes)
The shape needs to be (4, 2) or more columns.
The values in the first two columns will be used.</p>
</dd>
<dt><strong>local_coord: numpy.array</strong></dt><dd><p>local coordinates where a Jacobian is calculated</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>Jacobian matrix</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureTri3.jacobian_det">
<code class="sig-name descname">jacobian_det</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureTri3.jacobian_det"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.jacobian_det" title="Permalink to this definition">¶</a></dt>
<dd><p>Determinant of Jacobian at quadrature points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vertices: numpy.array</strong></dt><dd><p>coordinates of vertices (or nodes) but it is not used</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>array of determinant ant quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureTri3.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pts</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureTri3.shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape functions
Ordering is counter-clockwise direction</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pts: numpy.array</strong></dt><dd><p>Local coordinates. Not used</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>matrix of shape function value at (xi, eta)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gaussian_quadrature.GaussianQuadratureTri3.shape_derivative">
<code class="sig-name descname">shape_derivative</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pts</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gaussian_quadrature.html#GaussianQuadratureTri3.shape_derivative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gaussian_quadrature.GaussianQuadratureTri3.shape_derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Derivatives of shape functions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pts: numpy.array</strong></dt><dd><p>Local coordinates. Not used</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>matrix of shape function derivative wrt xi value at (<a href="#id5"><span class="problematic" id="id6">*</span></a>, eta)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-schimpy.gen_elev2D">
<span id="schimpy-gen-elev2d-module"></span><h2>schimpy.gen_elev2D module<a class="headerlink" href="#module-schimpy.gen_elev2D" title="Permalink to this headline">¶</a></h2>
<p>Generate elev2D.th for a Bay-Delta SCHSIM model using tides at
Point Reyes and Monterey.</p>
<p>2015-06-16: Customized</p>
<dl class="py class">
<dt id="schimpy.gen_elev2D.BinaryTHWriter">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.gen_elev2D.</code><code class="sig-name descname">BinaryTHWriter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_out</span></em>, <em class="sig-param"><span class="n">nloc</span></em>, <em class="sig-param"><span class="n">starttime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#BinaryTHWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.BinaryTHWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.gen_elev2D.THWriter" title="schimpy.gen_elev2D.THWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.gen_elev2D.THWriter</span></code></a></p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>write_all</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>write_step</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.gen_elev2D.BinaryTHWriter.write_all">
<code class="sig-name descname">write_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">times</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#BinaryTHWriter.write_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.BinaryTHWriter.write_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.gen_elev2D.BinaryTHWriter.write_step">
<code class="sig-name descname">write_step</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#BinaryTHWriter.write_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.BinaryTHWriter.write_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.gen_elev2D.NetCDFTHWriter">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.gen_elev2D.</code><code class="sig-name descname">NetCDFTHWriter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_out</span></em>, <em class="sig-param"><span class="n">nloc</span></em>, <em class="sig-param"><span class="n">starttime</span></em>, <em class="sig-param"><span class="n">dt</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#NetCDFTHWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.NetCDFTHWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.gen_elev2D.THWriter" title="schimpy.gen_elev2D.THWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.gen_elev2D.THWriter</span></code></a></p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>write_all</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>write_step</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.gen_elev2D.NetCDFTHWriter.write_all">
<code class="sig-name descname">write_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">times</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#NetCDFTHWriter.write_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.NetCDFTHWriter.write_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.gen_elev2D.NetCDFTHWriter.write_step">
<code class="sig-name descname">write_step</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#NetCDFTHWriter.write_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.NetCDFTHWriter.write_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.gen_elev2D.THWriter">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.gen_elev2D.</code><code class="sig-name descname">THWriter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">starttime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#THWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.THWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>write_all</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>write_step</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.gen_elev2D.THWriter.write_all">
<code class="sig-name descname">write_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">times</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#THWriter.write_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.THWriter.write_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.gen_elev2D.THWriter.write_step">
<code class="sig-name descname">write_step</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#THWriter.write_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.THWriter.write_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.gen_elev2D.create_arg_parser">
<code class="sig-prename descclassname">schimpy.gen_elev2D.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.gen_elev2D.gen_elev2D">
<code class="sig-prename descclassname">schimpy.gen_elev2D.</code><code class="sig-name descname">gen_elev2D</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hgrid_fpath</span></em>, <em class="sig-param"><span class="n">outfile</span></em>, <em class="sig-param"><span class="n">pt_reyes_fpath</span></em>, <em class="sig-param"><span class="n">monterey_fpath</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">slr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#gen_elev2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.gen_elev2D" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.gen_elev2D.main">
<code class="sig-prename descclassname">schimpy.gen_elev2D.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gen_elev2D.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gen_elev2D.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.geo_tools">
<span id="schimpy-geo-tools-module"></span><h2>schimpy.geo_tools module<a class="headerlink" href="#module-schimpy.geo_tools" title="Permalink to this headline">¶</a></h2>
<p>if “no arguments in initialization list” runtime error is seen for pyproj,
it is because that proj_def.dat file is missing.
Solution: find datadir for pyproj.
for example in C:UsersYourUserNameAppDataLocalContinuumanaconda3Libsite-packagespyprojdatadir
Open the file ‘datadir’.
changed …Anaconda3shareproj
to …Anaconda3Libraryshare (where proj_def.dat is).</p>
<dl class="py function">
<dt id="schimpy.geo_tools.Contiguity_Check">
<code class="sig-prename descclassname">schimpy.geo_tools.</code><code class="sig-name descname">Contiguity_Check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">poly_fn</span></em>, <em class="sig-param"><span class="n">centering</span><span class="o">=</span><span class="default_value">'nodes'</span></em>, <em class="sig-param"><span class="n">proj4</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/geo_tools.html#Contiguity_Check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.geo_tools.Contiguity_Check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the schism mesh division by the polygon features in poly_fn is contiguous.
The contiguity check is based on either node or element, and the function checks
1) if there are any orphaned nodes, and
2) if any nodes/elems were assigned to multiple polygons.</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.geo_tools.FindMultiPoly">
<code class="sig-prename descclassname">schimpy.geo_tools.</code><code class="sig-name descname">FindMultiPoly</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">poly_array</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/geo_tools.html#FindMultiPoly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.geo_tools.FindMultiPoly" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.geo_tools.Polylen">
<code class="sig-prename descclassname">schimpy.geo_tools.</code><code class="sig-name descname">Polylen</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">poly</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/geo_tools.html#Polylen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.geo_tools.Polylen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.geo_tools.ll2utm">
<code class="sig-prename descclassname">schimpy.geo_tools.</code><code class="sig-name descname">ll2utm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lonlat</span></em>, <em class="sig-param"><span class="n">proj4</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/geo_tools.html#ll2utm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.geo_tools.ll2utm" title="Permalink to this definition">¶</a></dt>
<dd><p>lonlat can be numpy arrays. lonlat = np.asarray([lon,lat])
default proj4 = “+proj=utm +zone=10 +datum=WGS84 +units=m +no_defs”</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.geo_tools.project_fun">
<code class="sig-prename descclassname">schimpy.geo_tools.</code><code class="sig-name descname">project_fun</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">proj4</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/geo_tools.html#project_fun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.geo_tools.project_fun" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.geo_tools.shapely_to_geopandas">
<code class="sig-prename descclassname">schimpy.geo_tools.</code><code class="sig-name descname">shapely_to_geopandas</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em>, <em class="sig-param"><span class="n">Proj4</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">shp_fn</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/geo_tools.html#shapely_to_geopandas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.geo_tools.shapely_to_geopandas" title="Permalink to this definition">¶</a></dt>
<dd><p>convert shapely features to geopandas and generate shapefiles as needed</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.geo_tools.utm2ll">
<code class="sig-prename descclassname">schimpy.geo_tools.</code><code class="sig-name descname">utm2ll</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">utm_xy</span></em>, <em class="sig-param"><span class="n">proj4</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/geo_tools.html#utm2ll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.geo_tools.utm2ll" title="Permalink to this definition">¶</a></dt>
<dd><p>utm_xy can be numpy arrays. utm_xy = np.asarray([utm_x,utm_y])
default proj4 = “+proj=utm +zone=10, +datum=WGS84 +units=m +no_defs”</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.gr3">
<span id="schimpy-gr3-module"></span><h2>schimpy.gr3 module<a class="headerlink" href="#module-schimpy.gr3" title="Permalink to this headline">¶</a></h2>
<p>Package to read a mesh in GR3 format.</p>
<dl class="py class">
<dt id="schimpy.gr3.Gr3IO">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.gr3.</code><code class="sig-name descname">Gr3IO</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gr3.html#Gr3IO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gr3.Gr3IO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.base_io.BaseIO" title="schimpy.base_io.BaseIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.base_io.BaseIO</span></code></a></p>
<p>A class that manages I/O of GR3 files</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>linecounter</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.gr3.Gr3IO.read" title="schimpy.gr3.Gr3IO.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a>([gr3_fname, mode])</p></td>
<td><p>Read in a hgrid.gr3 file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.gr3.Gr3IO.write" title="schimpy.gr3.Gr3IO.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(mesh, fname[, node_attr, boundary])</p></td>
<td><p>Write a GR3 format grid.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.gr3.Gr3IO.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gr3_fname</span><span class="o">=</span><span class="default_value">'hgrid.gr3'</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gr3.html#Gr3IO.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gr3.Gr3IO.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a hgrid.gr3 file.
If mode is 1, it does not read in boundary information.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.gr3.Gr3IO.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">node_attr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">boundary</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/gr3.html#Gr3IO.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.gr3.Gr3IO.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a GR3 format grid.
mesh = SCHISM mesh (schism_mesh) instance
fname = output file name
node_attr = a list of node attribute
boundary = If true, boundary information will be added. Otherwise,
it will not be appended.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-schimpy.grid_opt">
<span id="schimpy-grid-opt-module"></span><h2>schimpy.grid_opt module<a class="headerlink" href="#module-schimpy.grid_opt" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Module contains routines to perform grid optimization with two options:</dt><dd><ol class="arabic simple">
<li><p>lsqr without constraint to solve Ax=b (scipy.sparse.linalg.lsqr)</p></li>
<li><p>minimize function 1/2*||Ax-b||^2 using the L-BFGS-B algorithm (scipy.optimize.fmin_l_bfgs_b)</p></li>
</ol>
</dd>
</dl>
<p>x is depth at nodes with respect to a nominal reference surface (which may be greater than sea level in upstream locations).</p>
<p>Regularization:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>close to the original values for all nodes: damp</p></li>
<li><p>minimize the 1st derivative of node elevation along land boundaries: damp_shoreline</p></li>
</ol>
</div></blockquote>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>The function “cal_z_ref” only applies to the Bay Delta grid and need to be modified for other grids.</p></li>
<li><p>This script create an optimized gr3 file (_opt.gr3) only when one set of optimization parameters is specified.</p></li>
</ul>
</div></blockquote>
<p>First version, completed on 9/11/2013</p>
<dl class="py class">
<dt id="schimpy.grid_opt.GridOptimizer">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.grid_opt.</code><code class="sig-name descname">GridOptimizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Grid optimizer class</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.assemble_element_matrix" title="schimpy.grid_opt.GridOptimizer.assemble_element_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assemble_element_matrix</span></code></a>(areas)</p></td>
<td><p>Build a matrix for element optimization</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.assemble_face_matrix" title="schimpy.grid_opt.GridOptimizer.assemble_face_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assemble_face_matrix</span></code></a>(edges)</p></td>
<td><p>Build a matrix for face optimization The order of the quadrature is fixed</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.build_boundary_equations" title="schimpy.grid_opt.GridOptimizer.build_boundary_equations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_boundary_equations</span></code></a>(ref_surf_at_nodes)</p></td>
<td><p>Build a matrix and vector of land boundary constraints</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.build_global_matrix_and_vector" title="schimpy.grid_opt.GridOptimizer.build_global_matrix_and_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_global_matrix_and_vector</span></code></a>(params, …)</p></td>
<td><p>Build a global matrix and vector for optimization</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_depth_at_element_quad_points" title="schimpy.grid_opt.GridOptimizer.calculate_depth_at_element_quad_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_depth_at_element_quad_points</span></code></a>(…)</p></td>
<td><p>Calculate depth at quad points</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_depth_at_face_quad_points" title="schimpy.grid_opt.GridOptimizer.calculate_depth_at_face_quad_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_depth_at_face_quad_points</span></code></a>(edges, …)</p></td>
<td><p>Calculate depth at quad points</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_edge_lengths" title="schimpy.grid_opt.GridOptimizer.calculate_edge_lengths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_edge_lengths</span></code></a>(edges)</p></td>
<td><p>Calculate areas of all edges</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_element_areas" title="schimpy.grid_opt.GridOptimizer.calculate_element_areas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_element_areas</span></code></a>()</p></td>
<td><p>Calculate areas of all elements</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_element_volumes_w_dem" title="schimpy.grid_opt.GridOptimizer.calculate_element_volumes_w_dem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_element_volumes_w_dem</span></code></a>(depth_at_quads)</p></td>
<td><p>Calculate volumes of elements based on DEM</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_face_areas_w_dem" title="schimpy.grid_opt.GridOptimizer.calculate_face_areas_w_dem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_face_areas_w_dem</span></code></a>(edges, depth_at_quads)</p></td>
<td><p>Calculate area of faces based on DEM</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_max_elevation_in_balls" title="schimpy.grid_opt.GridOptimizer.calculate_max_elevation_in_balls"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_max_elevation_in_balls</span></code></a>(elev)</p></td>
<td><p>Calculate maximum elevation in a ball from a node</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_reference_surface" title="schimpy.grid_opt.GridOptimizer.calculate_reference_surface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_reference_surface</span></code></a>(coords)</p></td>
<td><p>Define reference water surface at locations specified in nodes based on the assumptions, which only applicable to Bay Delta grid (1) The surface elevation increases linearly from west (ocean) to east (2) east of (x_old_river, y_old_river), the elevation increases linearly towards the south</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_reference_surface_at_face_quadarture_points" title="schimpy.grid_opt.GridOptimizer.calculate_reference_surface_at_face_quadarture_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_reference_surface_at_face_quadarture_points</span></code></a>(…)</p></td>
<td><p>Calculate reference surface at quadrature points</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_reference_surface_maximum" title="schimpy.grid_opt.GridOptimizer.calculate_reference_surface_maximum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_reference_surface_maximum</span></code></a>()</p></td>
<td><p>Create reference surface elevation at individual nodes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_total_number_of_quadrature_points" title="schimpy.grid_opt.GridOptimizer.calculate_total_number_of_quadrature_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_total_number_of_quadrature_points</span></code></a>()</p></td>
<td><p>Calculate total number of quadrature points of the mesh with the given order</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_values_at_element_quadarture_points" title="schimpy.grid_opt.GridOptimizer.calculate_values_at_element_quadarture_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_values_at_element_quadarture_points</span></code></a>(values)</p></td>
<td><p>Calculate values at quadrature points</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.calculate_values_at_face_quadarture_points" title="schimpy.grid_opt.GridOptimizer.calculate_values_at_face_quadarture_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_values_at_face_quadarture_points</span></code></a>(…)</p></td>
<td><p>Calculate values at quadrature points</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.collect_edges" title="schimpy.grid_opt.GridOptimizer.collect_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collect_edges</span></code></a>([exclude_land_boundaries])</p></td>
<td><p>Collect edges for the optimization</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.collect_element_quadrature_points_for_dem" title="schimpy.grid_opt.GridOptimizer.collect_element_quadrature_points_for_dem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collect_element_quadrature_points_for_dem</span></code></a>()</p></td>
<td><p>Collect all quadrature points to calculate volumes of elements with DEM</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.collect_face_quadrature_points_for_dem" title="schimpy.grid_opt.GridOptimizer.collect_face_quadrature_points_for_dem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collect_face_quadrature_points_for_dem</span></code></a>(edges)</p></td>
<td><p>Collect all quadrature points to calculate areas of faces with DEM</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.count_boundary_equations" title="schimpy.grid_opt.GridOptimizer.count_boundary_equations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">count_boundary_equations</span></code></a>()</p></td>
<td><p>Count how many boundary constraint equations there are</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.get_dem_elevation" title="schimpy.grid_opt.GridOptimizer.get_dem_elevation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_dem_elevation</span></code></a>(list_of_points)</p></td>
<td><p>Get elevations from DEM</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.integrate_over_edges" title="schimpy.grid_opt.GridOptimizer.integrate_over_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">integrate_over_edges</span></code></a>(edges, values)</p></td>
<td><p>Integrate over edges with the values at nodes</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.integrate_over_elements" title="schimpy.grid_opt.GridOptimizer.integrate_over_elements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">integrate_over_elements</span></code></a>(values)</p></td>
<td><p>Integrate over elements with the values at nodes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.optimize" title="schimpy.grid_opt.GridOptimizer.optimize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">optimize</span></code></a>(params[, solver])</p></td>
<td><p>Perform a grid optimization</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.select_solver" title="schimpy.grid_opt.GridOptimizer.select_solver"><code class="xref py py-obj docutils literal notranslate"><span class="pre">select_solver</span></code></a>(solver)</p></td>
<td><p>Select solver</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.grid_opt.GridOptimizer.show_parameters" title="schimpy.grid_opt.GridOptimizer.show_parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show_parameters</span></code></a>(solver, param)</p></td>
<td><p>Show optimization parameters</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.assemble_element_matrix">
<code class="sig-name descname">assemble_element_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areas</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.assemble_element_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.assemble_element_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a matrix for element optimization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>areas: numpy.array</strong></dt><dd><p>areas of the elements</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.assemble_face_matrix">
<code class="sig-name descname">assemble_face_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.assemble_face_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.assemble_face_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a matrix for face optimization
The order of the quadrature is fixed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>edges: numpy.array</strong></dt><dd><p>list of edges</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>lil_matrix</dt><dd><p>matrix for face (edge) optimization</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.build_boundary_equations">
<code class="sig-name descname">build_boundary_equations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ref_surf_at_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.build_boundary_equations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.build_boundary_equations" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a matrix and vector of land boundary constraints</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.sparse.lil_matrix</dt><dd><p>Matrix of land boundary equations</p>
</dd>
<dt>numpy.array</dt><dd><p>Vector of land boundary equations</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.build_global_matrix_and_vector">
<code class="sig-name descname">build_global_matrix_and_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">mat_elem</span></em>, <em class="sig-param"><span class="n">mat_face</span></em>, <em class="sig-param"><span class="n">vec_elem</span></em>, <em class="sig-param"><span class="n">vec_face</span></em>, <em class="sig-param"><span class="n">mat_bnd</span></em>, <em class="sig-param"><span class="n">vec_bnd</span></em>, <em class="sig-param"><span class="n">depths_at_nodes</span></em>, <em class="sig-param"><span class="n">solver</span><span class="o">=</span><span class="default_value">'L-BFGS-B'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.build_global_matrix_and_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.build_global_matrix_and_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a global matrix and vector for optimization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>params: dict</strong></dt><dd><p>Dict of optimization parameters</p>
</dd>
<dt><strong>solver: str, optional</strong></dt><dd><p>solver name</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.sparce.lil_matrix</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_depth_at_element_quad_points">
<code class="sig-name descname">calculate_depth_at_element_quad_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elev_at_quads</span></em>, <em class="sig-param"><span class="n">ref_surf_at_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_depth_at_element_quad_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_depth_at_element_quad_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate depth at quad points</p>
<p>This depth is calculated by subtracting bottom elevation
at quadrature points from the reference surface at quadrature
points that is calculated by reference elevation at nodes
with shape functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>elev_at_quads: numpy.array</strong></dt><dd><p>Elevation vector at quadrature points</p>
</dd>
<dt><strong>ref_surf_at_nodes: numpy.array</strong></dt><dd><p>Reference elevation at nodes</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>Vector of depth at quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_depth_at_face_quad_points">
<code class="sig-name descname">calculate_depth_at_face_quad_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em>, <em class="sig-param"><span class="n">elev_at_quads</span></em>, <em class="sig-param"><span class="n">ref_surf_at_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_depth_at_face_quad_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_depth_at_face_quad_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate depth at quad points</p>
<p>This depth is calculated by subtracting bottom elevation
at quadrature points from the reference surface at quadrature
points that is calculated by reference elevation at nodes
with shape functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>elev_at_quads: numpy.array</strong></dt><dd><p>Elevation vector at quadrature points</p>
</dd>
<dt><strong>ref_surf_at_nodes: numpy.array</strong></dt><dd><p>Reference elevation at nodes</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>Vector of depth at quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_edge_lengths">
<code class="sig-name descname">calculate_edge_lengths</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_edge_lengths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_edge_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate areas of all edges</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.array</dt><dd><p>array of the areas of edges</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_element_areas">
<code class="sig-name descname">calculate_element_areas</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_element_areas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_element_areas" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate areas of all elements</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.array</dt><dd><p>array of the areas of elements</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_element_volumes_w_dem">
<code class="sig-name descname">calculate_element_volumes_w_dem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depth_at_quads</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_element_volumes_w_dem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_element_volumes_w_dem" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate volumes of elements based on DEM</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>depth_at_quad: numpy.array</strong></dt><dd><p>Vector of depth at the quadrature points</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>Volumes of elements</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_face_areas_w_dem">
<code class="sig-name descname">calculate_face_areas_w_dem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em>, <em class="sig-param"><span class="n">depth_at_quads</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_face_areas_w_dem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_face_areas_w_dem" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate area of faces based on DEM</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>edges: numpy.array</strong></dt><dd></dd>
<dt><strong>depth_at_quad: numpy.array</strong></dt><dd><p>Vector of depth at the quadrature points</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>Areas of faces</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_max_elevation_in_balls">
<code class="sig-name descname">calculate_max_elevation_in_balls</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elev</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_max_elevation_in_balls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_max_elevation_in_balls" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate maximum elevation in a ball from a node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>elev: numpy.array</strong></dt><dd><p>array of elevation at nodes</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>maximum elevation at nodes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_reference_surface">
<code class="sig-name descname">calculate_reference_surface</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coords</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_reference_surface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_reference_surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Define reference water surface at locations specified in nodes
based on the assumptions, which only applicable to Bay Delta grid
(1) The surface elevation increases linearly from west (ocean) to east
(2) east of (x_old_river, y_old_river), the elevation increases linearly towards the south</p>
<p>NOTE: This is Bay-Delta Specific. Coordinates for the calculation are hard-wired.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>coords: numpy.array</strong></dt><dd><p>Coordinates to calculate reference surface
The dimension of the array is (-1, 2) or more columns.
The first two columns are used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>Reference water surface for Bay-Delta</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_reference_surface_at_face_quadarture_points">
<code class="sig-name descname">calculate_reference_surface_at_face_quadarture_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ref_surf</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_reference_surface_at_face_quadarture_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_reference_surface_at_face_quadarture_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate reference surface at quadrature points</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_reference_surface_maximum">
<code class="sig-name descname">calculate_reference_surface_maximum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_reference_surface_maximum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_reference_surface_maximum" title="Permalink to this definition">¶</a></dt>
<dd><p>Create reference surface elevation at individual nodes</p>
<p>step 1: derive max elevation within connected elements
step 2: compare with the reference calculated by
calculate_reference_surface() and use the higher value
between the two</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.array</dt><dd><p>Vector of reference elevation at nodes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_total_number_of_quadrature_points">
<code class="sig-name descname">calculate_total_number_of_quadrature_points</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_total_number_of_quadrature_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_total_number_of_quadrature_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate total number of quadrature points of the mesh
with the given order</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>int</dt><dd><p>Total number of quadrature points of the mesh</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_values_at_element_quadarture_points">
<code class="sig-name descname">calculate_values_at_element_quadarture_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_values_at_element_quadarture_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_values_at_element_quadarture_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate values at quadrature points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>values: numpy.array</strong></dt><dd><p>A vector of nodal values</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>A vector of values at quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.calculate_values_at_face_quadarture_points">
<code class="sig-name descname">calculate_values_at_face_quadarture_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em>, <em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.calculate_values_at_face_quadarture_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.calculate_values_at_face_quadarture_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate values at quadrature points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>values: numpy.array</strong></dt><dd><p>A vector of nodal values</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>A vector of values at quadrature points</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.collect_edges">
<code class="sig-name descname">collect_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exclude_land_boundaries</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.collect_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.collect_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect edges for the optimization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>exclude_land_boundaries: bool, optional</strong></dt><dd><p>Switch to exclude land edges</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>matrix of nodal indices of edges</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.collect_element_quadrature_points_for_dem">
<code class="sig-name descname">collect_element_quadrature_points_for_dem</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.collect_element_quadrature_points_for_dem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.collect_element_quadrature_points_for_dem" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect all quadrature points to calculate volumes of elements
with DEM</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.array</dt><dd><p>Quadrature points of all elements</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.collect_face_quadrature_points_for_dem">
<code class="sig-name descname">collect_face_quadrature_points_for_dem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.collect_face_quadrature_points_for_dem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.collect_face_quadrature_points_for_dem" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect all quadrature points to calculate areas of faces
with DEM</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>edges: numpy.array</strong></dt><dd><p>list of edges containing indices of the two end nodes</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>Quadrature points of faces</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.count_boundary_equations">
<code class="sig-name descname">count_boundary_equations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.count_boundary_equations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.count_boundary_equations" title="Permalink to this definition">¶</a></dt>
<dd><p>Count how many boundary constraint equations there are</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.get_dem_elevation">
<code class="sig-name descname">get_dem_elevation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">list_of_points</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.get_dem_elevation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.get_dem_elevation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get elevations from DEM</p>
<p>Do this once to save time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>list_of_points: list of numpy.array</strong></dt><dd><p>array of coordinate matrices of points to get DEM elevations</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>list of numpy.array</dt><dd><p>list of elevation vectors</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.integrate_over_edges">
<code class="sig-name descname">integrate_over_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edges</span></em>, <em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.integrate_over_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.integrate_over_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate over edges with the values at nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>values: numpy.array</strong></dt><dd><p>Values at nodes to integrate</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>Vector of integration over each edge</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.integrate_over_elements">
<code class="sig-name descname">integrate_over_elements</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.integrate_over_elements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.integrate_over_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate over elements with the values at nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>values: numpy.array</strong></dt><dd><p>Values at nodes to integrate</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>Vector of integration over each element</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.optimize">
<code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">solver</span><span class="o">=</span><span class="default_value">'L-BFGS-B'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a grid optimization</p>
<p>Two solvers are available:
(1) L-BFGS-B (default): minimize function 1/2*||Ax-b||^2
(2) linear least square solver (Ax=b).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>params: dict</strong></dt><dd><p>Dict of optimization parameters</p>
</dd>
<dt><strong>solver: str, optional</strong></dt><dd><p>solver name</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.array</dt><dd><p>optimized elevation</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.select_solver">
<code class="sig-name descname">select_solver</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">solver</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.select_solver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.select_solver" title="Permalink to this definition">¶</a></dt>
<dd><p>Select solver</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solver: str</strong></dt><dd><p>Name of a solver for the optimization</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.grid_opt.GridOptimizer.show_parameters">
<code class="sig-name descname">show_parameters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">solver</span></em>, <em class="sig-param"><span class="n">param</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#GridOptimizer.show_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.GridOptimizer.show_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Show optimization parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solver: str</strong></dt><dd><p>solver name</p>
</dd>
<dt><strong>param: dict</strong></dt><dd><p>parameters for the optimization</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.grid_opt.create_arg_parser">
<code class="sig-prename descclassname">schimpy.grid_opt.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a argparse.ArgumentParser</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.grid_opt.fprime">
<code class="sig-prename descclassname">schimpy.grid_opt.</code><code class="sig-name descname">fprime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">A</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#fprime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.fprime" title="Permalink to this definition">¶</a></dt>
<dd><p>The gradient of the objective function with respect to the heights (x).
This gradient is a vector the same size as x.
A^T (Ax-b)</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.grid_opt.grid_opt_with_args">
<code class="sig-prename descclassname">schimpy.grid_opt.</code><code class="sig-name descname">grid_opt_with_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#grid_opt_with_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.grid_opt_with_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize grid with arguments parsed by argparse</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.grid_opt.init_logger">
<code class="sig-prename descclassname">schimpy.grid_opt.</code><code class="sig-name descname">init_logger</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#init_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.init_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a logger</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.grid_opt.main">
<code class="sig-prename descclassname">schimpy.grid_opt.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.main" title="Permalink to this definition">¶</a></dt>
<dd><p>A main function to manage command line run</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.grid_opt.object_func">
<code class="sig-prename descclassname">schimpy.grid_opt.</code><code class="sig-name descname">object_func</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">A</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/grid_opt.html#object_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.grid_opt.object_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Objective function for the optimization for L-BFGS-B</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.hotstart_generator">
<span id="schimpy-hotstart-generator-module"></span><h2>schimpy.hotstart_generator module<a class="headerlink" href="#module-schimpy.hotstart_generator" title="Permalink to this headline">¶</a></h2>
<p>Routine to create hotstart</p>
<dl class="py class">
<dt id="schimpy.hotstart_generator.HotstartGenerator">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.hotstart_generator.</code><code class="sig-name descname">HotstartGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elev</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">temp</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">salt</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#HotstartGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.HotstartGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Hotstart generator with node value functors.
Element and side values are averaged from node values.
No tracer is implemented.</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.hotstart_generator.HotstartGenerator.compute_depth" title="schimpy.hotstart_generator.HotstartGenerator.compute_depth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_depth</span></code></a>()</p></td>
<td><p>Calculate points in 3-D grid</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.hotstart_generator.HotstartGenerator.compute_variables" title="schimpy.hotstart_generator.HotstartGenerator.compute_variables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_variables</span></code></a>()</p></td>
<td><p>Compute variables</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.hotstart_generator.HotstartGenerator.write_hotstart" title="schimpy.hotstart_generator.HotstartGenerator.write_hotstart"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_hotstart</span></code></a>([fpath])</p></td>
<td><p>Write ‘hotstart.in’</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 66%" />
<col style="width: 34%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>create_hotstart</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>reset</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.hotstart_generator.HotstartGenerator.compute_depth">
<code class="sig-name descname">compute_depth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#HotstartGenerator.compute_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.HotstartGenerator.compute_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate points in 3-D grid</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.hotstart_generator.HotstartGenerator.compute_variables">
<code class="sig-name descname">compute_variables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#HotstartGenerator.compute_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.HotstartGenerator.compute_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute variables</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.hotstart_generator.HotstartGenerator.create_hotstart">
<code class="sig-name descname">create_hotstart</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">fpath_hotstart</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#HotstartGenerator.create_hotstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.HotstartGenerator.create_hotstart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.hotstart_generator.HotstartGenerator.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#HotstartGenerator.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.HotstartGenerator.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.hotstart_generator.HotstartGenerator.write_hotstart">
<code class="sig-name descname">write_hotstart</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#HotstartGenerator.write_hotstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.HotstartGenerator.write_hotstart" title="Permalink to this definition">¶</a></dt>
<dd><p>Write ‘hotstart.in’</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.hotstart_generator.NearestNeighborInitializer">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.hotstart_generator.</code><code class="sig-name descname">NearestNeighborInitializer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">stations</span></em>, <em class="sig-param"><span class="n">casts</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#NearestNeighborInitializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.NearestNeighborInitializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.hotstart_generator.NearestNeighborInitializerBase</span></code></p>
<p>Fast nearest neighbor initializer</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(**kwargs)</p></td>
<td><p>Abstract __call__</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 71%" />
<col style="width: 29%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>find_nearest_stations</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>rearrange_casts</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.hotstart_generator.NearestNeighborInitializer.find_nearest_stations">
<code class="sig-name descname">find_nearest_stations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#NearestNeighborInitializer.find_nearest_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.NearestNeighborInitializer.find_nearest_stations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.hotstart_generator.RegionalInitializer">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.hotstart_generator.</code><code class="sig-name descname">RegionalInitializer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">polygons</span></em>, <em class="sig-param"><span class="n">mapped_initializers</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#RegionalInitializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.RegionalInitializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>IC implementation that delegates
to other IC implementations according to region.
NOTE: If a node or position does not belong to any of the polygons,
region with zero will be used for now. This is not desirable, and
it will be updated later.</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(**kwargs)</p></td>
<td><p>Call self as a function.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py function">
<dt id="schimpy.hotstart_generator.init_logger">
<code class="sig-prename descclassname">schimpy.hotstart_generator.</code><code class="sig-name descname">init_logger</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'hotstart_gen'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#init_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.init_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize Python logging</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.hotstart_generator.read_stations">
<code class="sig-prename descclassname">schimpy.hotstart_generator.</code><code class="sig-name descname">read_stations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/hotstart_generator.html#read_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.hotstart_generator.read_stations" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>list</dt><dd><p>list of dictionary like JSON</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.laplace_smooth_data">
<span id="schimpy-laplace-smooth-data-module"></span><h2>schimpy.laplace_smooth_data module<a class="headerlink" href="#module-schimpy.laplace_smooth_data" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.laplace_smooth_data.laplace_smooth_data">
<code class="sig-prename descclassname">schimpy.laplace_smooth_data.</code><code class="sig-name descname">laplace_smooth_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">rate</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">iter_total</span><span class="o">=</span><span class="default_value">150</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/laplace_smooth_data.html#laplace_smooth_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.laplace_smooth_data.laplace_smooth_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.laplace_smooth_data.laplace_smooth_data2">
<code class="sig-prename descclassname">schimpy.laplace_smooth_data.</code><code class="sig-name descname">laplace_smooth_data2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">kappa</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">iter_total</span><span class="o">=</span><span class="default_value">150</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/laplace_smooth_data.html#laplace_smooth_data2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.laplace_smooth_data.laplace_smooth_data2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.laplace_smooth_data.laplace_smooth_with_vel">
<code class="sig-prename descclassname">schimpy.laplace_smooth_data.</code><code class="sig-name descname">laplace_smooth_with_vel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">vel</span></em>, <em class="sig-param"><span class="n">kappa</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">iter_total</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/laplace_smooth_data.html#laplace_smooth_with_vel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.laplace_smooth_data.laplace_smooth_with_vel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.laplace_smooth_data.laplace_smooth_with_vel2">
<code class="sig-prename descclassname">schimpy.laplace_smooth_data.</code><code class="sig-name descname">laplace_smooth_with_vel2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">vel</span></em>, <em class="sig-param"><span class="n">kappa</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">iter_total</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/laplace_smooth_data.html#laplace_smooth_with_vel2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.laplace_smooth_data.laplace_smooth_with_vel2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.laplace_smooth_data.laplace_smooth_with_vel3">
<code class="sig-prename descclassname">schimpy.laplace_smooth_data.</code><code class="sig-name descname">laplace_smooth_with_vel3</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">vel</span></em>, <em class="sig-param"><span class="n">kappa</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">iter_total</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/laplace_smooth_data.html#laplace_smooth_with_vel3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.laplace_smooth_data.laplace_smooth_with_vel3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.lsc2">
<span id="schimpy-lsc2-module"></span><h2>schimpy.lsc2 module<a class="headerlink" href="#module-schimpy.lsc2" title="Permalink to this headline">¶</a></h2>
<p>Methods for generating local sigma coordinates
These routines are meant to be called a pair. First,
default_num_layers is called to obtain the recommended number of layers for
each node based on depth. Then, gen_sigma is called to generate
the actual local sigma values at each level (nlevels = nlayers+1).</p>
<p>Note that in this script eta is the “reference” free surface at which the mesh
is conditioned, which can be a global scalar or array of local nodal values.
Using a medium-higher value (2-4 depending on typical flood levels) usually
does’t hurt the final product in low water. The example() shows how to visualize a mesh
generated on one ref water surface on another surface.</p>
<p>The major user parameters are already set at their defaults. It is mildly
important to realize that the S coordinate parameters have the same qualitative
interpretation, but that the S system is really just used as a heuristic and
everything is manipulated locally.</p>
<p>Besides theta (refinement to the surface) the mostly likely item to manipulate
will be minlayer and maxlayer. These can be supplied locally (if these are
given as arrays) or globally (if provided as scalars).</p>
<dl class="py class">
<dt id="schimpy.lsc2.BilinearMeshDensity">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">BilinearMeshDensity</code><a class="reference internal" href="_modules/schimpy/lsc2.html#BilinearMeshDensity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.BilinearMeshDensity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 52%" />
<col style="width: 48%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>density</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>depth</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.lsc2.BilinearMeshDensity.density">
<code class="sig-name descname">density</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">z</span></em>, <em class="sig-param"><span class="n">h</span></em>, <em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#BilinearMeshDensity.density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.BilinearMeshDensity.density" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.lsc2.BilinearMeshDensity.depth">
<code class="sig-name descname">depth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">h</span></em>, <em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#BilinearMeshDensity.depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.BilinearMeshDensity.depth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.lsc2.CubicLSC2MeshFunction">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">CubicLSC2MeshFunction</code><a class="reference internal" href="_modules/schimpy/lsc2.html#CubicLSC2MeshFunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.CubicLSC2MeshFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 52%" />
<col style="width: 48%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>density</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>depth</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.lsc2.CubicLSC2MeshFunction.density">
<code class="sig-name descname">density</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">tlev</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#CubicLSC2MeshFunction.density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.CubicLSC2MeshFunction.density" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.lsc2.CubicLSC2MeshFunction.depth">
<code class="sig-name descname">depth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">tlev</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#CubicLSC2MeshFunction.depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.CubicLSC2MeshFunction.depth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.default_num_layers">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">default_num_layers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">h0</span></em>, <em class="sig-param"><span class="n">minlayer</span></em>, <em class="sig-param"><span class="n">maxlayer</span></em>, <em class="sig-param"><span class="n">dz_target</span></em>, <em class="sig-param"><span class="n">meshfun</span></em>, <em class="sig-param"><span class="n">maxlev</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#default_num_layers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.default_num_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of layers that, according to meshfun, gives a depth matching eta + h0
In the (likely) case of inexact fit) the lower bound n- of the number of layers
not yet outfitted for variation in x</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.default_num_layers0">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">default_num_layers0</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">total_ref_depth</span></em>, <em class="sig-param"><span class="n">minlayer</span></em>, <em class="sig-param"><span class="n">maxlayer</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#default_num_layers0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.default_num_layers0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.example">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">example</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.example" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.example2">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">example2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#example2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.example2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.example3">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">example3</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#example3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.example3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.flip_sigma">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">flip_sigma</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sigma</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#flip_sigma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.flip_sigma" title="Permalink to this definition">¶</a></dt>
<dd><p>Flip the ordering of non-nan sigma values.</p>
<p>The output of get_sigma starts from 0.0, but sigma in vgrid.in from -0.1.
So it needs to be flipped for further use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sigma: numpy.ndarray</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>New sigma array that has flipped ordering.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.gen_sigma">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">gen_sigma</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">minlayer</span></em>, <em class="sig-param"><span class="n">maxlayer</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">h</span></em>, <em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">meshfun</span></em>, <em class="sig-param"><span class="n">nsmoothlay</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#gen_sigma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.gen_sigma" title="Permalink to this definition">¶</a></dt>
<dd><p>” Generate local sigma coordinates based on # layers, reference surface and depth</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nlayer: ndarray</strong></dt><dd><p>Veector of size np (number of nodes) giving desired # layers for each node
in the mesh</p>
</dd>
<dt><strong>eta: ndarray or float</strong></dt><dd><p>reference water level heights at each node at which generation is to occur.</p>
</dd>
<dt><strong>h: ndarray</strong></dt><dd><p>unperturbed depth for each node in the mesh</p>
</dd>
<dt><strong>mesh</strong><span class="classifier">float</span></dt><dd><p>maximum theta to use in S calculations. This is interpreted the same
as a standard S grid theta although it will be varied according to depth</p>
</dd>
<dt><strong>meshfun: float</strong></dt><dd><p>S coordinate parameter b</p>
</dd>
<dt><strong>nsmoothlay: how many layers to smooth on the bottom</strong></dt><dd></dd>
<dt><strong>hc: float</strong></dt><dd><p>S coordinate parameter hc (do not alter)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.label_components">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">label_components</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">thresh</span></em>, <em class="sig-param"><span class="n">exclude</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#label_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.label_components" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.lowest_layer_height">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">lowest_layer_height</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">htrans</span></em>, <em class="sig-param"><span class="n">nlevel</span></em>, <em class="sig-param"><span class="n">klev</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#lowest_layer_height"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.lowest_layer_height" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.mesh_function_depths">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">mesh_function_depths</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">meshfun</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#mesh_function_depths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.mesh_function_depths" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.plot_mesh">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">plot_mesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">zcor</span></em>, <em class="sig-param"><span class="n">startvis</span></em>, <em class="sig-param"><span class="n">stopvis</span></em>, <em class="sig-param"><span class="n">c</span><span class="o">=</span><span class="default_value">'black'</span></em>, <em class="sig-param"><span class="n">linewidth</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#plot_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.plot_mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.process_orphans">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">process_orphans</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">hcor</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#process_orphans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.process_orphans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.process_orphans2">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">process_orphans2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">hcor</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#process_orphans2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.process_orphans2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.sigma_z">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">sigma_z</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sigma</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">h</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#sigma_z"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.sigma_z" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.smooth_bed">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">smooth_bed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">h</span></em>, <em class="sig-param"><span class="n">hcor</span></em>, <em class="sig-param"><span class="n">nlevel</span></em>, <em class="sig-param"><span class="n">speed</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#smooth_bed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.smooth_bed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.szcoord">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">szcoord</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">h</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">hc</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#szcoord"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.szcoord" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.lsc2.z_sigma">
<code class="sig-prename descclassname">schimpy.lsc2.</code><code class="sig-name descname">z_sigma</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zcor</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/lsc2.html#z_sigma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.lsc2.z_sigma" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.material_poly">
<span id="schimpy-material-poly-module"></span><h2>schimpy.material_poly module<a class="headerlink" href="#module-schimpy.material_poly" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.material_poly.create_arg_parser">
<code class="sig-prename descclassname">schimpy.material_poly.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/material_poly.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.material_poly.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.material_poly.create_poly">
<code class="sig-prename descclassname">schimpy.material_poly.</code><code class="sig-name descname">create_poly</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapefile</span></em>, <em class="sig-param"><span class="n">dsetname</span></em>, <em class="sig-param"><span class="n">keyfile</span></em>, <em class="sig-param"><span class="n">polyfile</span></em>, <em class="sig-param"><span class="n">type</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/material_poly.html#create_poly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.material_poly.create_poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a polygon shapefile to the yaml input of the preprocessor</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.material_poly.read_keyfile">
<code class="sig-prename descclassname">schimpy.material_poly.</code><code class="sig-name descname">read_keyfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keyfile</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/material_poly.html#read_keyfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.material_poly.read_keyfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a file pairing labels and values</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.metricsplot">
<span id="schimpy-metricsplot-module"></span><h2>schimpy.metricsplot module<a class="headerlink" href="#module-schimpy.metricsplot" title="Permalink to this headline">¶</a></h2>
<p>Metrics plot</p>
<dl class="py function">
<dt id="schimpy.metricsplot.plot_comparison">
<code class="sig-prename descclassname">schimpy.metricsplot.</code><code class="sig-name descname">plot_comparison</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/metricsplot.html#plot_comparison"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.metricsplot.plot_comparison" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a simple comparison plot without metrics calculation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>*args: variable number of TimeSeries</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>matplotlib.pyplot.figure.Figure</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.metricsplot.plot_metrics">
<code class="sig-prename descclassname">schimpy.metricsplot.</code><code class="sig-name descname">plot_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obs</span></em>, <em class="sig-param"><span class="n">tssim</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/metricsplot.html#plot_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.metricsplot.plot_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a metrics plot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>*args: variable number of TimeSeries</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>matplotlib.pyplot.figure.Figure</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.model_time">
<span id="schimpy-model-time-module"></span><h2>schimpy.model_time module<a class="headerlink" href="#module-schimpy.model_time" title="Permalink to this headline">¶</a></h2>
<p>Script to make model date conversion convenient, converting elapsed model seconds to or from dates</p>
<dl class="py function">
<dt id="schimpy.model_time.clip">
<code class="sig-prename descclassname">schimpy.model_time.</code><code class="sig-name descname">clip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/model_time.html#clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.model_time.clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip file to dates</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.model_time.create_arg_parser">
<code class="sig-prename descclassname">schimpy.model_time.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/model_time.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.model_time.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.model_time.describe_elapsed">
<code class="sig-prename descclassname">schimpy.model_time.</code><code class="sig-name descname">describe_elapsed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">times</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/model_time.html#describe_elapsed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.model_time.describe_elapsed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.model_time.describe_timestamps">
<code class="sig-prename descclassname">schimpy.model_time.</code><code class="sig-name descname">describe_timestamps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestamps</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/model_time.html#describe_timestamps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.model_time.describe_timestamps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.model_time.file_to_elapsed">
<code class="sig-prename descclassname">schimpy.model_time.</code><code class="sig-name descname">file_to_elapsed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">infile</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">outpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">annotate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">skip_nan</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/model_time.html#file_to_elapsed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.model_time.file_to_elapsed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.model_time.file_to_timestamp">
<code class="sig-prename descclassname">schimpy.model_time.</code><code class="sig-name descname">file_to_timestamp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">infile</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">outpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">annotate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">elapsed_unit</span><span class="o">=</span><span class="default_value">'s'</span></em>, <em class="sig-param"><span class="n">time_format</span><span class="o">=</span><span class="default_value">'%Y-%m-%dT%H:%M '</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/model_time.html#file_to_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.model_time.file_to_timestamp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.model_time.main">
<code class="sig-prename descclassname">schimpy.model_time.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/model_time.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.model_time.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.model_time.multi_file_to_elapsed">
<code class="sig-prename descclassname">schimpy.model_time.</code><code class="sig-name descname">multi_file_to_elapsed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">start</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/model_time.html#multi_file_to_elapsed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.model_time.multi_file_to_elapsed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.model_time.to_datetime">
<code class="sig-prename descclassname">schimpy.model_time.</code><code class="sig-name descname">to_datetime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/model_time.html#to_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.model_time.to_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert elapsed inputs to dated</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.model_time.to_elapsed">
<code class="sig-prename descclassname">schimpy.model_time.</code><code class="sig-name descname">to_elapsed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/model_time.html#to_elapsed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.model_time.to_elapsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert dated inputs to elapsed times</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.plot_default_formats">
<span id="schimpy-plot-default-formats-module"></span><h2>schimpy.plot_default_formats module<a class="headerlink" href="#module-schimpy.plot_default_formats" title="Permalink to this headline">¶</a></h2>
<p>Convenient routines to set up and to tweak matplotlib plots.</p>
<dl class="py function">
<dt id="schimpy.plot_default_formats.set_color_cycle_dark2">
<code class="sig-prename descclassname">schimpy.plot_default_formats.</code><code class="sig-name descname">set_color_cycle_dark2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/plot_default_formats.html#set_color_cycle_dark2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.plot_default_formats.set_color_cycle_dark2" title="Permalink to this definition">¶</a></dt>
<dd><p>Set color cycles of Dark2 theme of colorbrewer.org globally.
Just calling this function once before finalize a plot is enough
to change the color cycles.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>brewer_colors: list</dt><dd><p>list of the colors</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.plot_default_formats.set_dual_axes">
<code class="sig-prename descclassname">schimpy.plot_default_formats.</code><code class="sig-name descname">set_dual_axes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="n">cell_method</span><span class="o">=</span><span class="default_value">'inst'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/plot_default_formats.html#set_dual_axes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.plot_default_formats.set_dual_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dual y-axis with unit information in the given time series.
It converts SI units to non-SI one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ax: matplotlib.axes</strong></dt><dd><p>axes of a plot to manage</p>
</dd>
<dt><strong>ts: vtools.data.TimeSeries</strong></dt><dd><p>timeseries with unit information</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.plot_default_formats.set_dual_axes_elev">
<code class="sig-prename descclassname">schimpy.plot_default_formats.</code><code class="sig-name descname">set_dual_axes_elev</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax1</span></em>, <em class="sig-param"><span class="n">filtered</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/plot_default_formats.html#set_dual_axes_elev"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.plot_default_formats.set_dual_axes_elev" title="Permalink to this definition">¶</a></dt>
<dd><p>Set dual axes for elevation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ax: matplotlib axes</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.plot_default_formats.set_dual_axes_salt">
<code class="sig-prename descclassname">schimpy.plot_default_formats.</code><code class="sig-name descname">set_dual_axes_salt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax1</span></em>, <em class="sig-param"><span class="n">filtered</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/plot_default_formats.html#set_dual_axes_salt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.plot_default_formats.set_dual_axes_salt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a dual y-axis for salt with a PSU y-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ax: axis</strong></dt><dd><p>a Matplotlib axes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.polygons">
<span id="schimpy-polygons-module"></span><h2>schimpy.polygons module<a class="headerlink" href="#module-schimpy.polygons" title="Permalink to this headline">¶</a></h2>
<p>This module contains polygon data holders and related operations.</p>
<p>&#64;author: Kijin Nam, <a class="reference external" href="mailto:knam&#37;&#52;&#48;water&#46;ca&#46;gov">knam<span>&#64;</span>water<span>&#46;</span>ca<span>&#46;</span>gov</a></p>
<dl class="py class">
<dt id="schimpy.polygons.Polygon">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.polygons.</code><code class="sig-name descname">Polygon</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">attribute</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">type_</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/polygons.html#Polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.polygons.Polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A simple container of polygon information.
This class has geometry functions as well.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>attribute</strong></dt><dd></dd>
<dt><strong>name</strong></dt><dd></dd>
<dt><strong>type</strong></dt><dd></dd>
<dt><strong>vertices</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.polygons.Polygon.box" title="schimpy.polygons.Polygon.box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">box</span></code></a>()</p></td>
<td><p>Provide a bounding box of this polygon.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.polygons.Polygon.check_point_inside_polygon" title="schimpy.polygons.Polygon.check_point_inside_polygon"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_point_inside_polygon</span></code></a>(pt)</p></td>
<td><p>Check if the point is in this 2D polygon.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>n_vertices</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.polygons.Polygon.attribute">
<em class="property">property </em><code class="sig-name descname">attribute</code><a class="headerlink" href="#schimpy.polygons.Polygon.attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.polygons.Polygon.box">
<code class="sig-name descname">box</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/polygons.html#Polygon.box"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.polygons.Polygon.box" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a bounding box of this polygon.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>a numpy array</dt><dd><p>contains [x_min, x_max, y_min, y_max]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.polygons.Polygon.check_point_inside_polygon">
<code class="sig-name descname">check_point_inside_polygon</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pt</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/polygons.html#Polygon.check_point_inside_polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.polygons.Polygon.check_point_inside_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the point is in this 2D polygon.
It is based on ray-casting algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pt: array-like</strong></dt><dd><p>a point to test</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd><p>True if the point is in the polygon, False otherwise.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.polygons.Polygon.n_vertices">
<code class="sig-name descname">n_vertices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/polygons.html#Polygon.n_vertices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.polygons.Polygon.n_vertices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.polygons.Polygon.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#schimpy.polygons.Polygon.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.polygons.Polygon.type">
<em class="property">property </em><code class="sig-name descname">type</code><a class="headerlink" href="#schimpy.polygons.Polygon.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.polygons.Polygon.vertices">
<em class="property">property </em><code class="sig-name descname">vertices</code><a class="headerlink" href="#schimpy.polygons.Polygon.vertices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.polygons.PolygonIo">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.polygons.</code><code class="sig-name descname">PolygonIo</code><a class="reference internal" href="_modules/schimpy/polygons.html#PolygonIo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.polygons.PolygonIo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Polygon I/O</p>
</dd></dl>

<dl class="py class">
<dt id="schimpy.polygons.PolygonIoFactory">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.polygons.</code><code class="sig-name descname">PolygonIoFactory</code><a class="reference internal" href="_modules/schimpy/polygons.html#PolygonIoFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.polygons.PolygonIoFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>get_reader</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.polygons.PolygonIoFactory.get_reader">
<code class="sig-name descname">get_reader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/polygons.html#PolygonIoFactory.get_reader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.polygons.PolygonIoFactory.get_reader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="schimpy.polygons.PolygonIoFactory.readers">
<code class="sig-name descname">readers</code><em class="property"> = {''}</em><a class="headerlink" href="#schimpy.polygons.PolygonIoFactory.readers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-schimpy.prepare_schism">
<span id="schimpy-prepare-schism-module"></span><h2>schimpy.prepare_schism module<a class="headerlink" href="#module-schimpy.prepare_schism" title="Permalink to this headline">¶</a></h2>
<p>Driver module to prepares input files for a SCHISM run.
Example jobs in this pre-processing are:
1. Fill up missing land/island boundaries in <a href="#id7"><span class="problematic" id="id8">`</span></a>hgrid.gr3’.
2. Re-order the open boundaries.
3. Create source_sink.in and hydraulics.in
4. Create spatial information such as elev.ic, rough.gr3 and xlsc.gr3.
5. Dredge up some part of the domain.
6. Create an ocean boundary file, elev2D.th</p>
<dl class="py function">
<dt id="schimpy.prepare_schism.prepare_schism">
<code class="sig-prename descclassname">schimpy.prepare_schism.</code><code class="sig-name descname">prepare_schism</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">use_logging</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/prepare_schism.html#prepare_schism"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.prepare_schism.prepare_schism" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.priority_queue">
<span id="schimpy-priority-queue-module"></span><h2>schimpy.priority_queue module<a class="headerlink" href="#module-schimpy.priority_queue" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="schimpy.priority_queue.priorityDictionary">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.priority_queue.</code><code class="sig-name descname">priorityDictionary</code><span class="sig-paren">(</span><em class="sig-param">) -&gt; new empty dictionary dict(mapping) -&gt; new dictionary initialized from a mapping object's (key</em>, <em class="sig-param">value) pairs dict(iterable) -&gt; new dictionary initialized as if via: d = {} for k</em>, <em class="sig-param">v in iterable: d[k] = v dict(**kwargs) -&gt; new dictionary initialized with the name=value pairs in the keyword argument list.  For example:  dict(one=1</em>, <em class="sig-param">two=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/priority_queue.html#priorityDictionary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.priority_queue.priorityDictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">fromkeys</span></code>(iterable[, value])</p></td>
<td><p>Create a new dictionary with keys from iterable and values set to value.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code>(key[, default])</p></td>
<td><p>Return the value for key if key is in the dictionary, else default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">items</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pop</span></code>(k[,d])</p></td>
<td><p>If key is not found, d is returned if given, otherwise KeyError is raised</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">popitem</span></code>()</p></td>
<td><p>2-tuple; but raise KeyError if D is empty.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.priority_queue.priorityDictionary.setdefault" title="schimpy.priority_queue.priorityDictionary.setdefault"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setdefault</span></code></a>(key, val)</p></td>
<td><p>Reimplement setdefault to call our customized __setitem__.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.priority_queue.priorityDictionary.smallest" title="schimpy.priority_queue.priorityDictionary.smallest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">smallest</span></code></a>()</p></td>
<td><p>Find smallest item after removing deleted items from heap.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>([E, ]**F)</p></td>
<td><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k] If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v In either case, this is followed by: for k in F:  D[k] = F[k]</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.priority_queue.priorityDictionary.setdefault">
<code class="sig-name descname">setdefault</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/priority_queue.html#priorityDictionary.setdefault"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.priority_queue.priorityDictionary.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Reimplement setdefault to call our customized __setitem__.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.priority_queue.priorityDictionary.smallest">
<code class="sig-name descname">smallest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/priority_queue.html#priorityDictionary.smallest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.priority_queue.priorityDictionary.smallest" title="Permalink to this definition">¶</a></dt>
<dd><p>Find smallest item after removing deleted items from heap.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="schimpy-raster-to-nodes-module">
<h2>schimpy.raster_to_nodes module<a class="headerlink" href="#schimpy-raster-to-nodes-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-schimpy.read_output_xyt">
<span id="schimpy-read-output-xyt-module"></span><h2>schimpy.read_output_xyt module<a class="headerlink" href="#module-schimpy.read_output_xyt" title="Permalink to this headline">¶</a></h2>
<p>Read outputs from read_output*_xyt and create a neat list of
Vtools time series. This module depends on deprecated vtools code and is 
scheduled for removal</p>
<dl class="py function">
<dt id="schimpy.read_output_xyt.read_depth_avg_from_output7b_xyt">
<code class="sig-prename descclassname">schimpy.read_output_xyt.</code><code class="sig-name descname">read_depth_avg_from_output7b_xyt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">time_basis</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/read_output_xyt.html#read_depth_avg_from_output7b_xyt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.read_output_xyt.read_depth_avg_from_output7b_xyt" title="Permalink to this definition">¶</a></dt>
<dd><p>Read output file from read_output7b_xyt and return depth and
depth-averaged values in vtools.data.timeseries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath: str</strong></dt><dd><p>master input file name of read_output7b_xyt</p>
</dd>
<dt><strong>time_basis: datetime.datetime</strong></dt><dd><p>time base of the outputs</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>lists of a set vtools.data.timeseries of depth and depth-averaged values</dt><dd><p>For scalars, the list has only one set of time series.
For vectors, the list has two sets of time series.
Each time series has multiple columns of data, and each column
is for stations.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.schimpy">
<span id="schimpy-schimpy-module"></span><h2>schimpy.schimpy module<a class="headerlink" href="#module-schimpy.schimpy" title="Permalink to this headline">¶</a></h2>
<p>Main module.</p>
</div>
<div class="section" id="module-schimpy.schism_hotstart">
<span id="schimpy-schism-hotstart-module"></span><h2>schimpy.schism_hotstart module<a class="headerlink" href="#module-schimpy.schism_hotstart" title="Permalink to this headline">¶</a></h2>
<p>Module for creating a schism hotstart file</p>
<p>Options:
1. Centering:</p>
<blockquote>
<div><ul class="simple">
<li><p>node2D: node (2D surface)</p></li>
<li><p>node3D: node at whole level</p></li>
<li><p>edge: edge center at whole level (mainly for horizontal velocties)</p></li>
<li><p>elem: element center at whole level (mainly for vertical velocity)</p></li>
<li><p>prism: prism center (for tracers); three different variables tr_el, tr_nd,</p></li>
<li><dl class="simple">
<dt>tr_el need to be generated for the hotstart.nc file. </dt><dd><ul>
<li><p>tr_nd = tr_nd0 (on nodes)</p></li>
<li><p>tr_el (on element at middle level)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><dl class="simple">
<dt>Initializer:</dt><dd><ul class="simple">
<li><p>text_init: 2D map input from either <a href="#id9"><span class="problematic" id="id10">*</span></a>.prop or <a href="#id11"><span class="problematic" id="id12">*</span></a>.ic files; require input text file.</p></li>
<li><p>simple_trend: can either be a number or an equation that depends on x (lat) and y(lon). e.g,: 0.97 + 1.e-5*x</p></li>
<li><p>patch_init: regional-based method. Polygon shapefile input required.</p></li>
<li><p>extrude_casts: 3D nearest neighbourhood interpolation based on Polaris cruise transects.</p></li>
<li><p>obs_points: interpolated from 1D (time series of) observational points.</p></li>
</ul>
</dd>
</dl>
</li>
</ol>
<dl class="simple">
<dt>Required data files:</dt><dd><ul class="simple">
<li><p>param.in</p></li>
<li><p>hgrid.gr3</p></li>
<li><p>vgrid.in</p></li>
<li><p>hotstart.yaml and input files defined in the yaml file.</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt id="schimpy.schism_hotstart.SCHISMHotstart">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_hotstart.</code><code class="sig-name descname">SCHISMHotstart</code><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#SCHISMHotstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.SCHISMHotstart" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Mock object</p>
</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_hotstart.VariableField">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_hotstart.</code><code class="sig-name descname">VariableField</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v_meta</span></em>, <em class="sig-param"><span class="n">vname</span></em>, <em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">depths</span></em>, <em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">proj4</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class initializing each varaible for the hotstart file</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.VariableField.elem2node_values" title="schimpy.schism_hotstart.VariableField.elem2node_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">elem2node_values</span></code></a>(vmap)</p></td>
<td><p>equation converting 2D values on element to nodes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.VariableField.extrude_casts" title="schimpy.schism_hotstart.VariableField.extrude_casts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extrude_casts</span></code></a>([ini_meta, inpoly])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.VariableField.get_grid" title="schimpy.schism_hotstart.VariableField.get_grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_grid</span></code></a>()</p></td>
<td><p>Getting the number and coordinates of horizontal nodes/elems/edges for  different centering options and return them as grid.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.VariableField.initializer_options" title="schimpy.schism_hotstart.VariableField.initializer_options"><code class="xref py py-obj docutils literal notranslate"><span class="pre">initializer_options</span></code></a>()</p></td>
<td><p>Options for input file initializers The input initializer overwrites self.initializer</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.VariableField.map_to_3D" title="schimpy.schism_hotstart.VariableField.map_to_3D"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map_to_3D</span></code></a>(v_2d, nz)</p></td>
<td><p>polulate the 2D map values to 3D by applying the uniform values over dpeth.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.VariableField.obs_points" title="schimpy.schism_hotstart.VariableField.obs_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obs_points</span></code></a>([ini_meta, inpoly])</p></td>
<td><p>obs_file includes Lat, Lon, and values for the variable.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.VariableField.patch_initializer_options" title="schimpy.schism_hotstart.VariableField.patch_initializer_options"><code class="xref py py-obj docutils literal notranslate"><span class="pre">patch_initializer_options</span></code></a>(initializer)</p></td>
<td><p>Options for patch initializers The input initializer overwrites self.initializer</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.VariableField.simple_trend" title="schimpy.schism_hotstart.VariableField.simple_trend"><code class="xref py py-obj docutils literal notranslate"><span class="pre">simple_trend</span></code></a>([ini_meta, inpoly])</p></td>
<td><p>Assigning a spatially uniformed value or an equation that’s dependent on lat, lon</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.VariableField.text_init" title="schimpy.schism_hotstart.VariableField.text_init"><code class="xref py py-obj docutils literal notranslate"><span class="pre">text_init</span></code></a>([ini_meta, inpoly])</p></td>
<td><p>Reading 2D map from either a .prop (on element) or a .ic (on node) file  If a prop file is read, the element values will need to be converted to node values.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 67%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>GenerateField</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>create_dataarray</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>get_key</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>get_value</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>node2elem_values</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>patch_init</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.GenerateField">
<code class="sig-name descname">GenerateField</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.GenerateField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.GenerateField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.create_dataarray">
<code class="sig-name descname">create_dataarray</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">var</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.create_dataarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.create_dataarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.elem2node_values">
<code class="sig-name descname">elem2node_values</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vmap</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.elem2node_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.elem2node_values" title="Permalink to this definition">¶</a></dt>
<dd><p>equation converting 2D values on element to nodes.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.extrude_casts">
<code class="sig-name descname">extrude_casts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ini_meta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inpoly</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.extrude_casts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.extrude_casts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.get_grid">
<code class="sig-name descname">get_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.get_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.get_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting the number and coordinates of horizontal nodes/elems/edges for 
different centering options and return them as grid.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.get_key">
<em class="property">classmethod </em><code class="sig-name descname">get_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dict_obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.get_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.get_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.get_value">
<em class="property">classmethod </em><code class="sig-name descname">get_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dict_obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.get_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.get_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.initializer_options">
<code class="sig-name descname">initializer_options</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.initializer_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.initializer_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Options for input file initializers
The input initializer overwrites self.initializer</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.map_to_3D">
<em class="property">classmethod </em><code class="sig-name descname">map_to_3D</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v_2d</span></em>, <em class="sig-param"><span class="n">nz</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.map_to_3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.map_to_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>polulate the 2D map values to 3D by applying the uniform values over dpeth.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.node2elem_values">
<code class="sig-name descname">node2elem_values</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vmap</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.node2elem_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.node2elem_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.obs_points">
<code class="sig-name descname">obs_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ini_meta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inpoly</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.obs_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.obs_points" title="Permalink to this definition">¶</a></dt>
<dd><p>obs_file includes Lat, Lon, and values for the variable.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.patch_init">
<code class="sig-name descname">patch_init</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">poly_fn</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.patch_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.patch_init" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.patch_initializer_options">
<code class="sig-name descname">patch_initializer_options</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">initializer</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.patch_initializer_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.patch_initializer_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Options for patch initializers
The input initializer overwrites self.initializer</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.simple_trend">
<code class="sig-name descname">simple_trend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ini_meta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inpoly</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.simple_trend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.simple_trend" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigning a spatially uniformed value or an equation that’s dependent on lat, lon</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.VariableField.text_init">
<code class="sig-name descname">text_init</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ini_meta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inpoly</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#VariableField.text_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.VariableField.text_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Reading 2D map from either a .prop (on element) or a .ic (on node) file 
If a prop file is read, the element values will need to be converted to node values.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_hotstart.hotstart">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_hotstart.</code><code class="sig-name descname">hotstart</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">yaml_fn</span></em>, <em class="sig-param"><span class="n">modules</span><span class="o">=</span><span class="default_value">['TEM', 'SAL']</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#hotstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.hotstart" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to generate hotstart initial condition for SCHISM</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.hotstart.compute_depths" title="schimpy.schism_hotstart.hotstart.compute_depths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_depths</span></code></a>()</p></td>
<td><p>Calculate points in 3-D grid</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.hotstart.map_to_schism" title="schimpy.schism_hotstart.hotstart.map_to_schism"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map_to_schism</span></code></a>()</p></td>
<td><p>map the hotstart variable to the variable names required by SCHISM  hotstart file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.hotstart.read_yaml" title="schimpy.schism_hotstart.hotstart.read_yaml"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_yaml</span></code></a>()</p></td>
<td><p>read yaml and load mesh grid</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_hotstart.hotstart.wet_dry_check" title="schimpy.schism_hotstart.hotstart.wet_dry_check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wet_dry_check</span></code></a>()</p></td>
<td><p>modify idry_e, idry, and idry_s based on eta2 and water depth.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 68%" />
<col style="width: 32%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>create_hotstart</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>generate_3D_field</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>initialize_netcdf</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_hotstart.hotstart.compute_depths">
<code class="sig-name descname">compute_depths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#hotstart.compute_depths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.hotstart.compute_depths" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate points in 3-D grid</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.hotstart.create_hotstart">
<code class="sig-name descname">create_hotstart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#hotstart.create_hotstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.hotstart.create_hotstart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.hotstart.generate_3D_field">
<code class="sig-name descname">generate_3D_field</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">variable</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#hotstart.generate_3D_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.hotstart.generate_3D_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.hotstart.initialize_netcdf">
<code class="sig-name descname">initialize_netcdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default_turbulence</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#hotstart.initialize_netcdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.hotstart.initialize_netcdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.hotstart.map_to_schism">
<code class="sig-name descname">map_to_schism</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#hotstart.map_to_schism"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.hotstart.map_to_schism" title="Permalink to this definition">¶</a></dt>
<dd><p>map the hotstart variable to the variable names required by SCHISM 
hotstart file.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.hotstart.read_yaml">
<code class="sig-name descname">read_yaml</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#hotstart.read_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.hotstart.read_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>read yaml and load mesh grid</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_hotstart.hotstart.wet_dry_check">
<code class="sig-name descname">wet_dry_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#hotstart.wet_dry_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.hotstart.wet_dry_check" title="Permalink to this definition">¶</a></dt>
<dd><p>modify idry_e, idry, and idry_s based on eta2 and water depth.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_hotstart.hotstart_to_outputnc">
<code class="sig-prename descclassname">schimpy.schism_hotstart.</code><code class="sig-name descname">hotstart_to_outputnc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hotstart_fn</span></em>, <em class="sig-param"><span class="n">init_date</span></em>, <em class="sig-param"><span class="n">hgrid_fn</span><span class="o">=</span><span class="default_value">'hgrid.gr3'</span></em>, <em class="sig-param"><span class="n">vgrid_fn</span><span class="o">=</span><span class="default_value">'vgrid.in'</span></em>, <em class="sig-param"><span class="n">outname</span><span class="o">=</span><span class="default_value">'hotstart_out.nc'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#hotstart_to_outputnc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.hotstart_to_outputnc" title="Permalink to this definition">¶</a></dt>
<dd><p>convert hotstart.nc to schism output nc file format that can be read by VisIt.</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_hotstart.n_tracers">
<code class="sig-prename descclassname">schimpy.schism_hotstart.</code><code class="sig-name descname">n_tracers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">param_in</span></em>, <em class="sig-param"><span class="n">modules</span><span class="o">=</span><span class="default_value">['TEM', 'SAL']</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#n_tracers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.n_tracers" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>return the number of tracers, the sequence of the tracers and a list </dt><dd><p>of tracer names based on the input list of modules and corresponding 
input files. 
Availabel modules are:</p>
</dd>
</dl>
<p>!     1: T (default)
!     2: S (default)
!     3: GEN
!     4: AGE
!     5: SED3D: SED
!     6: EcoSim: ECO
!     7: ICM: ICM and/or ICM_PH
!     8: CoSINE: COSINE
!     9: Feco: FIB
!    10: TIMOR
!    11: FABM</p>
<blockquote>
<div><p>The script is mainly translated from schism_ini.F90</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_hotstart.num">
<code class="sig-prename descclassname">schimpy.schism_hotstart.</code><code class="sig-name descname">num</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#num"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.num" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.schism_hotstart.read_hotstart">
<code class="sig-prename descclassname">schimpy.schism_hotstart.</code><code class="sig-name descname">read_hotstart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#read_hotstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.read_hotstart" title="Permalink to this definition">¶</a></dt>
<dd><p>Mock method to read existing hotstart</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_hotstart.read_param_in">
<code class="sig-prename descclassname">schimpy.schism_hotstart.</code><code class="sig-name descname">read_param_in</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">infile</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_hotstart.html#read_param_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_hotstart.read_param_in" title="Permalink to this definition">¶</a></dt>
<dd><p>read param.in file and generate a dict object with key, value pairs for all the parameters</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.schism_input">
<span id="schimpy-schism-input-module"></span><h2>schimpy.schism_input module<a class="headerlink" href="#module-schimpy.schism_input" title="Permalink to this headline">¶</a></h2>
<p>This module handles SCHISM input data which are a mesh, structures,
and sources/sinks.
&#64;author: Kijin Nam, <a class="reference external" href="mailto:knam&#37;&#52;&#48;water&#46;ca&#46;gov">knam<span>&#64;</span>water<span>&#46;</span>ca<span>&#46;</span>gov</a></p>
<dl class="py class">
<dt id="schimpy.schism_input.SchismInput">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_input.</code><code class="sig-name descname">SchismInput</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_input.html#SchismInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_input.SchismInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mesh</strong></dt><dd></dd>
<dt><strong>nudging</strong></dt><dd></dd>
<dt><strong>sources</strong></dt><dd></dd>
<dt><strong>structures</strong></dt><dd></dd>
<dt><strong>time_start</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 67%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>add_structure</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>clear_structures</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>n_sinks</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>n_sources</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>n_structures</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_input.SchismInput.add_structure">
<code class="sig-name descname">add_structure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_input.html#SchismInput.add_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_input.SchismInput.add_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_input.SchismInput.clear_structures">
<code class="sig-name descname">clear_structures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_input.html#SchismInput.clear_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_input.SchismInput.clear_structures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_input.SchismInput.mesh">
<em class="property">property </em><code class="sig-name descname">mesh</code><a class="headerlink" href="#schimpy.schism_input.SchismInput.mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_input.SchismInput.n_sinks">
<code class="sig-name descname">n_sinks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_input.html#SchismInput.n_sinks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_input.SchismInput.n_sinks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_input.SchismInput.n_sources">
<code class="sig-name descname">n_sources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_input.html#SchismInput.n_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_input.SchismInput.n_sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_input.SchismInput.n_structures">
<code class="sig-name descname">n_structures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_input.html#SchismInput.n_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_input.SchismInput.n_structures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_input.SchismInput.nudging">
<em class="property">property </em><code class="sig-name descname">nudging</code><a class="headerlink" href="#schimpy.schism_input.SchismInput.nudging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_input.SchismInput.sources">
<em class="property">property </em><code class="sig-name descname">sources</code><a class="headerlink" href="#schimpy.schism_input.SchismInput.sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_input.SchismInput.structures">
<em class="property">property </em><code class="sig-name descname">structures</code><a class="headerlink" href="#schimpy.schism_input.SchismInput.structures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_input.SchismInput.time_start">
<em class="property">property </em><code class="sig-name descname">time_start</code><a class="headerlink" href="#schimpy.schism_input.SchismInput.time_start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-schimpy.schism_linestring">
<span id="schimpy-schism-linestring-module"></span><h2>schimpy.schism_linestring module<a class="headerlink" href="#module-schimpy.schism_linestring" title="Permalink to this headline">¶</a></h2>
<p>Line String data based on Shapely LineStrings</p>
<dl class="py class">
<dt id="schimpy.schism_linestring.LineString">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_linestring.</code><code class="sig-name descname">LineString</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coordinates</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prop</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineString" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">shapely.geometry.linestring.LineString</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">area</span></code></dt><dd><p>Unitless area of the geometry (float)</p>
</dd>
<dt><strong>array_interface_base</strong></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">boundary</span></code></dt><dd><p>Returns a lower dimension geometry that bounds the object</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">bounds</span></code></dt><dd><p>Returns minimum bounding region (minx, miny, maxx, maxy)</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">centroid</span></code></dt><dd><p>Returns the geometric center of the object</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">convex_hull</span></code></dt><dd><p>Imagine an elastic band stretched around the geometry: that’s a</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">coords</span></code></dt><dd><p>Access to geometry’s coordinates (CoordinateSequence)</p>
</dd>
<dt><a class="reference external" href="https://docs.python.org/3/library/ctypes.html#module-ctypes" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ctypes</span></code></a></dt><dd><p>Return ctypes buffer</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">envelope</span></code></dt><dd><p>A figure that envelopes the geometry</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">geom_type</span></code></dt><dd><p>Name of the geometry’s type, such as ‘Point’</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">has_z</span></code></dt><dd><p>True if the geometry’s coordinate sequence(s) have z values (are</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_closed</span></code></dt><dd><p>True if the geometry is closed, else False</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_empty</span></code></dt><dd><p>True if the set of points in this geometry is empty, else False</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_ring</span></code></dt><dd><p>True if the geometry is a closed ring, else False</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_simple</span></code></dt><dd><p>True if the geometry is simple, meaning that any self-intersections</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_valid</span></code></dt><dd><p>True if the geometry is valid (definition depends on sub-class),</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">length</span></code></dt><dd><p>Unitless length of the geometry (float)</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">minimum_clearance</span></code></dt><dd><p>Unitless distance by which a node could be moved to produce an invalid geometry (float)</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">minimum_rotated_rectangle</span></code></dt><dd><p>Returns the general minimum bounding rectangle of the geometry.</p>
</dd>
<dt><strong>prop</strong></dt><dd></dd>
<dt><strong>type</strong></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">wkb</span></code></dt><dd><p>WKB representation of the geometry</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">wkb_hex</span></code></dt><dd><p>WKB hex representation of the geometry</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">wkt</span></code></dt><dd><p>WKT representation of the geometry</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">xy</span></code></dt><dd><p>Separate arrays of X and Y coordinate values</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">almost_equals</span></code>(other[, decimal])</p></td>
<td><p>Returns True if geometries are equal at all coordinates to a specified decimal place</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">array_interface</span></code>()</p></td>
<td><p>Provide the Numpy array protocol.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">buffer</span></code>(distance[, resolution, quadsegs, …])</p></td>
<td><p>Get a geometry that represents all points within a distance of this geometry.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">contains</span></code>(other)</p></td>
<td><p>Returns True if the geometry contains the other, else False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">covers</span></code>(other)</p></td>
<td><p>Returns True if the geometry covers the other, else False</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">crosses</span></code>(other)</p></td>
<td><p>Returns True if the geometries cross, else False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">difference</span></code>(other)</p></td>
<td><p>Returns the difference of the geometries</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">disjoint</span></code>(other)</p></td>
<td><p>Returns True if geometries are disjoint, else False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">distance</span></code>(other)</p></td>
<td><p>Unitless distance to other geometry (float)</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">equals</span></code>(other)</p></td>
<td><p>Returns True if geometries are equal, else False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">equals_exact</span></code>(other, tolerance)</p></td>
<td><p>Returns True if geometries are equal to within a specified tolerance</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">hausdorff_distance</span></code>(other)</p></td>
<td><p>Unitless hausdorff distance to other geometry (float)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpolate</span></code>(distance[, normalized])</p></td>
<td><p>Return a point at the specified distance along a linear geometry</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">intersection</span></code>(other)</p></td>
<td><p>Returns the intersection of the geometries</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">intersects</span></code>(other)</p></td>
<td><p>Returns True if geometries intersect, else False</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">overlaps</span></code>(other)</p></td>
<td><p>Returns True if geometries overlap, else False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">parallel_offset</span></code>(distance[, side, …])</p></td>
<td><p>Returns a LineString or MultiLineString geometry at a distance from the object on its right or its left side.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">project</span></code>(other[, normalized])</p></td>
<td><p>Returns the distance along this geometry to a point nearest the specified point</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">relate</span></code>(other)</p></td>
<td><p>Returns the DE-9IM intersection matrix for the two geometries (string)</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">relate_pattern</span></code>(other, pattern)</p></td>
<td><p>Returns True if the DE-9IM string code for the relationship between the geometries satisfies the pattern, else False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">representative_point</span></code>()</p></td>
<td><p>Returns a point guaranteed to be within the object, cheaply.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">simplify</span></code>(tolerance[, preserve_topology])</p></td>
<td><p>Returns a simplified geometry produced by the Douglas-Peucker algorithm</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">svg</span></code>([scale_factor, stroke_color])</p></td>
<td><p>Returns SVG polyline element for the LineString geometry.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">symmetric_difference</span></code>(other)</p></td>
<td><p>Returns the symmetric difference of the geometries (Shapely geometry)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">touches</span></code>(other)</p></td>
<td><p>Returns True if geometries touch, else False</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">union</span></code>(other)</p></td>
<td><p>Returns the union of the geometries (Shapely geometry)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">within</span></code>(other)</p></td>
<td><p>Returns True if geometry is within the other, else False</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 62%" />
<col style="width: 38%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>empty</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>geometryType</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>to_wkb</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>to_wkt</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_linestring.LineString.prop">
<em class="property">property </em><code class="sig-name descname">prop</code><a class="headerlink" href="#schimpy.schism_linestring.LineString.prop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_linestring.LineStringIo">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_linestring.</code><code class="sig-name descname">LineStringIo</code><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringIo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringIo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 47%" />
<col style="width: 53%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>read</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>write</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_linestring.LineStringIo.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringIo.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringIo.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_linestring.LineStringIo.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringIo.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringIo.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_linestring.LineStringIoFactory">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_linestring.</code><code class="sig-name descname">LineStringIoFactory</code><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringIoFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringIoFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>get_reader</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>get_writer</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_linestring.LineStringIoFactory.get_reader">
<code class="sig-name descname">get_reader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringIoFactory.get_reader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringIoFactory.get_reader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_linestring.LineStringIoFactory.get_writer">
<code class="sig-name descname">get_writer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringIoFactory.get_writer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringIoFactory.get_writer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="schimpy.schism_linestring.LineStringIoFactory.registered_readers">
<code class="sig-name descname">registered_readers</code><em class="property"> = {'shp': 'LineStringShapefileReader', 'yaml': 'LineStringYamlReader'}</em><a class="headerlink" href="#schimpy.schism_linestring.LineStringIoFactory.registered_readers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="schimpy.schism_linestring.LineStringIoFactory.registered_writers">
<code class="sig-name descname">registered_writers</code><em class="property"> = {'shp': 'LineStringShapefileWriter', 'yaml': 'LineStringYamlWriter'}</em><a class="headerlink" href="#schimpy.schism_linestring.LineStringIoFactory.registered_writers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_linestring.LineStringShapefileReader">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_linestring.</code><code class="sig-name descname">LineStringShapefileReader</code><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringShapefileReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringShapefileReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.schism_linestring.LineStringIo" title="schimpy.schism_linestring.LineStringIo"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.schism_linestring.LineStringIo</span></code></a></p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_linestring.LineStringShapefileReader.read" title="schimpy.schism_linestring.LineStringShapefileReader.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a>(fpath, **kwargs)</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 47%" />
<col style="width: 53%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>write</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_linestring.LineStringShapefileReader.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringShapefileReader.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringShapefileReader.read" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath: str</strong></dt><dd><p>input file name</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>lines</dt><dd><p>list of LineStrings</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_linestring.LineStringShapefileWriter">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_linestring.</code><code class="sig-name descname">LineStringShapefileWriter</code><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringShapefileWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringShapefileWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.schism_linestring.LineStringIo" title="schimpy.schism_linestring.LineStringIo"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.schism_linestring.LineStringIo</span></code></a></p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_linestring.LineStringShapefileWriter.write" title="schimpy.schism_linestring.LineStringShapefileWriter.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(fpath, lines[, spatial_reference, …])</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>read</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_linestring.LineStringShapefileWriter.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">lines</span></em>, <em class="sig-param"><span class="n">spatial_reference</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">driver_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringShapefileWriter.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringShapefileWriter.write" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath: str</strong></dt><dd><p>output file name</p>
</dd>
<dt><strong>lines: array of schism_linestring.LineString</strong></dt><dd><p>list of LineStrings</p>
</dd>
<dt><strong>spatial_reference: osgeo.osr.SpatialReference</strong></dt><dd></dd>
<dt><strong>default: NAD83, UTM zone 10N, meter</strong></dt><dd></dd>
<dt><strong>todo: reference needs to be in api right now hard to use</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_linestring.LineStringYamlReader">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_linestring.</code><code class="sig-name descname">LineStringYamlReader</code><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringYamlReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringYamlReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.schism_linestring.LineStringIo" title="schimpy.schism_linestring.LineStringIo"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.schism_linestring.LineStringIo</span></code></a></p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 47%" />
<col style="width: 53%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>read</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>write</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_linestring.LineStringYamlReader.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringYamlReader.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringYamlReader.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_linestring.LineStringYamlWriter">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_linestring.</code><code class="sig-name descname">LineStringYamlWriter</code><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringYamlWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringYamlWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.schism_linestring.LineStringIo" title="schimpy.schism_linestring.LineStringIo"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.schism_linestring.LineStringIo</span></code></a></p>
<p>Write line strings from a YAML file</p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 47%" />
<col style="width: 53%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>read</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>write</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_linestring.LineStringYamlWriter.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">lines</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#LineStringYamlWriter.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.LineStringYamlWriter.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_linestring.read_linestrings">
<code class="sig-prename descclassname">schimpy.schism_linestring.</code><code class="sig-name descname">read_linestrings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#read_linestrings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.read_linestrings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.schism_linestring.write_linestrings">
<code class="sig-prename descclassname">schimpy.schism_linestring.</code><code class="sig-name descname">write_linestrings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">lines</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_linestring.html#write_linestrings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_linestring.write_linestrings" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath: str</strong></dt><dd><p>output file name</p>
</dd>
<dt><strong>lines: array of schism_linestring.LineString</strong></dt><dd><p>list of LineStrings</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.schism_mesh">
<span id="schimpy-schism-mesh-module"></span><h2>schimpy.schism_mesh module<a class="headerlink" href="#module-schimpy.schism_mesh" title="Permalink to this headline">¶</a></h2>
<p>3D Version of schism_mesh</p>
<dl class="py attribute">
<dt id="schimpy.schism_mesh.BoundaryType">
<code class="sig-prename descclassname">schimpy.schism_mesh.</code><code class="sig-name descname">BoundaryType</code><a class="headerlink" href="#schimpy.schism_mesh.BoundaryType" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.triquadmesh.Enum</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_mesh.SchismMesh">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_mesh.</code><code class="sig-name descname">SchismMesh</code><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh" title="schimpy.triquadmesh.TriQuadMesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.triquadmesh.TriQuadMesh</span></code></a></p>
<p>Memory model of 3D SCHISM mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.boundaries" title="schimpy.schism_mesh.SchismMesh.boundaries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">boundaries</span></code></a></dt><dd><p>An array of the boundary information</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">edges</span></code></dt><dd><p>Get the array of edges</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">elems</span></code></dt><dd><p>Array of node indexes of all elements.</p>
</dd>
<dt><strong>n_vert_levels</strong></dt><dd></dd>
<dt><strong>node2elems</strong></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">nodes</span></code></dt><dd><p>Node array consisting of three-dimensional coordinates of each node.</p>
</dd>
<dt><strong>vmesh</strong></dt><dd></dd>
<dt><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.z" title="schimpy.schism_mesh.SchismMesh.z"><code class="xref py py-obj docutils literal notranslate"><span class="pre">z</span></code></a></dt><dd><p>Get the elevation of levels at all the nodes</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.add_boundary" title="schimpy.schism_mesh.SchismMesh.add_boundary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_boundary</span></code></a>(nodes, btype[, comment])</p></td>
<td><p>Add one boundary.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code>(n_elems, n_nodes)</p></td>
<td><p>Allocate memory for nodes and elems</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.areas" title="schimpy.schism_mesh.SchismMesh.areas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">areas</span></code></a>()</p></td>
<td><p>Get the array of element areas</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_edgecenters</span></code>()</p></td>
<td><p>Build centers of sides</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_edges_from_elems</span></code>([shift])</p></td>
<td><p>Build edge array from the elements.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_elem_balls</span></code>()</p></td>
<td><p>Build balls of elements around each node</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.build_z" title="schimpy.schism_mesh.SchismMesh.build_z"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_z</span></code></a>([elev])</p></td>
<td><p>Build vertical coordinates</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.centroids" title="schimpy.schism_mesh.SchismMesh.centroids"><code class="xref py py-obj docutils literal notranslate"><span class="pre">centroids</span></code></a>()</p></td>
<td><p>Get a Numpy array of element centroids Returns ——- numpy.ndarray</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.clear_boundaries" title="schimpy.schism_mesh.SchismMesh.clear_boundaries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear_boundaries</span></code></a>()</p></td>
<td><p>Delete all the current boundary information</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">compare</span></code>(mesh)</p></td>
<td><p>Compare the mesh with another</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.edge_len" title="schimpy.schism_mesh.SchismMesh.edge_len"><code class="xref py py-obj docutils literal notranslate"><span class="pre">edge_len</span></code></a>()</p></td>
<td><p>Get a NumPy array of edge lengths The ordering of the edges is decided from triquadmesh.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">elem</span></code>(elem_i)</p></td>
<td><p>Get connectivity of an element</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">element2edges</span></code>(elem_i)</p></td>
<td><p>Get edge indexes of the give element index</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.fill_land_and_island_boundaries" title="schimpy.schism_mesh.SchismMesh.fill_land_and_island_boundaries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_land_and_island_boundaries</span></code></a>()</p></td>
<td><p>Fill land and island boundaries for boundary edges not assigned to boundaries.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.fill_open_boundaries" title="schimpy.schism_mesh.SchismMesh.fill_open_boundaries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_open_boundaries</span></code></a>()</p></td>
<td><p>Fill open boundaries for boundary edges not assigned to boundaries.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_closest_elems</span></code>(pos[, count])</p></td>
<td><p>Find indexes of the closet elems with the given position.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_closest_nodes</span></code>(pos[, count, boundary])</p></td>
<td><p>Returns the count closest nodes to the given node in 2D space.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_edge</span></code>(nodes[, direction])</p></td>
<td><p>Find an edge index with the two given node indexes.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_elem</span></code>(pos)</p></td>
<td><p>Find a element index from a coordinate pos = A coordinate (2D) return = element index</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_intersecting_elems_with_line</span></code>(line_segment)</p></td>
<td><p>Format of the line segment: start_x, start_y, end_x, end_y</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_neighbors_on_segment</span></code>(line_segment)</p></td>
<td><p>Find elements on the line_segment and neighbors that are all to the left (downstream) Format of the line segment: start_x, start_y, end_x, end_y Returns a list of elements on the segment and a list of neighbors.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_nodes_in_box</span></code>(box)</p></td>
<td><p>Find nodes in a bounding box.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.find_two_neighboring_node_paths" title="schimpy.schism_mesh.SchismMesh.find_two_neighboring_node_paths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_two_neighboring_node_paths</span></code></a>(line_segment)</p></td>
<td><p>Find two neighboring node paths around a line_segment</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.get_centers_of_elements" title="schimpy.schism_mesh.SchismMesh.get_centers_of_elements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_centers_of_elements</span></code></a>()</p></td>
<td><p>Get the array of the centers of the element</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.get_centers_of_sides" title="schimpy.schism_mesh.SchismMesh.get_centers_of_sides"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_centers_of_sides</span></code></a>()</p></td>
<td><p>Get the array of the centers of the sides</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.get_coordinates_3d" title="schimpy.schism_mesh.SchismMesh.get_coordinates_3d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_coordinates_3d</span></code></a>()</p></td>
<td><p>Get the array of each 3-d nodes</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_edges_from_node</span></code>(node_i)</p></td>
<td><p>Get edge indexes related to node_i</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_elems_i_from_node</span></code>(node_i)</p></td>
<td><p>Get the ball of elements around a node, node_i</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_neighbor_nodes</span></code>(node_i)</p></td>
<td><p>Get neighboring node indexes from the given node index.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_elem_on_boundary</span></code>(elem_i)</p></td>
<td><p>Check if the given element with index elem_i is on the boundary</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">mark_elem_deleted</span></code>(elem_i)</p></td>
<td><p>Mark an element as deleted or invalid.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.merged_mesh" title="schimpy.schism_mesh.SchismMesh.merged_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">merged_mesh</span></code></a>()</p></td>
<td><p>merge all the meshes to create a boundary polygon</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.n_boundaries" title="schimpy.schism_mesh.SchismMesh.n_boundaries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_boundaries</span></code></a>([btype])</p></td>
<td><p>Get the number of boundaries.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_edges</span></code>()</p></td>
<td><p>Get the total number of edges.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_elems</span></code>()</p></td>
<td><p>Get the total number of elements.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_nodes</span></code>()</p></td>
<td><p>Get the total number of nodes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.n_total_boundary_nodes" title="schimpy.schism_mesh.SchismMesh.n_total_boundary_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_total_boundary_nodes</span></code></a>(btype)</p></td>
<td><p>Get the total node boundary of a given type</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.plot_edge" title="schimpy.schism_mesh.SchismMesh.plot_edge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_edge</span></code></a>([ax, edgecolor])</p></td>
<td><p>Plot the edge of the computational grid.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.plot_elems" title="schimpy.schism_mesh.SchismMesh.plot_elems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_elems</span></code></a>([var, ax, inpoly])</p></td>
<td><p>Plot variables (1D array on element) based on SCHISM mesh grid.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">renumber</span></code>()</p></td>
<td><p>removes duplicate elems and nodes that are not referenced by any element, as well as elems that have been deleted (==-1) This function is lifted and modified slightly from Rusty’s code.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_elem</span></code>(index, connectivity)</p></td>
<td><p>Set element connectivity information.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_node</span></code>(index, coords)</p></td>
<td><p>Set one node information.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">shortest_path</span></code>(n1, n2[, boundary_only])</p></td>
<td><p>Dijkstra on the edge graph from node n1 to n2.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.to_geopandas" title="schimpy.schism_mesh.SchismMesh.to_geopandas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_geopandas</span></code></a>([feature_type, proj4, Shp_fn, …])</p></td>
<td><p>Create mesh polygon and points as geopandas dataframe and shapefiles if Shap_fn file name is supplied.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">trim_elems</span></code>(paths[, left])</p></td>
<td><p>Given a path, trim all elems to the left of it.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_mesh.SchismMesh.trim_to_left_of_mesh" title="schimpy.schism_mesh.SchismMesh.trim_to_left_of_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">trim_to_left_of_mesh</span></code></a>(line_segments)</p></td>
<td><p>Trim mesh using line_segments.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>node</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>plot_nodes</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.add_boundary">
<code class="sig-name descname">add_boundary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nodes</span></em>, <em class="sig-param"><span class="n">btype</span></em>, <em class="sig-param"><span class="n">comment</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.add_boundary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.add_boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nodes: an array of integer</strong></dt><dd><p>array of inter node indexes in the boundary path</p>
</dd>
<dt><strong>btype: integer</strong></dt><dd><p>an integer constant for boundary types.</p>
</dd>
<dt><strong>comment: optional, string</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.areas">
<code class="sig-name descname">areas</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.areas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.areas" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the array of element areas</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.ndarray</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.boundaries">
<em class="property">property </em><code class="sig-name descname">boundaries</code><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.boundaries" title="Permalink to this definition">¶</a></dt>
<dd><p>An array of the boundary information</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Get the array of the boundary information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.build_z">
<code class="sig-name descname">build_z</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elev</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.build_z"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.build_z" title="Permalink to this definition">¶</a></dt>
<dd><p>Build vertical coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.ndarray</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.centroids">
<code class="sig-name descname">centroids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.centroids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.centroids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a Numpy array of element centroids
Returns
——-
numpy.ndarray</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.clear_boundaries">
<code class="sig-name descname">clear_boundaries</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.clear_boundaries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.clear_boundaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all the current boundary information</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.edge_len">
<code class="sig-name descname">edge_len</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.edge_len"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.edge_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a NumPy array of edge lengths
The ordering of the edges is decided from triquadmesh.
Look edges properties to find out connectivity</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.ndarray</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.fill_land_and_island_boundaries">
<code class="sig-name descname">fill_land_and_island_boundaries</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.fill_land_and_island_boundaries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.fill_land_and_island_boundaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill land and island boundaries for boundary edges not assigned
to boundaries.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.fill_open_boundaries">
<code class="sig-name descname">fill_open_boundaries</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.fill_open_boundaries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.fill_open_boundaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill open boundaries for boundary edges not assigned
to boundaries.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.find_two_neighboring_node_paths">
<code class="sig-name descname">find_two_neighboring_node_paths</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line_segment</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.find_two_neighboring_node_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.find_two_neighboring_node_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Find two neighboring node paths around a line_segment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>line_segment: array-like</strong></dt><dd><p>two end points of the line segment, start_x, start_y, end_x, end_y</p>
</dd>
<dt><strong>Returns</strong></dt><dd></dd>
<dt><strong>——</strong></dt><dd></dd>
<dt><strong>up_path: array of int</strong></dt><dd><p>upstream side of node paths</p>
</dd>
<dt><strong>down_path: array of int</strong></dt><dd><p>downstream side of node paths</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.get_centers_of_elements">
<code class="sig-name descname">get_centers_of_elements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.get_centers_of_elements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.get_centers_of_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the array of the centers of the element</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>Array of 2-d coordinates of the centers of the elements
The shape of the array is (n_elems, 2)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.get_centers_of_sides">
<code class="sig-name descname">get_centers_of_sides</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.get_centers_of_sides"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.get_centers_of_sides" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the array of the centers of the sides</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>Array of 3-d coordinates of the centers of the elements
The shape of the array is (n_elems, 2)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.get_coordinates_3d">
<code class="sig-name descname">get_coordinates_3d</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.get_coordinates_3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.get_coordinates_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the array of each 3-d nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>Array of 3-d coordinates
The shape of the array is (n_nodes * n_vert_levels, 3)
The points below the most bottom level will be filled with
the elevation of the the bottom level</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.merged_mesh">
<code class="sig-name descname">merged_mesh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.merged_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.merged_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>merge all the meshes to create a boundary polygon</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.n_boundaries">
<code class="sig-name descname">n_boundaries</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">btype</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.n_boundaries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.n_boundaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of boundaries. If a boundary type is given,
it counts only boundaries with the corresponding type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>btype: integer, optional</strong></dt><dd><p>Type of the boundary.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.n_total_boundary_nodes">
<code class="sig-name descname">n_total_boundary_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">btype</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.n_total_boundary_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.n_total_boundary_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total node boundary of a given type</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>btype: integer</strong></dt><dd><p>Type of the boundary.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.n_vert_levels">
<em class="property">property </em><code class="sig-name descname">n_vert_levels</code><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.n_vert_levels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.plot_edge">
<code class="sig-name descname">plot_edge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">edgecolor</span><span class="o">=</span><span class="default_value">'k'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.plot_edge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.plot_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the edge of the computational grid.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.plot_elems">
<code class="sig-name descname">plot_elems</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">var</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inpoly</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.plot_elems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.plot_elems" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot variables (1D array on element) based on SCHISM mesh grid. 
if var is None,just plot the grid.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.plot_nodes">
<code class="sig-name descname">plot_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">var</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inpoly</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.plot_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.plot_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.to_geopandas">
<code class="sig-name descname">to_geopandas</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">feature_type</span><span class="o">=</span><span class="default_value">'polygon'</span></em>, <em class="sig-param"><span class="n">proj4</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Shp_fn</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">node_values</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">elem_values</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">value_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">create_gdf</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.to_geopandas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.to_geopandas" title="Permalink to this definition">¶</a></dt>
<dd><p>Create mesh polygon and points as geopandas dataframe and shapefiles if
Shap_fn file name is supplied.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.trim_to_left_of_mesh">
<code class="sig-name descname">trim_to_left_of_mesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line_segments</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#SchismMesh.trim_to_left_of_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.trim_to_left_of_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim mesh using line_segments.
This function trims the mesh on the left sides
of the line segments. The left side here means left when you look
at the second end point of a line segment from the first one.
An actual path to trimming is a nodal path that is on the
right side of the line segment.
To manage torus like mesh topology, the argument takes an array
of line segments. The user need to provides a set of line segments
to make sure the left side of the line segments does not
cover the whole mesh.
To trim multiple parts of a mesh, use this function
multiple times.
This function clears up any boundary definitions associated with
the original grid. It is user’s responsibility to create them
again.</p>
<p>line_segments = array of line segments defined by two end points</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.vmesh">
<em class="property">property </em><code class="sig-name descname">vmesh</code><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.vmesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_mesh.SchismMesh.z">
<em class="property">property </em><code class="sig-name descname">z</code><a class="headerlink" href="#schimpy.schism_mesh.SchismMesh.z" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the elevation of levels at all the nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>Depth array of each levels at the nodes.
The shape of the array is (n_nodes, n_vert_levels)
The levels below the most bottom level will be filled with
the elevation of the bottom level</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_mesh.read_mesh">
<code class="sig-prename descclassname">schimpy.schism_mesh.</code><code class="sig-name descname">read_mesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_mesh</span></em>, <em class="sig-param"><span class="n">fpath_vmesh</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#read_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.read_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a mesh data</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>SchismMesh</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_mesh.write_mesh">
<code class="sig-prename descclassname">schimpy.schism_mesh.</code><code class="sig-name descname">write_mesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">fpath_mesh</span></em>, <em class="sig-param"><span class="n">node_attr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">write_boundary</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">proj4</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_mesh.html#write_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_mesh.write_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a horizontal mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mesh: SchismMesh</strong></dt><dd><p>Mesh</p>
</dd>
<dt><strong>fpath_mesh: str</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.schism_polygon">
<span id="schimpy-schism-polygon-module"></span><h2>schimpy.schism_polygon module<a class="headerlink" href="#module-schimpy.schism_polygon" title="Permalink to this headline">¶</a></h2>
<p>Polygon data structure with preprocessor-related attributes and converters</p>
<dl class="py class">
<dt id="schimpy.schism_polygon.SchismPolygon">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_polygon.</code><code class="sig-name descname">SchismPolygon</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shell</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">holes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prop</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">shapely.geometry.polygon.Polygon</span></code></p>
<p>A polygon class based on shapely.geometry.Polygon.
This class has extra information</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">area</span></code></dt><dd><p>Unitless area of the geometry (float)</p>
</dd>
<dt><strong>array_interface_base</strong></dt><dd></dd>
<dt><strong>attribute</strong></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">boundary</span></code></dt><dd><p>Returns a lower dimension geometry that bounds the object</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">bounds</span></code></dt><dd><p>Returns minimum bounding region (minx, miny, maxx, maxy)</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">centroid</span></code></dt><dd><p>Returns the geometric center of the object</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">convex_hull</span></code></dt><dd><p>Imagine an elastic band stretched around the geometry: that’s a</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">coords</span></code></dt><dd><p>Access to geometry’s coordinates (CoordinateSequence)</p>
</dd>
<dt><a class="reference external" href="https://docs.python.org/3/library/ctypes.html#module-ctypes" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ctypes</span></code></a></dt><dd><p>Return ctypes buffer</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">envelope</span></code></dt><dd><p>A figure that envelopes the geometry</p>
</dd>
<dt><strong>exterior</strong></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">geom_type</span></code></dt><dd><p>Name of the geometry’s type, such as ‘Point’</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">has_z</span></code></dt><dd><p>True if the geometry’s coordinate sequence(s) have z values (are</p>
</dd>
<dt><strong>interiors</strong></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_closed</span></code></dt><dd><p>True if the geometry is closed, else False</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_empty</span></code></dt><dd><p>True if the set of points in this geometry is empty, else False</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_ring</span></code></dt><dd><p>True if the geometry is a closed ring, else False</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_simple</span></code></dt><dd><p>True if the geometry is simple, meaning that any self-intersections</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_valid</span></code></dt><dd><p>True if the geometry is valid (definition depends on sub-class),</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">length</span></code></dt><dd><p>Unitless length of the geometry (float)</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">minimum_clearance</span></code></dt><dd><p>Unitless distance by which a node could be moved to produce an invalid geometry (float)</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">minimum_rotated_rectangle</span></code></dt><dd><p>Returns the general minimum bounding rectangle of the geometry.</p>
</dd>
<dt><strong>name</strong></dt><dd></dd>
<dt><strong>prop</strong></dt><dd></dd>
<dt><strong>type</strong></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">wkb</span></code></dt><dd><p>WKB representation of the geometry</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">wkb_hex</span></code></dt><dd><p>WKB hex representation of the geometry</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">wkt</span></code></dt><dd><p>WKT representation of the geometry</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">xy</span></code></dt><dd><p>Separate arrays of X and Y coordinate values</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">almost_equals</span></code>(other[, decimal])</p></td>
<td><p>Returns True if geometries are equal at all coordinates to a specified decimal place</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">buffer</span></code>(distance[, resolution, quadsegs, …])</p></td>
<td><p>Get a geometry that represents all points within a distance of this geometry.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_polygon.SchismPolygon.contains" title="schimpy.schism_polygon.SchismPolygon.contains"><code class="xref py py-obj docutils literal notranslate"><span class="pre">contains</span></code></a>(point)</p></td>
<td><p>Check the polygon contains the point</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">covers</span></code>(other)</p></td>
<td><p>Returns True if the geometry covers the other, else False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">crosses</span></code>(other)</p></td>
<td><p>Returns True if the geometries cross, else False</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">difference</span></code>(other)</p></td>
<td><p>Returns the difference of the geometries</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">disjoint</span></code>(other)</p></td>
<td><p>Returns True if geometries are disjoint, else False</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">distance</span></code>(other)</p></td>
<td><p>Unitless distance to other geometry (float)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">equals</span></code>(other)</p></td>
<td><p>Returns True if geometries are equal, else False</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">equals_exact</span></code>(other, tolerance)</p></td>
<td><p>Returns True if geometries are equal to within a specified tolerance</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_bounds</span></code>(xmin, ymin, xmax, ymax)</p></td>
<td><p>Construct a <cite>Polygon()</cite> from spatial bounds.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">hausdorff_distance</span></code>(other)</p></td>
<td><p>Unitless hausdorff distance to other geometry (float)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpolate</span></code>(distance[, normalized])</p></td>
<td><p>Return a point at the specified distance along a linear geometry</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">intersection</span></code>(other)</p></td>
<td><p>Returns the intersection of the geometries</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_polygon.SchismPolygon.intersects" title="schimpy.schism_polygon.SchismPolygon.intersects"><code class="xref py py-obj docutils literal notranslate"><span class="pre">intersects</span></code></a>(val)</p></td>
<td><p>Check the polygon intersects with the point</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">overlaps</span></code>(other)</p></td>
<td><p>Returns True if geometries overlap, else False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">project</span></code>(other[, normalized])</p></td>
<td><p>Returns the distance along this geometry to a point nearest the specified point</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">relate</span></code>(other)</p></td>
<td><p>Returns the DE-9IM intersection matrix for the two geometries (string)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">relate_pattern</span></code>(other, pattern)</p></td>
<td><p>Returns True if the DE-9IM string code for the relationship between the geometries satisfies the pattern, else False</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">representative_point</span></code>()</p></td>
<td><p>Returns a point guaranteed to be within the object, cheaply.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">simplify</span></code>(tolerance[, preserve_topology])</p></td>
<td><p>Returns a simplified geometry produced by the Douglas-Peucker algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">svg</span></code>([scale_factor, fill_color])</p></td>
<td><p>Returns SVG path element for the Polygon geometry.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">symmetric_difference</span></code>(other)</p></td>
<td><p>Returns the symmetric difference of the geometries (Shapely geometry)</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">touches</span></code>(other)</p></td>
<td><p>Returns True if geometries touch, else False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">union</span></code>(other)</p></td>
<td><p>Returns the union of the geometries (Shapely geometry)</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">within</span></code>(other)</p></td>
<td><p>Returns True if geometry is within the other, else False</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 62%" />
<col style="width: 38%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>empty</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>geometryType</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>to_wkb</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>to_wkt</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygon.attribute">
<em class="property">property </em><code class="sig-name descname">attribute</code><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygon.attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygon.contains">
<code class="sig-name descname">contains</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">point</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygon.contains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygon.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the polygon contains the point</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>point: np.ndarray or shapely.geometry.polygon.Polygon</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygon.intersects">
<code class="sig-name descname">intersects</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygon.intersects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygon.intersects" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the polygon intersects with the point</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>point: np.ndarray or shapely.geometry.polygon.Polygon</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygon.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygon.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygon.prop">
<em class="property">property </em><code class="sig-name descname">prop</code><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygon.prop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygon.type">
<em class="property">property </em><code class="sig-name descname">type</code><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygon.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_polygon.SchismPolygonDictConverter">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_polygon.</code><code class="sig-name descname">SchismPolygonDictConverter</code><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonDictConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonDictConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.schism_polygon.SchismPolygonIo" title="schimpy.schism_polygon.SchismPolygonIo"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.schism_polygon.SchismPolygonIo</span></code></a></p>
<p>Convert a tree to a list of polygons</p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>read</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygonDictConverter.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonDictConverter.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonDictConverter.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_polygon.SchismPolygonIo">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_polygon.</code><code class="sig-name descname">SchismPolygonIo</code><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonIo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonIo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>SchismPolygon I/O abstract class</p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>read</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygonIo.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stream</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonIo.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonIo.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_polygon.SchismPolygonIoFactory">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_polygon.</code><code class="sig-name descname">SchismPolygonIoFactory</code><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonIoFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonIoFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A factory class for SchismPolygonIo</p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 73%" />
<col style="width: 27%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>get_reader</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>get_writer</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>show_registered_readers</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygonIoFactory.get_reader">
<code class="sig-name descname">get_reader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonIoFactory.get_reader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonIoFactory.get_reader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygonIoFactory.get_writer">
<code class="sig-name descname">get_writer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonIoFactory.get_writer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonIoFactory.get_writer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="schimpy.schism_polygon.SchismPolygonIoFactory.registered_readers">
<code class="sig-name descname">registered_readers</code><em class="property"> = {'dict': 'SchismPolygonDictConverter', 'shp': 'SchismPolygonShapefileReader', 'yaml': 'SchismPolygonYamlReader'}</em><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonIoFactory.registered_readers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="schimpy.schism_polygon.SchismPolygonIoFactory.registered_writers">
<code class="sig-name descname">registered_writers</code><em class="property"> = {'shp': 'SchismPolygonShapefileWriter', 'yaml': 'SchismPolygonYamlWriter'}</em><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonIoFactory.registered_writers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygonIoFactory.show_registered_readers">
<code class="sig-name descname">show_registered_readers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonIoFactory.show_registered_readers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonIoFactory.show_registered_readers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_polygon.SchismPolygonShapefileReader">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_polygon.</code><code class="sig-name descname">SchismPolygonShapefileReader</code><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonShapefileReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonShapefileReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.schism_polygon.SchismPolygonIo" title="schimpy.schism_polygon.SchismPolygonIo"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.schism_polygon.SchismPolygonIo</span></code></a></p>
<p>Read polygons from a shape file</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_polygon.SchismPolygonShapefileReader.read" title="schimpy.schism_polygon.SchismPolygonShapefileReader.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a>(fpath)</p></td>
<td><p>Read polygons from a Shapefile and return a list of SchismPolygons.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygonShapefileReader.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonShapefileReader.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonShapefileReader.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read polygons from a Shapefile and return a list of
SchismPolygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath: str</strong></dt><dd><p>Filename of a Shapefile containing Polygons with
data columns such as name, type, and attribute.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>list</dt><dd><p>list of SchismPolygons</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_polygon.SchismPolygonShapefileWriter">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_polygon.</code><code class="sig-name descname">SchismPolygonShapefileWriter</code><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonShapefileWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonShapefileWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.schism_polygon.SchismPolygonIo" title="schimpy.schism_polygon.SchismPolygonIo"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.schism_polygon.SchismPolygonIo</span></code></a></p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_polygon.SchismPolygonShapefileWriter.write" title="schimpy.schism_polygon.SchismPolygonShapefileWriter.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(fpath, polygons[, spatial_reference, …])</p></td>
<td><p>Convert SCHISM polygon YAML file to a shapefile</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>read</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygonShapefileWriter.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">polygons</span></em>, <em class="sig-param"><span class="n">spatial_reference</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">driver_name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonShapefileWriter.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonShapefileWriter.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SCHISM polygon YAML file to a shapefile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath: str</strong></dt><dd><p>output file name</p>
</dd>
<dt><strong>polygons: array of schism_polygon.SchismPolygon</strong></dt><dd><p>polygons to write</p>
</dd>
<dt><strong>spatial_reference: osgeo.osr.SpatialReference or proj4 string</strong></dt><dd><p>default: NAD83, UTM zone 10N, meter</p>
</dd>
<dt><strong>driver_name: osgeo.ogr Driver name</strong></dt><dd><p>default: ESRI Shapefile</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_polygon.SchismPolygonYamlReader">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_polygon.</code><code class="sig-name descname">SchismPolygonYamlReader</code><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonYamlReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonYamlReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.schism_polygon.SchismPolygonIo" title="schimpy.schism_polygon.SchismPolygonIo"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.schism_polygon.SchismPolygonIo</span></code></a></p>
<p>Read polygons from a SCHSIM YAML polygon file</p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>read</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygonYamlReader.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonYamlReader.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonYamlReader.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_polygon.SchismPolygonYamlWriter">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_polygon.</code><code class="sig-name descname">SchismPolygonYamlWriter</code><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonYamlWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonYamlWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.schism_polygon.SchismPolygonIo" title="schimpy.schism_polygon.SchismPolygonIo"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.schism_polygon.SchismPolygonIo</span></code></a></p>
<p>Write polygons into a YAML file</p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 47%" />
<col style="width: 53%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>read</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>write</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_polygon.SchismPolygonYamlWriter.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">polygons</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#SchismPolygonYamlWriter.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.SchismPolygonYamlWriter.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_polygon.read_polygons">
<code class="sig-prename descclassname">schimpy.schism_polygon.</code><code class="sig-name descname">read_polygons</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#read_polygons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.read_polygons" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a polygon file</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_polygon.write_polygons">
<code class="sig-prename descclassname">schimpy.schism_polygon.</code><code class="sig-name descname">write_polygons</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">polygons</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_polygon.html#write_polygons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_polygon.write_polygons" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.schism_setup">
<span id="schimpy-schism-setup-module"></span><h2>schimpy.schism_setup module<a class="headerlink" href="#module-schimpy.schism_setup" title="Permalink to this headline">¶</a></h2>
<p>Setup and processes SCHISM Inputs</p>
<dl class="py class">
<dt id="schimpy.schism_setup.SchismSetup">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_setup.</code><code class="sig-name descname">SchismSetup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to manage SCHISM input data</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>input</strong></dt><dd></dd>
<dt><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.mesh" title="schimpy.schism_setup.SchismSetup.mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mesh</span></code></a></dt><dd><p>Mesh</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.adopt_new_mesh" title="schimpy.schism_setup.SchismSetup.adopt_new_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">adopt_new_mesh</span></code></a>(fname)</p></td>
<td><p>Adopt a new grid.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.apply_polygons" title="schimpy.schism_setup.SchismSetup.apply_polygons"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_polygons</span></code></a>(polygons, default)</p></td>
<td><p>Partition the grid with the given polygons.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.creart_sources_from_user_input" title="schimpy.schism_setup.SchismSetup.creart_sources_from_user_input"><code class="xref py py-obj docutils literal notranslate"><span class="pre">creart_sources_from_user_input</span></code></a>()</p></td>
<td><p>Create a source from a user input</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.create_flux_regions" title="schimpy.schism_setup.SchismSetup.create_flux_regions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_flux_regions</span></code></a>(linestrings[, out_fname])</p></td>
<td><p>Create and write flux_regions.gr3 with the given lines</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.create_node_partitioning" title="schimpy.schism_setup.SchismSetup.create_node_partitioning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_node_partitioning</span></code></a>(gr3_fname, …)</p></td>
<td><p>Create a gr3 file with node partitioning using polygons in the polygon file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.create_open_boundaries" title="schimpy.schism_setup.SchismSetup.create_open_boundaries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_open_boundaries</span></code></a>(segments)</p></td>
<td><p>Create open boundaries with linestrings</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.create_prop_partitioning" title="schimpy.schism_setup.SchismSetup.create_prop_partitioning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_prop_partitioning</span></code></a>(prop_fname, …)</p></td>
<td><p>Create a prop file with element partitioning using polygons in the polygon file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.create_source_sink_in" title="schimpy.schism_setup.SchismSetup.create_source_sink_in"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_source_sink_in</span></code></a>(source_sinks[, out_fname])</p></td>
<td><p>Create source_sink.in from source/sink location information in_fname = input file name</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.create_structures" title="schimpy.schism_setup.SchismSetup.create_structures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_structures</span></code></a>(structures[, nudging])</p></td>
<td><p>Create structures</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.elements_on_linestring" title="schimpy.schism_setup.SchismSetup.elements_on_linestring"><code class="xref py py-obj docutils literal notranslate"><span class="pre">elements_on_linestring</span></code></a>(coords)</p></td>
<td><p>List elements along linestring</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.interpolate_tide" title="schimpy.schism_setup.SchismSetup.interpolate_tide"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpolate_tide</span></code></a>(time_start, time_end, dt, …)</p></td>
<td><p>Interpolate an observed tide time series with the given dt.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.load" title="schimpy.schism_setup.SchismSetup.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(dir)</p></td>
<td><p>Read SCHISM input</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.modify_depth" title="schimpy.schism_setup.SchismSetup.modify_depth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">modify_depth</span></code></a>(polygon_data)</p></td>
<td><p>Modify depth with the polygon information</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.reorder_open_boundaries" title="schimpy.schism_setup.SchismSetup.reorder_open_boundaries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reorder_open_boundaries</span></code></a>(order)</p></td>
<td><p>Reorder open boundaries with the given order order = list of open boundary names TODO: How to put the name of the boundaries is not settled.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.trim_to_left_of_mesh" title="schimpy.schism_setup.SchismSetup.trim_to_left_of_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">trim_to_left_of_mesh</span></code></a>(line_segments)</p></td>
<td><p>Trim mesh using line_segments.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.write_hgrid" title="schimpy.schism_setup.SchismSetup.write_hgrid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_hgrid</span></code></a>(fname[, attr, boundary])</p></td>
<td><p>Write a hgrid file only.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.write_hgrid_ll" title="schimpy.schism_setup.SchismSetup.write_hgrid_ll"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_hgrid_ll</span></code></a>(fname, boundary[, …])</p></td>
<td><p>Write a hgrid.ll, lat-long mesh file, of the current mesh.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_setup.SchismSetup.write_structures" title="schimpy.schism_setup.SchismSetup.write_structures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_structures</span></code></a>([fname])</p></td>
<td><p>Write a SCHISM structure file fname = output file name</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 78%" />
<col style="width: 22%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>apply_linestring_ops</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>get_closest_node_i_from_new_mesh</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.adopt_new_mesh">
<code class="sig-name descname">adopt_new_mesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.adopt_new_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.adopt_new_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Adopt a new grid.
fname = the file name of a new hgrid file</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.apply_linestring_ops">
<code class="sig-name descname">apply_linestring_ops</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default</span></em>, <em class="sig-param"><span class="n">linestrings</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.apply_linestring_ops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.apply_linestring_ops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.apply_polygons">
<code class="sig-name descname">apply_polygons</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">polygons</span></em>, <em class="sig-param"><span class="n">default</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.apply_polygons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.apply_polygons" title="Permalink to this definition">¶</a></dt>
<dd><p>Partition the grid with the given polygons.
Each node (not element) will be assigned with an integer ID
which is the index of the polygons.
If some polygons overlap, the latter one will trump the former one.
The area that are not covered by any of the given polygons
will have a default negative one attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>polygons: list</strong></dt><dd><p>a list of polygon dict (from YAML most of time)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>attributes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.creart_sources_from_user_input">
<code class="sig-name descname">creart_sources_from_user_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.creart_sources_from_user_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.creart_sources_from_user_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a source from a user input</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.create_flux_regions">
<code class="sig-name descname">create_flux_regions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">linestrings</span></em>, <em class="sig-param"><span class="n">out_fname</span><span class="o">=</span><span class="default_value">'fluxflag.prop'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.create_flux_regions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.create_flux_regions" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and write flux_regions.gr3 with the given lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>linestrings: list</strong></dt><dd><p>A list containing information for flux regions.
It must contains ‘linestrings.’</p>
</dd>
<dt><strong>out_fname: str, optional</strong></dt><dd><p>Output file name</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.create_node_partitioning">
<code class="sig-name descname">create_node_partitioning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gr3_fname</span></em>, <em class="sig-param"><span class="n">polygons</span></em>, <em class="sig-param"><span class="n">default</span></em>, <em class="sig-param"><span class="n">smooth</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.create_node_partitioning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.create_node_partitioning" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a gr3 file with node partitioning using
polygons in the polygon file.
gr3_fname = output gr3 file name
polygons = polygons</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.create_open_boundaries">
<code class="sig-name descname">create_open_boundaries</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">segments</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.create_open_boundaries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.create_open_boundaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Create open boundaries with linestrings</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.create_prop_partitioning">
<code class="sig-name descname">create_prop_partitioning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prop_fname</span></em>, <em class="sig-param"><span class="n">polygons</span></em>, <em class="sig-param"><span class="n">default</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.create_prop_partitioning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.create_prop_partitioning" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a prop file with element partitioning using
polygons in the polygon file.
prop_fname = output prop file name
polygons = polygons</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.create_source_sink_in">
<code class="sig-name descname">create_source_sink_in</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_sinks</span></em>, <em class="sig-param"><span class="n">out_fname</span><span class="o">=</span><span class="default_value">'source_sink.in'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.create_source_sink_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.create_source_sink_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Create source_sink.in from source/sink location information
in_fname = input file name</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.create_structures">
<code class="sig-name descname">create_structures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structures</span></em>, <em class="sig-param"><span class="n">nudging</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.create_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.create_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Create structures</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.elements_on_linestring">
<code class="sig-name descname">elements_on_linestring</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coords</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.elements_on_linestring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.elements_on_linestring" title="Permalink to this definition">¶</a></dt>
<dd><p>List elements along linestring</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.get_closest_node_i_from_new_mesh">
<code class="sig-name descname">get_closest_node_i_from_new_mesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">node_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.get_closest_node_i_from_new_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.get_closest_node_i_from_new_mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.input">
<em class="property">property </em><code class="sig-name descname">input</code><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.interpolate_tide">
<code class="sig-name descname">interpolate_tide</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_start</span></em>, <em class="sig-param"><span class="n">time_end</span></em>, <em class="sig-param"><span class="n">dt</span></em>, <em class="sig-param"><span class="n">in_fname</span></em>, <em class="sig-param"><span class="n">out_fname</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.interpolate_tide"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.interpolate_tide" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate an observed tide time series with the given dt.
time_start = start time in Python datetime
time_end = end time in Python datetime
dt = delta t for the interpolation output
in_fname = input file name of tide records
out_fname = output file name</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Read SCHISM input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dir: String</strong></dt><dd><p>An directory where the SCHISM inputs reside</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.mesh">
<em class="property">property </em><code class="sig-name descname">mesh</code><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Return the mesh.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.modify_depth">
<code class="sig-name descname">modify_depth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">polygon_data</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.modify_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.modify_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify depth with the polygon information</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.reorder_open_boundaries">
<code class="sig-name descname">reorder_open_boundaries</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">order</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.reorder_open_boundaries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.reorder_open_boundaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder open boundaries with the given order
order = list of open boundary names
TODO: How to put the name of the boundaries is not settled.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.trim_to_left_of_mesh">
<code class="sig-name descname">trim_to_left_of_mesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line_segments</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.trim_to_left_of_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.trim_to_left_of_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim mesh using line_segments.
This function trims the mesh on the left sides
of the line segments. The left side here means left when you look
at the second end point of a line segment from the first one.
An actual path to trimming is a nodal path that is on the
right side of the line segment.
To manage torus like mesh topology, the argument takes an array
of line segments. The user need to provides a set of line segments
to make sure the left side of the line segments does not
cover the whole mesh.
To trim multiple parts of a mesh, use this function
multiple times.
This function clears up any boundary definitions associated with
the original grid. It is user’s responsibility to create them
again.</p>
<p>line_segments = array of line segments defined by two end points</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.write_hgrid">
<code class="sig-name descname">write_hgrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">boundary</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.write_hgrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.write_hgrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a hgrid file only.
fname = the output file name
attr = attribute array in numpy format. If None, original data
will be kept.
boundary = If True, boundary info will be appended at the end of
the file. Otherwise, not appended.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.write_hgrid_ll">
<code class="sig-name descname">write_hgrid_ll</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">boundary</span></em>, <em class="sig-param"><span class="n">input_epsg</span><span class="o">=</span><span class="default_value">26910</span></em>, <em class="sig-param"><span class="n">output_epsg</span><span class="o">=</span><span class="default_value">4269</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.write_hgrid_ll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.write_hgrid_ll" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a hgrid.ll, lat-long mesh file, of the current mesh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname: str</strong></dt><dd><p>the output file name</p>
</dd>
<dt><strong>input_epsg: int, optional</strong></dt><dd><p>input EPSG. default value is 26910, NAD83/UTM10N.</p>
</dd>
<dt><strong>output_epsg: int, optional</strong></dt><dd><p>output EPSG. default value is 4269, NAD83</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_setup.SchismSetup.write_structures">
<code class="sig-name descname">write_structures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span><span class="o">=</span><span class="default_value">'hydraulics.in'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#SchismSetup.write_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.SchismSetup.write_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a SCHISM structure file
fname = output file name</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_setup.check_and_suggest">
<code class="sig-prename descclassname">schimpy.schism_setup.</code><code class="sig-name descname">check_and_suggest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">testees</span></em>, <em class="sig-param"><span class="n">list_words</span></em>, <em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#check_and_suggest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.check_and_suggest" title="Permalink to this definition">¶</a></dt>
<dd><p>Check testtees in list_words and if not suggest something if possible</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_setup.check_similarity">
<code class="sig-prename descclassname">schimpy.schism_setup.</code><code class="sig-name descname">check_similarity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">testee</span></em>, <em class="sig-param"><span class="n">list_words</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#check_similarity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.check_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Check similarity of a word</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_setup.create_schism_setup">
<code class="sig-prename descclassname">schimpy.schism_setup.</code><code class="sig-name descname">create_schism_setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#create_schism_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.create_schism_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a mesh and return a SCHISM input set-up instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname: str</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>SCHISM input set-up instance</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_setup.load_schism">
<code class="sig-prename descclassname">schimpy.schism_setup.</code><code class="sig-name descname">load_schism</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_setup.html#load_schism"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_setup.load_schism" title="Permalink to this definition">¶</a></dt>
<dd><p>A load function</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.schism_source">
<span id="schimpy-schism-source-module"></span><h2>schimpy.schism_source module<a class="headerlink" href="#module-schimpy.schism_source" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="schimpy.schism_source.SchismSource">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_source.</code><code class="sig-name descname">SchismSource</code><a class="reference internal" href="_modules/schimpy/schism_source.html#SchismSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_source.SchismSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to hold structure information</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>coord</strong></dt><dd></dd>
<dt><strong>element_id</strong></dt><dd></dd>
<dt><strong>note</strong></dt><dd></dd>
<dt><strong>type</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="schimpy.schism_source.SchismSource.coord">
<em class="property">property </em><code class="sig-name descname">coord</code><a class="headerlink" href="#schimpy.schism_source.SchismSource.coord" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_source.SchismSource.element_id">
<em class="property">property </em><code class="sig-name descname">element_id</code><a class="headerlink" href="#schimpy.schism_source.SchismSource.element_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_source.SchismSource.note">
<em class="property">property </em><code class="sig-name descname">note</code><a class="headerlink" href="#schimpy.schism_source.SchismSource.note" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_source.SchismSource.type">
<em class="property">property </em><code class="sig-name descname">type</code><a class="headerlink" href="#schimpy.schism_source.SchismSource.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_source.SchismSourceIO">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_source.</code><code class="sig-name descname">SchismSourceIO</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_source.html#SchismSourceIO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_source.SchismSourceIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to manage source/sink I/O</p>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 47%" />
<col style="width: 53%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>read</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>write</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_source.SchismSourceIO.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_source.html#SchismSourceIO.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_source.SchismSourceIO.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_source.SchismSourceIO.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span><span class="o">=</span><span class="default_value">'source_sink.in'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_source.html#SchismSourceIO.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_source.SchismSourceIO.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-schimpy.schism_structure">
<span id="schimpy-schism-structure-module"></span><h2>schimpy.schism_structure module<a class="headerlink" href="#module-schimpy.schism_structure" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="schimpy.schism_structure.SchismStructure">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_structure.</code><code class="sig-name descname">SchismStructure</code><a class="reference internal" href="_modules/schimpy/schism_structure.html#SchismStructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_structure.SchismStructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to hold structure information</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>coords</strong></dt><dd></dd>
<dt><strong>n_duplicate</strong></dt><dd></dd>
<dt><strong>name</strong></dt><dd></dd>
<dt><strong>node_pairs</strong></dt><dd></dd>
<dt><strong>properties</strong></dt><dd></dd>
<dt><strong>reference</strong></dt><dd></dd>
<dt><strong>reference_pair</strong></dt><dd></dd>
<dt><strong>type</strong></dt><dd></dd>
<dt><strong>use_timeseries</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 62%" />
<col style="width: 38%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>n_node_pairs</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructure.coords">
<em class="property">property </em><code class="sig-name descname">coords</code><a class="headerlink" href="#schimpy.schism_structure.SchismStructure.coords" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructure.n_duplicate">
<em class="property">property </em><code class="sig-name descname">n_duplicate</code><a class="headerlink" href="#schimpy.schism_structure.SchismStructure.n_duplicate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructure.n_node_pairs">
<code class="sig-name descname">n_node_pairs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_structure.html#SchismStructure.n_node_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_structure.SchismStructure.n_node_pairs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructure.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#schimpy.schism_structure.SchismStructure.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructure.node_pairs">
<em class="property">property </em><code class="sig-name descname">node_pairs</code><a class="headerlink" href="#schimpy.schism_structure.SchismStructure.node_pairs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructure.properties">
<em class="property">property </em><code class="sig-name descname">properties</code><a class="headerlink" href="#schimpy.schism_structure.SchismStructure.properties" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructure.reference">
<em class="property">property </em><code class="sig-name descname">reference</code><a class="headerlink" href="#schimpy.schism_structure.SchismStructure.reference" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructure.reference_pair">
<em class="property">property </em><code class="sig-name descname">reference_pair</code><a class="headerlink" href="#schimpy.schism_structure.SchismStructure.reference_pair" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructure.type">
<em class="property">property </em><code class="sig-name descname">type</code><a class="headerlink" href="#schimpy.schism_structure.SchismStructure.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructure.use_timeseries">
<em class="property">property </em><code class="sig-name descname">use_timeseries</code><a class="headerlink" href="#schimpy.schism_structure.SchismStructure.use_timeseries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_structure.SchismStructureIO">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_structure.</code><code class="sig-name descname">SchismStructureIO</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_structure.html#SchismStructureIO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_structure.SchismStructureIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#schimpy.base_io.BaseIO" title="schimpy.base_io.BaseIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.base_io.BaseIO</span></code></a></p>
<p>A class to manage hydraulic structure I/O files</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>linecounter</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.schism_structure.SchismStructureIO.read" title="schimpy.schism_structure.SchismStructureIO.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a>(fname)</p></td>
<td><p>Read in ‘hydraulics.in’ file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.schism_structure.SchismStructureIO.write" title="schimpy.schism_structure.SchismStructureIO.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>([fname])</p></td>
<td><p>Write out ‘hydraulics.in’ file.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructureIO.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_structure.html#SchismStructureIO.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_structure.SchismStructureIO.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in ‘hydraulics.in’ file.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.schism_structure.SchismStructureIO.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span><span class="o">=</span><span class="default_value">'hydraulics.in'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_structure.html#SchismStructureIO.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_structure.SchismStructureIO.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out ‘hydraulics.in’ file.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-schimpy.schism_vertical_mesh">
<span id="schimpy-schism-vertical-mesh-module"></span><h2>schimpy.schism_vertical_mesh module<a class="headerlink" href="#module-schimpy.schism_vertical_mesh" title="Permalink to this headline">¶</a></h2>
<p>SchismVerticalMesh class with a reader</p>
<dl class="py function">
<dt id="schimpy.schism_vertical_mesh.read_vmesh">
<code class="sig-prename descclassname">schimpy.schism_vertical_mesh.</code><code class="sig-name descname">read_vmesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_vmesh</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_vertical_mesh.html#read_vmesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_vertical_mesh.read_vmesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a vgrid file</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.schism_yaml">
<span id="schimpy-schism-yaml-module"></span><h2>schimpy.schism_yaml module<a class="headerlink" href="#module-schimpy.schism_yaml" title="Permalink to this headline">¶</a></h2>
<p>A customized version of YAML parser for SCHISM
It stores document in an ordered dict and supports variable substitution.</p>
<dl class="py class">
<dt id="schimpy.schism_yaml.ArgumentParserYaml">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_yaml.</code><code class="sig-name descname">ArgumentParserYaml</code><span class="sig-paren">(</span><em class="sig-param">prog=None</em>, <em class="sig-param">usage=None</em>, <em class="sig-param">description=None</em>, <em class="sig-param">epilog=None</em>, <em class="sig-param">version=None</em>, <em class="sig-param">parents=[]</em>, <em class="sig-param">formatter_class=&lt;class 'argparse.HelpFormatter'&gt;</em>, <em class="sig-param">prefix_chars='-'</em>, <em class="sig-param">fromfile_prefix_chars=None</em>, <em class="sig-param">argument_default=None</em>, <em class="sig-param">conflict_handler='error'</em>, <em class="sig-param">add_help=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_yaml.html#ArgumentParserYaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_yaml.ArgumentParserYaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.ArgumentParser</span></code></a></p>
<p>Extended parser to handle YAML file as file input for ArgumentParser.
If a file input given with ‘fromfile_prefix_chars’ has a YAML extension,
‘.yaml’, it will be handled as optional pairs for ArgumentParser.
For example, ‘script.py’ can use a YAML file for an input file of 
ArgumentParser as follow:
parser = schism_yaml.ArgumentParserYaml(fromfile_prefix_chars=’&#64;’)
parser.parse_arg()</p>
<p>$script.py &#64;args.yaml</p>
<p>And when ‘args.yaml’ contains:
input1: 1
input2: 2 3</p>
<p>it has the same effect as
$script.py –input1 1 –input2 2 3</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_argument</span></code>(dest, …[, name, name])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_subparsers</span></code>(**kwargs)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">error</span></code>(message)</p></td>
<td><p>Prints a usage message incorporating the message to stderr and exits.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">exit</span></code>([status, message])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">format_usage</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_args</span></code>([args, namespace])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">print_usage</span></code>([file])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">register</span></code>(registry_name, value, object)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_defaults</span></code>(**kwargs)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 76%" />
<col style="width: 24%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>add_argument_group</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>add_mutually_exclusive_group</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>convert_arg_line_to_args</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>format_help</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>get_default</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>parse_intermixed_args</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>parse_known_args</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>parse_known_intermixed_args</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>print_help</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py class">
<dt id="schimpy.schism_yaml.YamlAction">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.schism_yaml.</code><code class="sig-name descname">YamlAction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">option_strings</span></em>, <em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="n">nargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_yaml.html#YamlAction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_yaml.YamlAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/argparse.html#argparse.Action" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.Action</span></code></a></p>
<p>Custom action to parse YAML files for argparse.
This action reads in simple pairs of data from a YAML file, and
feeds them to the parser. A YAML file must be a list of pairs
without multiple levels of tree.
Example:
parser.add_argument(“–yaml”, action=YamlAction)</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(parser, namespace, values[, …])</p></td>
<td><p>Call self as a function.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_yaml.dump">
<code class="sig-prename descclassname">schimpy.schism_yaml.</code><code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">stream=None</em>, <em class="sig-param">Dumper=&lt;class 'yaml.dumper.Dumper'&gt;</em>, <em class="sig-param">**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_yaml.html#dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_yaml.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize a Python object into a YAML stream.
If stream is None, return the produced string instead.</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.schism_yaml.load">
<code class="sig-prename descclassname">schimpy.schism_yaml.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stream</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/schism_yaml.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.schism_yaml.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a schism YAML</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.separate_species">
<span id="schimpy-separate-species-module"></span><h2>schimpy.separate_species module<a class="headerlink" href="#module-schimpy.separate_species" title="Permalink to this headline">¶</a></h2>
<p>Separation of tidal data into species
The key function in this module is separate_species, which decomposes
tides into subtidal, diurnal, semidiurnal and noise components. 
A demo function is also provided that reads tide series (6min intervl) 
from input files, seperates  the species, writes results and optionally plots
an example</p>
<dl class="py function">
<dt id="schimpy.separate_species.create_arg_parser">
<code class="sig-prename descclassname">schimpy.separate_species.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/separate_species.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.separate_species.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.separate_species.main">
<code class="sig-prename descclassname">schimpy.separate_species.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/separate_species.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.separate_species.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.separate_species.plot_result">
<code class="sig-prename descclassname">schimpy.separate_species.</code><code class="sig-name descname">plot_result</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="n">ts_semi</span></em>, <em class="sig-param"><span class="n">ts_diurnal</span></em>, <em class="sig-param"><span class="n">ts_sub_tide</span></em>, <em class="sig-param"><span class="n">station</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/separate_species.html#plot_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.separate_species.plot_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.separate_species.run_example">
<code class="sig-prename descclassname">schimpy.separate_species.</code><code class="sig-name descname">run_example</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/separate_species.html#run_example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.separate_species.run_example" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the data for the example. 
Note that you want the data to 
be at least 4 days longer than the desired output</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.separate_species.separate_species">
<code class="sig-prename descclassname">schimpy.separate_species.</code><code class="sig-name descname">separate_species</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="n">noise_thresh_min</span><span class="o">=</span><span class="default_value">40</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/separate_species.html#separate_species"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.separate_species.separate_species" title="Permalink to this definition">¶</a></dt>
<dd><p>Separate species into subtidal, diurnal, semidiurnal and noise components</p>
<dl class="simple">
<dt>Input:</dt><dd><p>ts: timeseries to be decomposed into species, assumed to be
at six minute intervals. The filters used
have long lenghts, so avoid missing data and allow for four extra
days worth of data on each end.</p>
</dd>
<dt>Output:</dt><dd><p>four regular time series, representing subtidal, diurnal, semi-diurnal and noise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.separate_species.write_th">
<code class="sig-prename descclassname">schimpy.separate_species.</code><code class="sig-name descname">write_th</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">ts_output</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/separate_species.html#write_th"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.separate_species.write_th" title="Permalink to this definition">¶</a></dt>
<dd><p>This works fine for fairly big series</p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.simulation_timing">
<span id="schimpy-simulation-timing-module"></span><h2>schimpy.simulation_timing module<a class="headerlink" href="#module-schimpy.simulation_timing" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.simulation_timing.create_arg_parser">
<code class="sig-prename descclassname">schimpy.simulation_timing.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/simulation_timing.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.simulation_timing.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.simulation_timing.schism_timing">
<code class="sig-prename descclassname">schimpy.simulation_timing.</code><code class="sig-name descname">schism_timing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">workdir</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">end</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">block_days</span><span class="o">=</span><span class="default_value">1.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/simulation_timing.html#schism_timing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.simulation_timing.schism_timing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.small_areas">
<span id="schimpy-small-areas-module"></span><h2>schimpy.small_areas module<a class="headerlink" href="#module-schimpy.small_areas" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.small_areas.create_arg_parser">
<code class="sig-prename descclassname">schimpy.small_areas.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/small_areas.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.small_areas.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create ArgumentParser</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.small_areas.main">
<code class="sig-prename descclassname">schimpy.small_areas.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/small_areas.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.small_areas.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.small_areas.small_areas">
<code class="sig-prename descclassname">schimpy.small_areas.</code><code class="sig-name descname">small_areas</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">warn</span><span class="o">=</span><span class="default_value">10.0</span></em>, <em class="sig-param"><span class="n">fail</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/small_areas.html#small_areas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.small_areas.small_areas" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.sms2gr3">
<span id="schimpy-sms2gr3-module"></span><h2>schimpy.sms2gr3 module<a class="headerlink" href="#module-schimpy.sms2gr3" title="Permalink to this headline">¶</a></h2>
<p>Manage conversion from SMS 2dm format to gr3.
Some material borrowed &#64;author: snegusse</p>
<dl class="py class">
<dt id="schimpy.sms2gr3.Boundary">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.sms2gr3.</code><code class="sig-name descname">Boundary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">btype</span></em>, <em class="sig-param"><span class="n">nodestring</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/sms2gr3.html#Boundary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.sms2gr3.Boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.sms2gr3.addnode">
<code class="sig-prename descclassname">schimpy.sms2gr3.</code><code class="sig-name descname">addnode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/sms2gr3.html#addnode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.sms2gr3.addnode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.sms2gr3.convert_2dm">
<code class="sig-prename descclassname">schimpy.sms2gr3.</code><code class="sig-name descname">convert_2dm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">outfile</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">elev2depth</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/sms2gr3.html#convert_2dm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.sms2gr3.convert_2dm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.sms2gr3.create_arg_parser">
<code class="sig-prename descclassname">schimpy.sms2gr3.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/sms2gr3.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.sms2gr3.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.split_quad">
<span id="schimpy-split-quad-module"></span><h2>schimpy.split_quad module<a class="headerlink" href="#module-schimpy.split_quad" title="Permalink to this headline">¶</a></h2>
<p>PoC of quad splitting</p>
<dl class="py function">
<dt id="schimpy.split_quad.split_all_quads">
<code class="sig-prename descclassname">schimpy.split_quad.</code><code class="sig-name descname">split_all_quads</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/split_quad.html#split_all_quads"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.split_quad.split_all_quads" title="Permalink to this definition">¶</a></dt>
<dd><p>Split all quad elements into triangular ones and return a new triangular
mesh. This function maintains the original node indices.
Currently this function does not add boundary information to the new mesh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mesh: SchismMesh</strong></dt><dd><p>a mesh with elements to split</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>SchismMesh</dt><dd><p>A new triangular mesh.
It does not contain any extra information, e.g. boundary information.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.stacked_dem_fill">
<span id="schimpy-stacked-dem-fill-module"></span><h2>schimpy.stacked_dem_fill module<a class="headerlink" href="#module-schimpy.stacked_dem_fill" title="Permalink to this headline">¶</a></h2>
<p>Module contains routines to fill elevation (or other scalar) values at points from a prioritized list of rasters</p>
<p>Depends on GDAL for loading values.</p>
<dl class="py function">
<dt id="schimpy.stacked_dem_fill.ParseType">
<code class="sig-prename descclassname">schimpy.stacked_dem_fill.</code><code class="sig-name descname">ParseType</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/stacked_dem_fill.html#ParseType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.stacked_dem_fill.ParseType" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.stacked_dem_fill.Usage">
<code class="sig-prename descclassname">schimpy.stacked_dem_fill.</code><code class="sig-name descname">Usage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/stacked_dem_fill.html#Usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.stacked_dem_fill.Usage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.stacked_dem_fill.bilinear">
<code class="sig-prename descclassname">schimpy.stacked_dem_fill.</code><code class="sig-name descname">bilinear</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span></em>, <em class="sig-param"><span class="n">gt</span></em>, <em class="sig-param"><span class="n">raster</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/stacked_dem_fill.html#bilinear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.stacked_dem_fill.bilinear" title="Permalink to this definition">¶</a></dt>
<dd><p>Bilinear interpolated point at (px, py) using data on raster
points: npoint x 3 array of (x,y,z points)
gt: geotransform information from gdal
raster: the data</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.stacked_dem_fill.create_arg_parser">
<code class="sig-prename descclassname">schimpy.stacked_dem_fill.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/stacked_dem_fill.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.stacked_dem_fill.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.stacked_dem_fill.filelist_main">
<code class="sig-prename descclassname">schimpy.stacked_dem_fill.</code><code class="sig-name descname">filelist_main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">demlistfile</span></em>, <em class="sig-param"><span class="n">pointlistfile</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/stacked_dem_fill.html#filelist_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.stacked_dem_fill.filelist_main" title="Permalink to this definition">¶</a></dt>
<dd><p>higher level driver routine that parses the names of the DEMs from demfilelist
points ( x,y or x,y,z ) from pointlistfile</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.stacked_dem_fill.fill_2dm">
<code class="sig-prename descclassname">schimpy.stacked_dem_fill.</code><code class="sig-name descname">fill_2dm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">infile</span></em>, <em class="sig-param"><span class="n">outfile</span></em>, <em class="sig-param"><span class="n">files</span></em>, <em class="sig-param"><span class="n">na_fill</span><span class="o">=</span><span class="default_value">2.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/stacked_dem_fill.html#fill_2dm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.stacked_dem_fill.fill_2dm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.stacked_dem_fill.fill_gr3">
<code class="sig-prename descclassname">schimpy.stacked_dem_fill.</code><code class="sig-name descname">fill_gr3</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">infile</span></em>, <em class="sig-param"><span class="n">outfile</span></em>, <em class="sig-param"><span class="n">files</span></em>, <em class="sig-param"><span class="n">elev2depth</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">na_fill</span><span class="o">=</span><span class="default_value">2.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/stacked_dem_fill.html#fill_gr3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.stacked_dem_fill.fill_gr3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.stacked_dem_fill.main">
<code class="sig-prename descclassname">schimpy.stacked_dem_fill.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/stacked_dem_fill.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.stacked_dem_fill.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.stacked_dem_fill.stacked_dem_fill">
<code class="sig-prename descclassname">schimpy.stacked_dem_fill.</code><code class="sig-name descname">stacked_dem_fill</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span></em>, <em class="sig-param"><span class="n">points</span></em>, <em class="sig-param"><span class="n">values</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">negate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">require_all</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">na_fill</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/stacked_dem_fill.html#stacked_dem_fill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.stacked_dem_fill.stacked_dem_fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill values at an array of points using bilinear interpolation from a prioritized stack of dems.
This routine controls prioritization of the dems, gradually filling points that are still marked “nan”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>files:  list[str]</strong></dt><dd><p>list of files. Existence is checked and ValueError for bad file</p>
</dd>
<dt><strong>points: np.ndarray</strong></dt><dd><p>this is a numpy array of points, nrow = # points and ncol = 2 (x,y).</p>
</dd>
<dt><strong>values: np.ndarray</strong></dt><dd><p>values at each point – this is an output, but this gives an opportunity to use an existing data structure to receive</p>
</dd>
<dt><strong>negate: bool</strong></dt><dd><p>if True, values will be inverted (from elevation to depth)</p>
</dd>
<dt><strong>require_all: bool</strong></dt><dd><p>if True, a ValueError is raised if the list of DEMs does not cover all the points. In either case (True/False)
a file is created or overwritten (“dem_misses.txt”) that will show all the misses.</p>
</dd>
<dt><strong>na_fill: float</strong></dt><dd><p>value to substitute at the end for values that are NA after all DEMs are processed.
If require_all = True na_fill must be None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>values</strong><span class="classifier">np.ndarray</span></dt><dd><p>Values at the nodes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.stacked_dem_fill.test_main">
<code class="sig-prename descclassname">schimpy.stacked_dem_fill.</code><code class="sig-name descname">test_main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/stacked_dem_fill.html#test_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.stacked_dem_fill.test_main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.station">
<span id="schimpy-station-module"></span><h2>schimpy.station module<a class="headerlink" href="#module-schimpy.station" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.station.convert_db_station_in">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">convert_db_station_in</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outfile</span><span class="o">=</span><span class="default_value">'station.in'</span></em>, <em class="sig-param"><span class="n">stationdb</span><span class="o">=</span><span class="default_value">'stations_utm.csv'</span></em>, <em class="sig-param"><span class="n">sublocdb</span><span class="o">=</span><span class="default_value">'station_subloc.csv'</span></em>, <em class="sig-param"><span class="n">station_request</span><span class="o">=</span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">- 0.5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#convert_db_station_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.convert_db_station_in" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.station.create_arg_parser">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">create_arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#create_arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.create_arg_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an argument parser</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.example">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">example</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.example" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.station.flux_names_from_yaml">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">flux_names_from_yaml</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inp</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#flux_names_from_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.flux_names_from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve names of fluxlines from yaml file or content</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.main">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.main" title="Permalink to this definition">¶</a></dt>
<dd><p>A main function to convert polygon files</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.merge_station_subloc">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">merge_station_subloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">station_dbase</span></em>, <em class="sig-param"><span class="n">station_subloc</span></em>, <em class="sig-param"><span class="n">default_z</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#merge_station_subloc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.merge_station_subloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge BayDeltaSCHISM station database with subloc file, producing the union of all stations and sublocs including a default entry for stations with no subloc entry</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>station_dbase</strong><span class="classifier">DataFrame</span></dt><dd><p>This should be the input that has only the station id as an index and includes other metadata like x,y,</p>
</dd>
<dt><strong>station_subloc</strong><span class="classifier">DataFrame</span></dt><dd><p>This should have (id,subloc) as an index</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>Result</strong><span class="classifier">DataFrame</span></dt><dd><p>DataFrame that links the information.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.read_flux_out">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">read_flux_out</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">names</span></em>, <em class="sig-param"><span class="n">reftime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#read_flux_out"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.read_flux_out" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.station.read_obs_links">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">read_obs_links</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#read_obs_links"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.read_obs_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an obs_links csv file which has comma as delimiter and (id,subloc,variable) as index</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.read_staout">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">read_staout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">station_infile</span></em>, <em class="sig-param"><span class="n">reftime</span></em>, <em class="sig-param"><span class="n">ret_station_in</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">multi</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">elim_default</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">time_unit</span><span class="o">=</span><span class="default_value">'s'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#read_staout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.read_staout" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a SCHISM staout_* file into a pandas DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">fname</span></dt><dd><p>Path to input staout file or a variable name in [“elev”, “air pressure”, “wind_x”, “wind_y”,  “temp”, “salt”, “u”, “v”, “w”] whose
1-index will be mapped to a name like staout_1 for elev</p>
</dd>
<dt><strong>station_infile</strong><span class="classifier">str or DataFrame</span></dt><dd><p>Path to station.in file or DataFrame from read_station_in</p>
</dd>
<dt><strong>reftime</strong><span class="classifier">Timestampe</span></dt><dd><p>Start of simulation, time basis for staout file elapse time</p>
</dd>
<dt><strong>ret_station_in</strong><span class="classifier">bool</span></dt><dd><p>Return station_in DataFrame for use, which may speed reading of a second file</p>
</dd>
<dt><strong>multi</strong><span class="classifier">bool</span></dt><dd><p>Should the returned data have a multi index for the column with location and sublocation. If False the two are collapsed</p>
</dd>
<dt><strong>elim_default</strong><span class="classifier">bool</span></dt><dd><p>If the MultiIndex is collapsed, stations with subloc “default” will be collapsed. Eg. (“CLC”,”default”) becomes “CLC_default”</p>
</dd>
<dt><strong>time_unit</strong><span class="classifier">string</span></dt><dd><p>Convertible to pandas frequency string, this is the timestamp of the file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>Result</strong><span class="classifier">DataFrame</span></dt><dd><p>DataFrame with hierarchical index (id,subloc) and columns representing the staout data (collapsed as described above</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staout1</span><span class="p">,</span><span class="n">station_in</span> <span class="o">=</span> <span class="n">read_staout</span><span class="p">(</span><span class="s2">&quot;staout_1&quot;</span><span class="p">,</span><span class="s2">&quot;station.in&quot;</span><span class="p">,</span><span class="n">reftime</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
<span class="go">                             ret_station_in = True,multi=False,elim_default=True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staout6</span> <span class="o">=</span> <span class="n">read_staout</span><span class="p">(</span><span class="s2">&quot;staout_6&quot;</span><span class="p">,</span><span class="n">station_in</span><span class="p">,</span><span class="n">reftime</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">multi</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">elim_default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.read_station_dbase">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">read_station_dbase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#read_station_dbase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.read_station_dbase" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a BayDeltaSCHISM station data base csv  file into a pandas DataFrame</p>
<blockquote>
<div><p>The BayDelta SCHISM format is open, but expects these columns:
index x y z ! id subloc “Name”</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">fname</span></dt><dd><p>Path to input station.in style file</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>Result</strong><span class="classifier">DataFrame</span></dt><dd><p>DataFrame with hierarchical index (id,subloc) and columns x,y,z,name</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.read_station_in">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">read_station_in</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#read_station_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.read_station_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a SCHISM station.in file into a pandas DataFrame</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This only reads the tabular part, and assumes the BayDelta SCHISM format with columns:
index x y z ! id subloc “Name”</p>
<p>Note that there is no header and the delimiter is a space. Also note that the text beginning with !
is extra BayDeltaSCHISM extra metadata, not required for vanilla SCHISM</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">fname</span></dt><dd><p>Path to input station.in style file</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>Result</strong><span class="classifier">DataFrame</span></dt><dd><p>DataFrame with hierarchical index (id,subloc) and columns x,y,z,name</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.read_station_out">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">read_station_out</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_base</span></em>, <em class="sig-param"><span class="n">stationinfo</span></em>, <em class="sig-param"><span class="n">var</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#read_station_out"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.read_station_out" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.station.read_station_subloc">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">read_station_subloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#read_station_subloc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.read_station_subloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a BayDeltaSCHISM station_sublocs.csv  file into a pandas DataFrame</p>
<blockquote>
<div><p>The BayDelta SCHISM format has a header and uses “,” as the delimiter and has these columns:
id,subloc,z</p>
<p>The id is the station id, which is the key that joins this file to the station database. ‘subloc’ is a label that describes
the sublocation or subloc and z is the actual elevation of the instrument</p>
<p>Example might be:
id,subloc,z
12345,top,-0.5</p>
<p>Other columns are allowed, but this will commonly merged with the station database file so we avoid column names like ‘name’ that might collide</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">fname</span></dt><dd><p>Path to input station.in style file</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>Result</strong><span class="classifier">DataFrame</span></dt><dd><p>DataFrame with hierarchical index (id,subloc) and data column z</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.staout_name">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">staout_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">var</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#staout_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.staout_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.station.station_names_from_file">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">station_names_from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#station_names_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.station_names_from_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.station.station_subset">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">station_subset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">run_start</span></em>, <em class="sig-param"><span class="n">locs</span></em>, <em class="sig-param"><span class="n">extract_freq</span></em>, <em class="sig-param"><span class="n">convert</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stationfile</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">isflux</span><span class="o">=</span><span class="default_value">'infer'</span></em>, <em class="sig-param"><span class="n">miss</span><span class="o">=</span><span class="default_value">'raise'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#station_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.station_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a subset of stations from an staout file or flux.out file</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>fpath</strong><span class="classifier">str</span></dt><dd><p>Path to the output file to be read</p>
</dd>
<dt><strong>run_start</strong><span class="classifier">pd.Timestamp</span></dt><dd><p>Start time (reference time) for the simulation elapsed time</p>
</dd>
<dt><strong>locs</strong><span class="classifier">pd.DataFrame or str</span></dt><dd><blockquote>
<div><p>A DataFrame with rows specifying the data to subset or a string that is the path to such a file.
There are a few options. Minimally this file should have either one column called “station_id” or
one called “id” and another called “subloc”. If you use station_id, it should be an
underscore-connected combination of id and subloc which should be unique, and this will be the treatment of the output.
of the station. If you use “subloc” you can use “default” leave the subloc column blank. You can also use another optional
column called “alias” and this will become the label used.</p>
</div></blockquote>
<dl class="simple">
<dt>extract_freq<span class="classifier">str or pd.tseries.TimeOffset</span></dt><dd><p>Frequency to extract … this allows some economies if you want, say, 15min data. Use pandas freq string such as ‘15T’ for 15min</p>
</dd>
<dt>convert: str or function</dt><dd><p>A small number of conversions are supported (“ft”, “ec” for uS/cm, “cfs” for flow)</p>
</dd>
<dt>stationfile<span class="classifier">str</span></dt><dd><p>Name of station file such as station.in. In the case of flow this will be a yaml file or fluxflag.prop file produced by our preprocessing system.
If you leave this None, ‘station.in’ in the same directory as the output file will be assumed for staout files. For flow, a string must be supplied
but will be tested first in the directory of execution and then side-by-side in that order.</p>
</dd>
<dt>isflux<span class="classifier">‘infer’ | True | False</span></dt><dd><p>Is the request for flux.out?</p>
</dd>
<dt>miss<span class="classifier">‘raise’ | ‘drop’ | ‘nan’</span></dt><dd><p>What to do when a requested station_id does not exist. The default, raise, helps station lists from growing faulty. ‘drop’ will ignore the column and ‘nan’
will return nans for the column.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>Result</strong><span class="classifier">DataFrame</span></dt><dd><p>DataFrame that returns the converted and subsetted data. Column names will be the ids unless ‘alias’ is provided in locs, in which case those names will be
swapped in.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.station_subset_multidir">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">station_subset_multidir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dirs</span></em>, <em class="sig-param"><span class="n">staoutfile</span></em>, <em class="sig-param"><span class="n">run_start</span></em>, <em class="sig-param"><span class="n">locs</span></em>, <em class="sig-param"><span class="n">extract_freq</span></em>, <em class="sig-param"><span class="n">convert</span></em>, <em class="sig-param"><span class="n">stationfile</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">isflux</span><span class="o">=</span><span class="default_value">'infer'</span></em>, <em class="sig-param"><span class="n">miss</span><span class="o">=</span><span class="default_value">'raise'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#station_subset_multidir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.station_subset_multidir" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a subset of stations from an staout file or flux.out file across a list of directories</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>dirs</strong><span class="classifier">list(str)</span></dt><dd><p>List of directories. The output dataframe will have a column multindex (dir,station_id) where dir is the directory of the output.</p>
</dd>
<dt><strong>fpath</strong><span class="classifier">str</span></dt><dd><p>Path to the output file to be read</p>
</dd>
<dt><strong>run_start</strong><span class="classifier">pd.Timestamp</span></dt><dd><p>Start time (reference time) for the simulation elapsed time</p>
</dd>
<dt><strong>locs</strong><span class="classifier">pd.DataFrame or str</span></dt><dd><blockquote>
<div><p>A DataFrame with rows specifying the data to subset or a string that is the path to such a file.
There are a few options for staout station files. Minimally this file should have either one column called “station_id” or
one called “id” and another called “subloc”. If you use station_id, it should be an
underscore-connected combination of id and subloc and this will be the index treatment of the output.
Flux files only have the station_id option. If you use “subloc” you can use “default” leave the subloc column blank.
You can also include another optional column called “alias” and this will become the label used.</p>
</div></blockquote>
<dl class="simple">
<dt>extract_freq<span class="classifier">str or pd.tseries.TimeOffset</span></dt><dd><p>Frequency to extract … this allows some economies if you want, say, 15min data. Use pandas freq string such as ‘15T’ for 15min</p>
</dd>
<dt>convert: str or function</dt><dd><p>A small number of conversions are supported (“ft”, “ec” for uS/cm, “cfs” for flow)</p>
</dd>
<dt>stationfile<span class="classifier">str</span></dt><dd><p>Name or list of station file such as station.in. You can provide a list of the same length as dirs or a single value which will be assumed
to be appropriate for all the directories. In the case of station.in, you can use None and ‘station.in’ in each directory
will be assumed for staout files. For flow, a string (yaml file) must be supplied but will be tested first in the directory of
execution and then side-by-side in that order.</p>
</dd>
<dt>isflux<span class="classifier">‘infer’ | True | False</span></dt><dd><p>Is the request for flux.out?</p>
</dd>
<dt>miss<span class="classifier">‘raise’ | ‘drop’ | ‘nan’</span></dt><dd><p>What to do when a requested station_id does not exist. The default, raise, helps station lists from growing faulty. ‘drop’ will ignore the column and ‘nan’
will return nans for the column.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>Result</strong><span class="classifier">DataFrame</span></dt><dd><p>DataFrame that returns the converted and subsetted data. Column names will be the ids unless ‘alias’ is provided in locs, in which case those names will be
swapped in.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.station.u">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">u</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#schimpy.station.u" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.station.write_station_in">
<code class="sig-prename descclassname">schimpy.station.</code><code class="sig-name descname">write_station_in</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">station_in</span></em>, <em class="sig-param"><span class="n">request</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/station.html#write_station_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.station.write_station_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a SCHISM station.in file given a pandas DataFrame of metadata</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">fname</span></dt><dd><p>Path to output station.in file</p>
</dd>
<dt><strong>station_in</strong><span class="classifier">DataFrame</span></dt><dd><p>DataFrame that has station id, x, y, z, name and subloc labels (id is the station id, index will be autogenerated)</p>
</dd>
<dt><strong>request</strong><span class="classifier">‘all’ or list(str)</span></dt><dd><p>List of variables to put in output request from the choices ‘elev’, ‘air pressure’, ‘wind_x’, ‘wind_y’, ‘temp’, ‘salt’, ‘u’, ‘v’, ‘w’
or ‘all’ to include them all</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-schimpy.trimesh">
<span id="schimpy-trimesh-module"></span><h2>schimpy.trimesh module<a class="headerlink" href="#module-schimpy.trimesh" title="Permalink to this headline">¶</a></h2>
<p>This is a class to hold an unstructured triangular mesh.</p>
<p>Lots of the codes are copied from Rusty Chris Collerman’s trigrid program
and modified a bit to meet our needs.</p>
<p>Prerequisite: Numpy, rtree package, and libspatialindex for rtree</p>
<dl class="py attribute">
<dt id="schimpy.trimesh.BoundaryTypes">
<code class="sig-prename descclassname">schimpy.trimesh.</code><code class="sig-name descname">BoundaryTypes</code><a class="headerlink" href="#schimpy.trimesh.BoundaryTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.trimesh.Enum</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="schimpy.trimesh.EdgeTypes">
<code class="sig-prename descclassname">schimpy.trimesh.</code><code class="sig-name descname">EdgeTypes</code><a class="headerlink" href="#schimpy.trimesh.EdgeTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.trimesh.Enum</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="schimpy.trimesh.TriMesh">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.trimesh.</code><code class="sig-name descname">TriMesh</code><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class that holds a triangular mesh information</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#schimpy.trimesh.TriMesh.edges" title="schimpy.trimesh.TriMesh.edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">edges</span></code></a></dt><dd><p>Array of edges</p>
</dd>
<dt><a class="reference internal" href="#schimpy.trimesh.TriMesh.elems" title="schimpy.trimesh.TriMesh.elems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">elems</span></code></a></dt><dd><p>Array of node indices of each element.</p>
</dd>
<dt><a class="reference internal" href="#schimpy.trimesh.TriMesh.nodes" title="schimpy.trimesh.TriMesh.nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nodes</span></code></a></dt><dd><p>Node array consisting of three-dimensional coordinates of each node.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.add_boundary" title="schimpy.trimesh.TriMesh.add_boundary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_boundary</span></code></a>(nodes, btype)</p></td>
<td><p>Add boundary types to an edge with the given array of node indices</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.allocate" title="schimpy.trimesh.TriMesh.allocate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code></a>(n_elems, n_nodes)</p></td>
<td><p>Allocate memory for nodes and elems</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.build_edgecenters" title="schimpy.trimesh.TriMesh.build_edgecenters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_edgecenters</span></code></a>()</p></td>
<td><p>Build centers of sides</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.build_edges_from_elems" title="schimpy.trimesh.TriMesh.build_edges_from_elems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_edges_from_elems</span></code></a>()</p></td>
<td><p>This is a function copied and modified from TriGrid</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.deepcopy" title="schimpy.trimesh.TriMesh.deepcopy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">deepcopy</span></code></a>(mesh)</p></td>
<td><p>Deep copy mesh information.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.element2edges" title="schimpy.trimesh.TriMesh.element2edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">element2edges</span></code></a>(elem_i)</p></td>
<td><p>Get edge indices from the give element index elem_i = the element index return = generator of found edge indices</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.find_closest_elems" title="schimpy.trimesh.TriMesh.find_closest_elems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_closest_elems</span></code></a>(pos[, count])</p></td>
<td><p>Find indices of the closet elems with the given position.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.find_closest_nodes" title="schimpy.trimesh.TriMesh.find_closest_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_closest_nodes</span></code></a>(pos[, count, boundary])</p></td>
<td><p>Returns the count closest nodes to the given node in 2D space.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.find_elem" title="schimpy.trimesh.TriMesh.find_elem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_elem</span></code></a>(pos)</p></td>
<td><p>Find a element index from a coordinate pos = A coordinate (2D) return = element index</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.find_elem_with_tolerance" title="schimpy.trimesh.TriMesh.find_elem_with_tolerance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_elem_with_tolerance</span></code></a>(pos, tolerance)</p></td>
<td><p>Find a element index from a coordinate with some tolerance pos = A coordinate (2D) return = element index</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.find_nodes_in_box" title="schimpy.trimesh.TriMesh.find_nodes_in_box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_nodes_in_box</span></code></a>(box)</p></td>
<td><p>Find nodse in a bounding box box = a numpy array of bounding box, [x_min, x_max, y_min, y_max] return = node indices</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.get_edges_from_node" title="schimpy.trimesh.TriMesh.get_edges_from_node"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_edges_from_node</span></code></a>(node_i)</p></td>
<td><p>Get edge indices related to node_i</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.get_elems_i_from_node" title="schimpy.trimesh.TriMesh.get_elems_i_from_node"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_elems_i_from_node</span></code></a>(node_i)</p></td>
<td><p>Get neighboring elements indexes of a node, so-called a ball.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.get_neighbor_nodes" title="schimpy.trimesh.TriMesh.get_neighbor_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_neighbor_nodes</span></code></a>(node_i)</p></td>
<td><p>Get neighboring node indices from the given node index.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.is_elem_on_boundary" title="schimpy.trimesh.TriMesh.is_elem_on_boundary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_elem_on_boundary</span></code></a>(elem_i)</p></td>
<td><p>Check if the given element with index elem_i is on the boundary</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.n_edges" title="schimpy.trimesh.TriMesh.n_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_edges</span></code></a>()</p></td>
<td><p>Get the total number of edges.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.n_elems" title="schimpy.trimesh.TriMesh.n_elems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_elems</span></code></a>()</p></td>
<td><p>Get the total nuber of elems.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.n_nodes" title="schimpy.trimesh.TriMesh.n_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_nodes</span></code></a>()</p></td>
<td><p>Get the total number of nodes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.set_elem" title="schimpy.trimesh.TriMesh.set_elem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_elem</span></code></a>(index, connectivities)</p></td>
<td><p>Set element connectivity information.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.set_node" title="schimpy.trimesh.TriMesh.set_node"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_node</span></code></a>(index, coords)</p></td>
<td><p>Set one node information.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.shortest_path" title="schimpy.trimesh.TriMesh.shortest_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shortest_path</span></code></a>(n1, n2[, boundary_only])</p></td>
<td><p>dijkstra on the edge graph from n1 to n2.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.trimesh.TriMesh.trim_to_left" title="schimpy.trimesh.TriMesh.trim_to_left"><code class="xref py py-obj docutils literal notranslate"><span class="pre">trim_to_left</span></code></a>(paths)</p></td>
<td><p>Given a path, trim all elems to the left of it.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.add_boundary">
<code class="sig-name descname">add_boundary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nodes</span></em>, <em class="sig-param"><span class="n">btype</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.add_boundary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.add_boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>Add boundary types to an edge with the given array of node indices</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_elems</span></em>, <em class="sig-param"><span class="n">n_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.allocate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate memory for nodes and elems</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>n_elems: integer</strong></dt><dd><p>Total number of elems</p>
</dd>
<dt><strong>n_nodes: integer</strong></dt><dd><p>Total number of nodes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.build_edgecenters">
<code class="sig-name descname">build_edgecenters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.build_edgecenters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.build_edgecenters" title="Permalink to this definition">¶</a></dt>
<dd><p>Build centers of sides</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.array</dt><dd><p>list of side centers</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.build_edges_from_elems">
<code class="sig-name descname">build_edges_from_elems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.build_edges_from_elems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.build_edges_from_elems" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a function copied and modified from TriGrid</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.deepcopy">
<code class="sig-name descname">deepcopy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.deepcopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy mesh information.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.edges">
<em class="property">property </em><code class="sig-name descname">edges</code><a class="headerlink" href="#schimpy.trimesh.TriMesh.edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of edges</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Get the array of the edges.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Numpy integer array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.element2edges">
<code class="sig-name descname">element2edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elem_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.element2edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.element2edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Get edge indices from the give element index
elem_i = the element index
return = generator of found edge indices</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.elems">
<em class="property">property </em><code class="sig-name descname">elems</code><a class="headerlink" href="#schimpy.trimesh.TriMesh.elems" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of node indices of each element.
The shape of the array is (# of elems, 3).
It is assumed that all elems are triangular.</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Get the Numpy array of the node indices.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Numpy integer array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.find_closest_elems">
<code class="sig-name descname">find_closest_elems</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pos</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.find_closest_elems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.find_closest_elems" title="Permalink to this definition">¶</a></dt>
<dd><p>Find indices of the closet elems with the given position.
The distance is measured with the element mass center.
All triangular elems is assumed.
pos = position tuple
return = element indices</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.find_closest_nodes">
<code class="sig-name descname">find_closest_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pos</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">boundary</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.find_closest_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.find_closest_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the count closest nodes to the given node in 2D space.
pos = position
count = # of nodes to retrieve
boundary=1: only choose nodes on the boundary.
Copied from TriGrid</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.find_elem">
<code class="sig-name descname">find_elem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pos</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.find_elem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.find_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a element index from a coordinate
pos = A coordinate (2D)
return = element index</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.find_elem_with_tolerance">
<code class="sig-name descname">find_elem_with_tolerance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pos</span></em>, <em class="sig-param"><span class="n">tolerance</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.find_elem_with_tolerance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.find_elem_with_tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a element index from a coordinate with some tolerance
pos = A coordinate (2D)
return = element index</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.find_nodes_in_box">
<code class="sig-name descname">find_nodes_in_box</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">box</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.find_nodes_in_box"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.find_nodes_in_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Find nodse in a bounding box
box = a numpy array of bounding box, [x_min, x_max, y_min, y_max]
return = node indices</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.get_edges_from_node">
<code class="sig-name descname">get_edges_from_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.get_edges_from_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.get_edges_from_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Get edge indices related to node_i</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.get_elems_i_from_node">
<code class="sig-name descname">get_elems_i_from_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.get_elems_i_from_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.get_elems_i_from_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Get neighboring elements indexes of a node, so-called a ball.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.get_neighbor_nodes">
<code class="sig-name descname">get_neighbor_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.get_neighbor_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.get_neighbor_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get neighboring node indices from the given node index.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.is_elem_on_boundary">
<code class="sig-name descname">is_elem_on_boundary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elem_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.is_elem_on_boundary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.is_elem_on_boundary" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Check if the given element with index elem_i is on the boundary</dt><dd><p>elem_i = element index</p>
</dd>
</dl>
<p>return = True if the element is on the boundary, otherwise False</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.n_edges">
<code class="sig-name descname">n_edges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.n_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.n_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total number of edges.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.n_elems">
<code class="sig-name descname">n_elems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.n_elems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.n_elems" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total nuber of elems.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.n_nodes">
<code class="sig-name descname">n_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.n_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.n_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total number of nodes.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.nodes">
<em class="property">property </em><code class="sig-name descname">nodes</code><a class="headerlink" href="#schimpy.trimesh.TriMesh.nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Node array consisting of three-dimensional coordinates of each node.
The shape of the array is (# of nodes, 3)</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Get the array of the nodes.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Numpy float array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.set_elem">
<code class="sig-name descname">set_elem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span></em>, <em class="sig-param"><span class="n">connectivities</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.set_elem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.set_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Set element connectivity information.
Memory for elems must be allocated already.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>index: integer</strong></dt><dd><p>Zero-based element index</p>
</dd>
<dt><strong>connectivities: Numpy array</strong></dt><dd><p>a Numpy array of element connectivity, which means node
indies in the element.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.set_node">
<code class="sig-name descname">set_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span></em>, <em class="sig-param"><span class="n">coords</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.set_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.set_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Set one node information.
Memory for nodes must be allocated already.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>index: integer</strong></dt><dd><p>Zero-based node index</p>
</dd>
<dt><strong>coords: Numpy array</strong></dt><dd><p>a Numpy array of node coordinates</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.shortest_path">
<code class="sig-name descname">shortest_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n1</span></em>, <em class="sig-param"><span class="n">n2</span></em>, <em class="sig-param"><span class="n">boundary_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.shortest_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.shortest_path" title="Permalink to this definition">¶</a></dt>
<dd><p>dijkstra on the edge graph from n1 to n2.
copied and modified form Rusty’s code.
n1 = node_i for one end of the path
n2 = node_i for the other end
boundary_only = limit search to edges on the boundary (have
a -1 for element2)</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.trimesh.TriMesh.trim_to_left">
<code class="sig-name descname">trim_to_left</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paths</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#TriMesh.trim_to_left"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.TriMesh.trim_to_left" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a path, trim all elems to the left of it.
This fuction is lifted and modified slightly from Rusty’s code.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.trimesh.enum">
<code class="sig-prename descclassname">schimpy.trimesh.</code><code class="sig-name descname">enum</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">enums</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/trimesh.html#enum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.trimesh.enum" title="Permalink to this definition">¶</a></dt>
<dd><p>A enum type definition.
Copied from <a class="reference external" href="http://stackoverflow.com/questions/36932/how-can-i-represent-an-enum-in-python">http://stackoverflow.com/questions/36932/how-can-i-represent-an-enum-in-python</a></p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.triquadmesh">
<span id="schimpy-triquadmesh-module"></span><h2>schimpy.triquadmesh module<a class="headerlink" href="#module-schimpy.triquadmesh" title="Permalink to this headline">¶</a></h2>
<p>This is a class to hold an unstructured triangular and quad mesh
for SCHISM copied and modified
from Rusty Chris Collerman’s trigrid.</p>
<p>Prerequisite: Numpy, rtree package, and libspatialindex for rtree</p>
<dl class="py attribute">
<dt id="schimpy.triquadmesh.BoundaryType">
<code class="sig-prename descclassname">schimpy.triquadmesh.</code><code class="sig-name descname">BoundaryType</code><a class="headerlink" href="#schimpy.triquadmesh.BoundaryType" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.triquadmesh.Enum</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="schimpy.triquadmesh.EdgeType">
<code class="sig-prename descclassname">schimpy.triquadmesh.</code><code class="sig-name descname">EdgeType</code><a class="headerlink" href="#schimpy.triquadmesh.EdgeType" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.triquadmesh.Enum</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="schimpy.triquadmesh.NodeType">
<code class="sig-prename descclassname">schimpy.triquadmesh.</code><code class="sig-name descname">NodeType</code><a class="headerlink" href="#schimpy.triquadmesh.NodeType" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">schimpy.triquadmesh.Enum</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="schimpy.triquadmesh.TriQuadMesh">
<em class="property">class </em><code class="sig-prename descclassname">schimpy.triquadmesh.</code><code class="sig-name descname">TriQuadMesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logger</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class that holds a triangular and quadrilateral mesh information</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.edges" title="schimpy.triquadmesh.TriQuadMesh.edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">edges</span></code></a></dt><dd><p>Get the array of edges</p>
</dd>
<dt><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.elems" title="schimpy.triquadmesh.TriQuadMesh.elems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">elems</span></code></a></dt><dd><p>Array of node indexes of all elements.</p>
</dd>
<dt><strong>node2elems</strong></dt><dd></dd>
<dt><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.nodes" title="schimpy.triquadmesh.TriQuadMesh.nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nodes</span></code></a></dt><dd><p>Node array consisting of three-dimensional coordinates of each node.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.add_boundary" title="schimpy.triquadmesh.TriQuadMesh.add_boundary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_boundary</span></code></a>(nodes, btype)</p></td>
<td><p>Add boundary types to an edge with the given array of node indexes</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.allocate" title="schimpy.triquadmesh.TriQuadMesh.allocate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">allocate</span></code></a>(n_elems, n_nodes)</p></td>
<td><p>Allocate memory for nodes and elems</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.build_edgecenters" title="schimpy.triquadmesh.TriQuadMesh.build_edgecenters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_edgecenters</span></code></a>()</p></td>
<td><p>Build centers of sides</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.build_edges_from_elems" title="schimpy.triquadmesh.TriQuadMesh.build_edges_from_elems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_edges_from_elems</span></code></a>([shift])</p></td>
<td><p>Build edge array from the elements.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.build_elem_balls" title="schimpy.triquadmesh.TriQuadMesh.build_elem_balls"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_elem_balls</span></code></a>()</p></td>
<td><p>Build balls of elements around each node</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.compare" title="schimpy.triquadmesh.TriQuadMesh.compare"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compare</span></code></a>(mesh)</p></td>
<td><p>Compare the mesh with another</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.elem" title="schimpy.triquadmesh.TriQuadMesh.elem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">elem</span></code></a>(elem_i)</p></td>
<td><p>Get connectivity of an element</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.element2edges" title="schimpy.triquadmesh.TriQuadMesh.element2edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">element2edges</span></code></a>(elem_i)</p></td>
<td><p>Get edge indexes of the give element index</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.find_closest_elems" title="schimpy.triquadmesh.TriQuadMesh.find_closest_elems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_closest_elems</span></code></a>(pos[, count])</p></td>
<td><p>Find indexes of the closet elems with the given position.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.find_closest_nodes" title="schimpy.triquadmesh.TriQuadMesh.find_closest_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_closest_nodes</span></code></a>(pos[, count, boundary])</p></td>
<td><p>Returns the count closest nodes to the given node in 2D space.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.find_edge" title="schimpy.triquadmesh.TriQuadMesh.find_edge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_edge</span></code></a>(nodes[, direction])</p></td>
<td><p>Find an edge index with the two given node indexes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.find_elem" title="schimpy.triquadmesh.TriQuadMesh.find_elem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_elem</span></code></a>(pos)</p></td>
<td><p>Find a element index from a coordinate pos = A coordinate (2D) return = element index</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.find_intersecting_elems_with_line" title="schimpy.triquadmesh.TriQuadMesh.find_intersecting_elems_with_line"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_intersecting_elems_with_line</span></code></a>(line_segment)</p></td>
<td><p>Format of the line segment: start_x, start_y, end_x, end_y</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.find_neighbors_on_segment" title="schimpy.triquadmesh.TriQuadMesh.find_neighbors_on_segment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_neighbors_on_segment</span></code></a>(line_segment)</p></td>
<td><p>Find elements on the line_segment and neighbors that are all to the left (downstream) Format of the line segment: start_x, start_y, end_x, end_y Returns a list of elements on the segment and a list of neighbors.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.find_nodes_in_box" title="schimpy.triquadmesh.TriQuadMesh.find_nodes_in_box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_nodes_in_box</span></code></a>(box)</p></td>
<td><p>Find nodes in a bounding box.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.get_edges_from_node" title="schimpy.triquadmesh.TriQuadMesh.get_edges_from_node"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_edges_from_node</span></code></a>(node_i)</p></td>
<td><p>Get edge indexes related to node_i</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.get_elems_i_from_node" title="schimpy.triquadmesh.TriQuadMesh.get_elems_i_from_node"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_elems_i_from_node</span></code></a>(node_i)</p></td>
<td><p>Get the ball of elements around a node, node_i</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.get_neighbor_nodes" title="schimpy.triquadmesh.TriQuadMesh.get_neighbor_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_neighbor_nodes</span></code></a>(node_i)</p></td>
<td><p>Get neighboring node indexes from the given node index.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.is_elem_on_boundary" title="schimpy.triquadmesh.TriQuadMesh.is_elem_on_boundary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_elem_on_boundary</span></code></a>(elem_i)</p></td>
<td><p>Check if the given element with index elem_i is on the boundary</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.mark_elem_deleted" title="schimpy.triquadmesh.TriQuadMesh.mark_elem_deleted"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mark_elem_deleted</span></code></a>(elem_i)</p></td>
<td><p>Mark an element as deleted or invalid.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.n_edges" title="schimpy.triquadmesh.TriQuadMesh.n_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_edges</span></code></a>()</p></td>
<td><p>Get the total number of edges.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.n_elems" title="schimpy.triquadmesh.TriQuadMesh.n_elems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_elems</span></code></a>()</p></td>
<td><p>Get the total number of elements.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.n_nodes" title="schimpy.triquadmesh.TriQuadMesh.n_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_nodes</span></code></a>()</p></td>
<td><p>Get the total number of nodes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.renumber" title="schimpy.triquadmesh.TriQuadMesh.renumber"><code class="xref py py-obj docutils literal notranslate"><span class="pre">renumber</span></code></a>()</p></td>
<td><p>removes duplicate elems and nodes that are not referenced by any element, as well as elems that have been deleted (==-1) This function is lifted and modified slightly from Rusty’s code.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.set_elem" title="schimpy.triquadmesh.TriQuadMesh.set_elem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_elem</span></code></a>(index, connectivity)</p></td>
<td><p>Set element connectivity information.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.set_node" title="schimpy.triquadmesh.TriQuadMesh.set_node"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_node</span></code></a>(index, coords)</p></td>
<td><p>Set one node information.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.shortest_path" title="schimpy.triquadmesh.TriQuadMesh.shortest_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shortest_path</span></code></a>(n1, n2[, boundary_only])</p></td>
<td><p>Dijkstra on the edge graph from node n1 to n2.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#schimpy.triquadmesh.TriQuadMesh.trim_elems" title="schimpy.triquadmesh.TriQuadMesh.trim_elems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">trim_elems</span></code></a>(paths[, left])</p></td>
<td><p>Given a path, trim all elems to the left of it.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>node</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.add_boundary">
<code class="sig-name descname">add_boundary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nodes</span></em>, <em class="sig-param"><span class="n">btype</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.add_boundary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.add_boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>Add boundary types to an edge with the given array of node indexes</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_elems</span></em>, <em class="sig-param"><span class="n">n_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.allocate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate memory for nodes and elems</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>n_elems: int</strong></dt><dd><p>Total number of elems</p>
</dd>
<dt><strong>n_nodes: int</strong></dt><dd><p>Total number of nodes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.build_edgecenters">
<code class="sig-name descname">build_edgecenters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.build_edgecenters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.build_edgecenters" title="Permalink to this definition">¶</a></dt>
<dd><p>Build centers of sides</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>numpy.array</dt><dd><p>list of side centers</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.build_edges_from_elems">
<code class="sig-name descname">build_edges_from_elems</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shift</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.build_edges_from_elems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.build_edges_from_elems" title="Permalink to this definition">¶</a></dt>
<dd><p>Build edge array from the elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>shift:</strong></dt><dd><p>shift of indexing in edged building. It is introduce to keep
the ordering of edges in line with SCHISM Mesh.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.build_elem_balls">
<code class="sig-name descname">build_elem_balls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.build_elem_balls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.build_elem_balls" title="Permalink to this definition">¶</a></dt>
<dd><p>Build balls of elements around each node</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.compare">
<code class="sig-name descname">compare</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare the mesh with another</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mesh: triquadmesh.TriQuadMesh</strong></dt><dd><p>a mesh to compare</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>boolean</dt><dd><p>True if they have identical node and element array</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.edges">
<em class="property">property </em><code class="sig-name descname">edges</code><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the array of edges</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Get the array of the edges.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Numpy integer array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.elem">
<code class="sig-name descname">elem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elem_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.elem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Get connectivity of an element</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>elem_i: int</strong></dt><dd><p>element index</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Numpy int32 array</dt><dd><p>connectivity of the element (node indexes of the element)
None, if the element is marked as deleted</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.element2edges">
<code class="sig-name descname">element2edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elem_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.element2edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.element2edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Get edge indexes of the give element index</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>elem_i: int</strong></dt><dd><p>the element index</p>
</dd>
<dt><strong>Returns</strong></dt><dd></dd>
<dt><strong>——-</strong></dt><dd></dd>
<dt><strong>array of int</strong></dt><dd><p>edge indexes of the element</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.elems">
<em class="property">property </em><code class="sig-name descname">elems</code><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.elems" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of node indexes of all elements.
The shape of the array is (# of elems, 5).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>list of Numpy integer array</dt><dd><p>list of node indexes for all elements</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.find_closest_elems">
<code class="sig-name descname">find_closest_elems</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pos</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.find_closest_elems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.find_closest_elems" title="Permalink to this definition">¶</a></dt>
<dd><p>Find indexes of the closet elems with the given position.
The distance is measured with the element mass center.
All triangular elems is assumed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pos: array-like</strong></dt><dd><p>2D position</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>int or list</dt><dd><p>element index or indexes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.find_closest_nodes">
<code class="sig-name descname">find_closest_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pos</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">boundary</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.find_closest_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.find_closest_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the count closest nodes to the given node in 2D space.
Roughly copied from trigrid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pos: array-like</strong></dt><dd><p>position</p>
</dd>
<dt><strong>count: int</strong></dt><dd><p># of nodes to retrieve</p>
</dd>
<dt><strong>boundary: int 1</strong></dt><dd><p>only choose nodes on the boundary.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>int or list</dt><dd><p>nearest node indexes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.find_edge">
<code class="sig-name descname">find_edge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nodes</span></em>, <em class="sig-param"><span class="n">direction</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.find_edge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.find_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Find an edge index with the two given node indexes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nodes: array-like</strong></dt><dd><p>two node indexes</p>
</dd>
<dt><strong>direction:</strong></dt><dd><p>match the ordering of the nodes when an edge is found.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>int</dt><dd><p>an edge index, None if not found</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.find_elem">
<code class="sig-name descname">find_elem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pos</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.find_elem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.find_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a element index from a coordinate
pos = A coordinate (2D)
return = element index</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.find_intersecting_elems_with_line">
<code class="sig-name descname">find_intersecting_elems_with_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line_segment</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.find_intersecting_elems_with_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.find_intersecting_elems_with_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Format of the line segment: start_x, start_y, end_x, end_y</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.find_neighbors_on_segment">
<code class="sig-name descname">find_neighbors_on_segment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line_segment</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.find_neighbors_on_segment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.find_neighbors_on_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>Find elements on the line_segment and neighbors that are all to the left (downstream)
Format of the line segment: start_x, start_y, end_x, end_y
Returns a list of elements on the segment and a list of neighbors. The lists are not guarateed to be ordered spatially</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.find_nodes_in_box">
<code class="sig-name descname">find_nodes_in_box</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">box</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.find_nodes_in_box"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.find_nodes_in_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Find nodes in a bounding box. Note that the box is not interleaved.
The backend is based on R-tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>box: array-like</strong></dt><dd><p>array of bounding box, [x_min, x_max, y_min, y_max]</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>set</dt><dd><p>node indexes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.get_edges_from_node">
<code class="sig-name descname">get_edges_from_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.get_edges_from_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.get_edges_from_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Get edge indexes related to node_i</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>node_i: int</strong></dt><dd><p>Node index (zero-based)</p>
</dd>
<dt><strong>Returns</strong></dt><dd></dd>
<dt><strong>——-</strong></dt><dd></dd>
<dt><strong>list</strong></dt><dd><p>a list of edges</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.get_elems_i_from_node">
<code class="sig-name descname">get_elems_i_from_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.get_elems_i_from_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.get_elems_i_from_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the ball of elements around a node, node_i</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>node_i: int</strong></dt><dd><p>node index (zero-based)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>set</dt><dd><p>set of element indexes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.get_neighbor_nodes">
<code class="sig-name descname">get_neighbor_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.get_neighbor_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.get_neighbor_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get neighboring node indexes from the given node index.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.is_elem_on_boundary">
<code class="sig-name descname">is_elem_on_boundary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elem_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.is_elem_on_boundary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.is_elem_on_boundary" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Check if the given element with index elem_i is on the boundary</dt><dd><p>elem_i = element index</p>
</dd>
</dl>
<p>return = True if the element is on the boundary, otherwise False</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.mark_elem_deleted">
<code class="sig-name descname">mark_elem_deleted</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elem_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.mark_elem_deleted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.mark_elem_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark an element as deleted or invalid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>elem_i: int</strong></dt><dd><p>element index to mark</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.n_edges">
<code class="sig-name descname">n_edges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.n_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.n_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total number of edges.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.n_elems">
<code class="sig-name descname">n_elems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.n_elems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.n_elems" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total number of elements.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.n_nodes">
<code class="sig-name descname">n_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.n_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.n_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total number of nodes.</p>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.node">
<code class="sig-name descname">node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.node2elems">
<em class="property">property </em><code class="sig-name descname">node2elems</code><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.node2elems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.nodes">
<em class="property">property </em><code class="sig-name descname">nodes</code><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Node array consisting of three-dimensional coordinates of each node.
The shape of the array is (# of nodes, 3)</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Get the array of the nodes.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Numpy float array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.renumber">
<code class="sig-name descname">renumber</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.renumber"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.renumber" title="Permalink to this definition">¶</a></dt>
<dd><p>removes duplicate elems and nodes that are not referenced
by any element, as well as elems that have been deleted (==-1)
This function is lifted and modified slightly from Rusty’s code.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>dict</dt><dd><dl class="simple">
<dt>{‘valid_elems’:new_elems, ‘pointmap’:old_indexes,</dt><dd><p>‘valid_nodes’:active_nodes}</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.set_elem">
<code class="sig-name descname">set_elem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span></em>, <em class="sig-param"><span class="n">connectivity</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.set_elem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.set_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Set element connectivity information.
Memory for elems must be allocated already.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>index: integer</strong></dt><dd><p>Zero-based element index</p>
</dd>
<dt><strong>connectivity: Numpy array</strong></dt><dd><p>a Numpy array of element connectivity, which means node
indexes in the element.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.set_node">
<code class="sig-name descname">set_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span></em>, <em class="sig-param"><span class="n">coords</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.set_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.set_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Set one node information.
Memory for nodes must be allocated already.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>index: integer</strong></dt><dd><p>Zero-based node index</p>
</dd>
<dt><strong>coords: Numpy array</strong></dt><dd><p>a Numpy array of node coordinates</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.shortest_path">
<code class="sig-name descname">shortest_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n1</span></em>, <em class="sig-param"><span class="n">n2</span></em>, <em class="sig-param"><span class="n">boundary_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.shortest_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.shortest_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Dijkstra on the edge graph from node n1 to n2.
copied and modified form Rusty’s code.
Keep in mind that the solution can be non-unique
because there are multiple paths that have the same distances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>n1: int</strong></dt><dd><p>node index for one end of the path</p>
</dd>
<dt><strong>n2: int</strong></dt><dd><p>node_i for the other end</p>
</dd>
<dt><strong>boundary_only: boolean</strong></dt><dd><p>limit search to edges on the boundary</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>shortest node indexes or None if it cannot be found</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="schimpy.triquadmesh.TriQuadMesh.trim_elems">
<code class="sig-name descname">trim_elems</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paths</span></em>, <em class="sig-param"><span class="n">left</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#TriQuadMesh.trim_elems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.TriQuadMesh.trim_elems" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a path, trim all elems to the left of it.
This function is lifted and modified slightly from Rusty’s code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>paths: array of integer array-like</strong></dt><dd><p>arrays of cut paths in arrays of node indexes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="schimpy.triquadmesh.enum">
<code class="sig-prename descclassname">schimpy.triquadmesh.</code><code class="sig-name descname">enum</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">enums</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/triquadmesh.html#enum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.triquadmesh.enum" title="Permalink to this definition">¶</a></dt>
<dd><p>A enum type definition</p>
<p>Copied from <a class="reference external" href="http://stackoverflow.com/questions/36932/how-can-i-represent-an-enum-in-python">http://stackoverflow.com/questions/36932/how-can-i-represent-an-enum-in-python</a></p>
</dd></dl>

</div>
<div class="section" id="module-schimpy.unit_conversions">
<span id="schimpy-unit-conversions-module"></span><h2>schimpy.unit_conversions module<a class="headerlink" href="#module-schimpy.unit_conversions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.unit_conversions.celcius_to_fahrenheit">
<code class="sig-prename descclassname">schimpy.unit_conversions.</code><code class="sig-name descname">celcius_to_fahrenheit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/unit_conversions.html#celcius_to_fahrenheit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.unit_conversions.celcius_to_fahrenheit" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert cfs to cms</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.unit_conversions.cfs_to_cms">
<code class="sig-prename descclassname">schimpy.unit_conversions.</code><code class="sig-name descname">cfs_to_cms</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/unit_conversions.html#cfs_to_cms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.unit_conversions.cfs_to_cms" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert cfs to cms</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.unit_conversions.cms_to_cfs">
<code class="sig-prename descclassname">schimpy.unit_conversions.</code><code class="sig-name descname">cms_to_cfs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/unit_conversions.html#cms_to_cfs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.unit_conversions.cms_to_cfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert cms to cfs</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.unit_conversions.ec_psu_25c">
<code class="sig-prename descclassname">schimpy.unit_conversions.</code><code class="sig-name descname">ec_psu_25c</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts_ec</span></em>, <em class="sig-param"><span class="n">hill_correction</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/unit_conversions.html#ec_psu_25c"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.unit_conversions.ec_psu_25c" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert scalar or vector ec to psu assuming 25C temperature
and no low salinity correction
Note: The input argument, ts_ec, will be altered.</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.unit_conversions.fahrenheit_to_celcius">
<code class="sig-prename descclassname">schimpy.unit_conversions.</code><code class="sig-name descname">fahrenheit_to_celcius</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/unit_conversions.html#fahrenheit_to_celcius"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.unit_conversions.fahrenheit_to_celcius" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert cfs to cms</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.unit_conversions.ft_to_m">
<code class="sig-prename descclassname">schimpy.unit_conversions.</code><code class="sig-name descname">ft_to_m</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/unit_conversions.html#ft_to_m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.unit_conversions.ft_to_m" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert foot to meter</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.unit_conversions.m_to_ft">
<code class="sig-prename descclassname">schimpy.unit_conversions.</code><code class="sig-name descname">m_to_ft</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/unit_conversions.html#m_to_ft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.unit_conversions.m_to_ft" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert meter to foot
WARNING: The function modifies the input argument if it is TimeSeries</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.unit_conversions.psu_ec_25c">
<code class="sig-prename descclassname">schimpy.unit_conversions.</code><code class="sig-name descname">psu_ec_25c</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">psu</span></em>, <em class="sig-param"><span class="n">refine</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">hill_correction</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/unit_conversions.html#psu_ec_25c"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.unit_conversions.psu_ec_25c" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion from psu to ec. If used without refinement,
this is the Schemel conversion, otherwise uses root-finding
Note that the round trip ec-psu-ec tends to wander a lot without refine = True.
The refinement usually takes 4-6 iterations</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.unit_conversions.psu_ec_25c_scalar">
<code class="sig-prename descclassname">schimpy.unit_conversions.</code><code class="sig-name descname">psu_ec_25c_scalar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">psu</span></em>, <em class="sig-param"><span class="n">refine</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">hill_correction</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/unit_conversions.html#psu_ec_25c_scalar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.unit_conversions.psu_ec_25c_scalar" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion from psu to ec for a scalar. If used without refinement,
this is the Schemel conversion, otherwise uses root-finding
Note that the round trip ec-psu-ec tends to wander a lot without refine = True.
The refinement usually takes 4-6 iterations</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.unit_conversions.psu_ec_resid">
<code class="sig-prename descclassname">schimpy.unit_conversions.</code><code class="sig-name descname">psu_ec_resid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">psu</span></em>, <em class="sig-param"><span class="n">hill_correction</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/unit_conversions.html#psu_ec_resid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.unit_conversions.psu_ec_resid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.vgrid_opt2">
<span id="schimpy-vgrid-opt2-module"></span><h2>schimpy.vgrid_opt2 module<a class="headerlink" href="#module-schimpy.vgrid_opt2" title="Permalink to this headline">¶</a></h2>
<p>Package for optimising vgrid smoothness, shape and completeness</p>
<dl class="py function">
<dt id="schimpy.vgrid_opt2.example">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">example</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.example" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.fix_depth">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">fix_depth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zcor</span></em>, <em class="sig-param"><span class="n">zcornew</span></em>, <em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#fix_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.fix_depth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.gradient_matrix">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">gradient_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">sidedist2</span></em>, <em class="sig-param"><span class="n">sidemasked</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#gradient_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.gradient_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.hess_base">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">hess_base</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xvar</span></em>, <em class="sig-param"><span class="n">zcorig</span></em>, <em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">ndx</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">gradmat</span></em>, <em class="sig-param"><span class="n">sidelen2</span></em>, <em class="sig-param"><span class="n">nodemasked</span></em>, <em class="sig-param"><span class="n">sidemasked</span></em>, <em class="sig-param"><span class="n">ata</span></em>, <em class="sig-param"><span class="n">dx2fac</span></em>, <em class="sig-param"><span class="n">curvewgt</span></em>, <em class="sig-param"><span class="n">foldwgt</span></em>, <em class="sig-param"><span class="n">foldfrac</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#hess_base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.hess_base" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.incr_grad">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">incr_grad</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grad</span></em>, <em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">val</span></em>, <em class="sig-param"><span class="n">ndx</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#incr_grad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.incr_grad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.index_interior">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">index_interior</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mat</span></em>, <em class="sig-param"><span class="n">nodemasked</span></em>, <em class="sig-param"><span class="n">nlevel</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#index_interior"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.index_interior" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.laplace2">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">laplace2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">nodemasked</span></em>, <em class="sig-param"><span class="n">sidemasked</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#laplace2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.laplace2" title="Permalink to this definition">¶</a></dt>
<dd><p>produces a 2d matrix</p>
</dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.mesh_opt">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">mesh_opt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zcor</span></em>, <em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">ndx</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">gradmat</span></em>, <em class="sig-param"><span class="n">sidelen2</span></em>, <em class="sig-param"><span class="n">nodemasked</span></em>, <em class="sig-param"><span class="n">sidemasked</span></em>, <em class="sig-param"><span class="n">ata</span></em>, <em class="sig-param"><span class="n">dx2fac</span></em>, <em class="sig-param"><span class="n">curvewgt</span></em>, <em class="sig-param"><span class="n">foldwgt</span></em>, <em class="sig-param"><span class="n">foldfrac</span></em>, <em class="sig-param"><span class="n">href_hess</span></em>, <em class="sig-param"><span class="n">grad_hess</span></em>, <em class="sig-param"><span class="n">laplace_hess</span></em>, <em class="sig-param"><span class="n">maxiter</span><span class="o">=</span><span class="default_value">8000</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#mesh_opt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.mesh_opt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.meshessp">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">meshessp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xvar</span></em>, <em class="sig-param"><span class="n">p</span></em>, <em class="sig-param"><span class="n">zcorig</span></em>, <em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">ndx</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">gradmat</span></em>, <em class="sig-param"><span class="n">sidelen2</span></em>, <em class="sig-param"><span class="n">nodemasked</span></em>, <em class="sig-param"><span class="n">sidemasked</span></em>, <em class="sig-param"><span class="n">ata</span></em>, <em class="sig-param"><span class="n">dx2fac</span></em>, <em class="sig-param"><span class="n">curvewgt</span></em>, <em class="sig-param"><span class="n">foldwgt</span></em>, <em class="sig-param"><span class="n">foldfrac</span></em>, <em class="sig-param"><span class="n">href_hess</span></em>, <em class="sig-param"><span class="n">grad_hess</span></em>, <em class="sig-param"><span class="n">laplace_hess</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#meshessp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.meshessp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.meshgrad">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">meshgrad</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xvar</span></em>, <em class="sig-param"><span class="n">zcorig</span></em>, <em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">ndx</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">gradmat</span></em>, <em class="sig-param"><span class="n">sidelen2</span></em>, <em class="sig-param"><span class="n">nodemasked</span></em>, <em class="sig-param"><span class="n">sidemasked</span></em>, <em class="sig-param"><span class="n">ata</span></em>, <em class="sig-param"><span class="n">dx2fac</span></em>, <em class="sig-param"><span class="n">curvewgt</span></em>, <em class="sig-param"><span class="n">foldwgt</span></em>, <em class="sig-param"><span class="n">foldfrac</span></em>, <em class="sig-param"><span class="n">href_hess</span></em>, <em class="sig-param"><span class="n">grad_hess</span></em>, <em class="sig-param"><span class="n">laplace_hess</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#meshgrad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.meshgrad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.meshobj">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">meshobj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xvar</span></em>, <em class="sig-param"><span class="n">zcorig</span></em>, <em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">nlayer</span></em>, <em class="sig-param"><span class="n">ndx</span></em>, <em class="sig-param"><span class="n">eta</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">gradmat</span></em>, <em class="sig-param"><span class="n">sidelen2</span></em>, <em class="sig-param"><span class="n">nodemasked</span></em>, <em class="sig-param"><span class="n">sidemasked</span></em>, <em class="sig-param"><span class="n">ata</span></em>, <em class="sig-param"><span class="n">dx2fac</span></em>, <em class="sig-param"><span class="n">curvewgt</span></em>, <em class="sig-param"><span class="n">foldwgt</span></em>, <em class="sig-param"><span class="n">foldfrac</span></em>, <em class="sig-param"><span class="n">href_hess</span></em>, <em class="sig-param"><span class="n">grad_hess</span></em>, <em class="sig-param"><span class="n">laplace_hess</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#meshobj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.meshobj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.smooth_heights">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">smooth_heights</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zcor</span></em>, <em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">wgt</span><span class="o">=</span><span class="default_value">0.2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#smooth_heights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.smooth_heights" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.targeth2inv">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">targeth2inv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zbar</span></em>, <em class="sig-param"><span class="n">eta</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#targeth2inv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.targeth2inv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.test_gradients">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">test_gradients</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#test_gradients"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.test_gradients" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.test_vgrid_spacing">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">test_vgrid_spacing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zcor</span></em>, <em class="sig-param"><span class="n">zcorig</span></em>, <em class="sig-param"><span class="n">nodemasked</span></em>, <em class="sig-param"><span class="n">foldfrac</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#test_vgrid_spacing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.test_vgrid_spacing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="schimpy.vgrid_opt2.triweight">
<code class="sig-prename descclassname">schimpy.vgrid_opt2.</code><code class="sig-name descname">triweight</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/vgrid_opt2.html#triweight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.vgrid_opt2.triweight" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-schimpy.write_ts">
<span id="schimpy-write-ts-module"></span><h2>schimpy.write_ts module<a class="headerlink" href="#module-schimpy.write_ts" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="schimpy.write_ts.cdec_header">
<code class="sig-prename descclassname">schimpy.write_ts.</code><code class="sig-name descname">cdec_header</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="n">tz</span></em>, <em class="sig-param"><span class="n">var</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/write_ts.html#cdec_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.write_ts.cdec_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to create a cdec-like header
Requres some metadata like time zone, variable name and unit which will be
pulled from series if omitted from input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname: str</strong></dt><dd><p>Output file name or path</p>
</dd>
<dt><strong>ts: :class:`~vtools.data.timeseries.TimeSeries`</strong></dt><dd><p>The time series to be stored</p>
</dd>
<dt><strong>tz: string</strong></dt><dd><p>Time zone of data</p>
</dd>
<dt><strong>var: string</strong></dt><dd><p>Variable name</p>
</dd>
<dt><strong>unit: string</strong></dt><dd><p>Unit of the time series</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>head: string</dt><dd><p>CDEC-style header</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="schimpy.write_ts.write_ts">
<code class="sig-prename descclassname">schimpy.write_ts.</code><code class="sig-name descname">write_ts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">dateformat</span><span class="o">=</span><span class="default_value">'%Y-%m-%d %H:%M'</span></em>, <em class="sig-param"><span class="n">fmt</span><span class="o">=</span><span class="default_value">'%.2f'</span></em>, <em class="sig-param"><span class="n">header</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">','</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/schimpy/write_ts.html#write_ts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#schimpy.write_ts.write_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate missing values within a time series by interpolation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ts: :class:`~vtools.data.timeseries.TimeSeries`</strong></dt><dd><p>The time series to be stored</p>
</dd>
<dt><strong>fname: string</strong></dt><dd><p>Output file name or path</p>
</dd>
<dt><strong>dateformat: string</strong></dt><dd><p>Date format compatible with datetime.datetime.strftime</p>
</dd>
<dt><strong>fmt: string</strong></dt><dd><p>Value format compatible withy numpy.savetxt</p>
</dd>
<dt><strong>header: string</strong></dt><dd><p>Header to add to top of file</p>
</dd>
<dt><strong>sep: string</strong></dt><dd><p>Delimieter for fields, often a space or comma</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Writing csv format with date format 2009-03-15 21:00 and space separated values</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">write_ts</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span><span class="s2">&quot;test.csv&quot;</span><span class="p">,</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M&quot;</span><span class="p">,</span><span class="s2">&quot;</span><span class="si">%.2f</span><span class="s2">,</span><span class="si">%.2f</span><span class="s2">&quot;</span><span class="p">,</span><span class="s2">&quot;Datetime,u,v&quot;</span><span class="p">,</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Write vtide format with same format and space separated values,
this time taking advantage of defaults</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">write_ts</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span><span class="s2">&quot;test_vtide.dat&quot;</span><span class="p">,</span><span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Writing cdec format, with csv values and date and time separated. The header
is generated with the cdec_header helper function</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">head</span> <span class="o">=</span> <span class="n">cdec_header</span><span class="p">(</span><span class="s2">&quot;practice.csv&quot;</span><span class="p">,</span><span class="n">ts</span><span class="p">,</span><span class="s2">&quot;PST&quot;</span><span class="p">,</span><span class="s2">&quot;Wind Vel&quot;</span><span class="p">,</span><span class="s2">&quot;m/s&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_ts</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span><span class="s2">&quot;test_cdec.csv&quot;</span><span class="p">,</span><span class="n">CDECDATEFMT</span><span class="p">,</span><span class="s2">&quot;</span><span class="si">%.2f</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="n">head</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-schimpy">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-schimpy" title="Permalink to this headline">¶</a></h2>
<p>Top-level package for schimpy.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="history.html" title="History"
             >next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="schimpy"
             >previous</a> |</li>
        <li><a href="index.html">home</a>|&nbsp;</li>
        <li><a href="search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="modules.html" >schimpy</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">schimpy package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, California Department of Water Resources.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>